<!DOCTYPE html>
<html lang="es">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-RKS4HGY5XD"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-RKS4HGY5XD');
  </script>
  
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" href="png/favicon.png" sizes="32x32">
  <link rel="icon" type="image/png" href="png/favicon.png" sizes="16x16">
  <link rel="apple-touch-icon" href="png/favicon.png">
  <link rel="shortcut icon" href="png/favicon.png">
  <title>Innovakit - Kits de Electr√≥nica en Paraguay</title>
  <meta name="keywords" content="innovakit paraguay, innovakit electr√≥nica, kits arduino paraguay, proyectos electr√≥nicos asunci√≥n, ferias cient√≠ficas paraguay">
 
  <!-- Meta tags mejorados -->
  <meta name="description" content="Innovakit ofrece kits de electr√≥nica, asesor√≠as t√©cnicas y proyectos personalizados en Paraguay. Aprende, crea y destaca en ferias cient√≠ficas y proyectos educativos.">
  <meta name="keywords" content="kits de electr√≥nica, proyectos electr√≥nicos, asesor√≠a t√©cnica, innovakit, Paraguay, ferias cient√≠ficas, Arduino, programaci√≥n">
  <meta name="author" content="Innovakit">
  <meta name="robots" content="index, follow">

  <!-- PWA Meta Tags -->
  <meta name="theme-color" content="#7eb74a">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="Innovakit">
  <link rel="apple-touch-icon" href="png/favicon.png">
  <link rel="manifest" href="/manifest.json">
  
  <!-- Open Graph mejorado -->
  <meta property="og:title" content="Innovakit - Kits y componentes de Electr√≥nica en Paraguay">
  <meta property="og:description" content="Aprende, crea y destaca con los kits de Innovakit. Proyectos electr√≥nicos con acompa√±amiento profesional en Paraguay.">
  <meta property="og:image" content="https://wwwinnovakit.com/png/wthpp_web.png">
  <meta property="og:url" content="https://wwwinnovakit.com">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="Innovakit">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Innovakit - Kits de Electr√≥nica en Paraguay">
  <meta name="twitter:description" content="Aprende electr√≥nica de forma simple con kits completos y asesor√≠a profesional.">
  <meta name="twitter:image" content="https://wwwinnovakit.com/png/wthpp_web.png">

  <!-- Preconexiones para mejorar rendimiento -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://cdnjs.cloudflare.com">
  <link rel="preconnect" href="https://cdn.jsdelivr.net">

  <!-- CSS optimizado -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700&display=swap" rel="stylesheet">
  
  <!-- Solo una carga de Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            'innovakit-green': '#7eb74a',
            'innovakit-yellow': '#fdc344',
            'innovakit-blue': '#3b82f6'
          },
          animation: {
            'fade-in-up': 'fadeInUp 0.6s ease-out',
            'slide-in-right': 'slideInRight 0.5s ease-out',
            'bounce-subtle': 'bounceSubtle 2s infinite',
            'pulse-soft': 'pulseSoft 3s infinite',
          },
          keyframes: {
            fadeInUp: {
              '0%': { opacity: '0', transform: 'translateY(20px)' },
              '100%': { opacity: '1', transform: 'translateY(0)' }
            },
            slideInRight: {
              '0%': { opacity: '0', transform: 'translateX(20px)' },
              '100%': { opacity: '1', transform: 'translateX(0)' }
            },
            bounceSubtle: {
              '0%, 100%': { transform: 'translateY(0)' },
              '50%': { transform: 'translateY(-5px)' }
            },
            pulseSoft: {
              '0%, 100%': { opacity: '1' },
              '50%': { opacity: '0.8' }
            }
          }
        }
      }
    }
  </script>

  <!-- Estilos CSS optimizados - FASE 5: MEJORAS UX/UI -->
  <style>
    /* Variables CSS para consistencia */
    :root {
      --transition-standard: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      --shadow-standard: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      --shadow-hover: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      --shadow-card: 0 8px 25px -8px rgba(0, 0, 0, 0.15);
      --border-radius-card: 16px;
      --border-radius-btn: 12px;
    }

    body { 
      font-family: 'Inter', sans-serif;
      line-height: 1.6;
      scroll-behavior: smooth;
    }

    /* Mejoras de accesibilidad */
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    /* Efectos de hover optimizados - MEJORADOS */
    .btn-hover {
      transition: var(--transition-standard);
      position: relative;
      overflow: hidden;
    }
    
    .btn-hover:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-hover);
    }

    .btn-hover::after {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.5s;
    }

    .btn-hover:hover::after {
      left: 100%;
    }

    /* Animaci√≥n de gradiente optimizada */
    .bg-animated {
      background: linear-gradient(270deg, #34d399, #6ee7b7, #3b82f6);
      background-size: 200% 200%;
      animation: moveGradient 8s ease infinite;
    }

    @keyframes moveGradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Mejoras para el sistema de filtros - MEJORADO */
    .subcategory-group:hover .subcategory-panel {
      opacity: 1 !important;
      visibility: visible !important;
      transform: scale(1) !important;
    }

    /* Transiciones suaves para todos los elementos */
    .transition-all {
      transition-property: all;
      transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* Estilos para Swiper mejorados */
    .swiper-slide, .swiper-slide * {
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      pointer-events: none;
    }

    .swiper-button-next, .swiper-button-prev {
      background-color: rgba(255,255,255,0.9);
      width: 40px;
      height: 40px;
      border-radius: 50%;
      color: #3b82f6;
      padding: 15px;
      box-shadow: var(--shadow-standard);
      transition: var(--transition-standard);
    }
    
    .swiper-button-next:hover, .swiper-button-prev:hover {
      transform: scale(1.1);
      box-shadow: var(--shadow-hover);
    }
    
    .swiper-button-next::after, .swiper-button-prev::after {
      font-size: 1.2rem;
    }

    /* Estructura de p√°gina mejorada */
    .page-container {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .products-container {
      flex: 1;
    }

    .pagination-fixed {
      position: sticky;
      bottom: 0;
      background-color: #f5f5f5;
      padding: 15px 0;
      border-top: 1px solid #e0e0e0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 20px;
      backdrop-filter: blur(10px);
    }

    /* Mejoras para modales - MEJORADOS */
    .modal {
      transition: opacity 0.25s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      backdrop-filter: blur(5px);
    }

    body.modal-active {
      overflow-x: hidden;
      overflow-y: visible !important;
    }

    .modal-container {
      max-height: 90vh;
      overflow-y: auto;
      border-radius: var(--border-radius-card);
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    }

    /* Portada sin m√°rgenes - MEJORADA */
    .portada-sin-margenes {
      width: 100vw;
      margin-left: calc(-50vw + 50%);
      margin-right: calc(-50vw + 50%);
      height: 40vh;
      position: relative;
      overflow: hidden;
    }

    .portada-sin-margenes img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease;
    }

    .portada-sin-margenes:hover img {
      transform: scale(1.05);
    }

    /* Mejoras de accesibilidad para enlaces */
    a:focus, button:focus {
      outline: 2px solid #3b82f6;
      outline-offset: 2px;
      border-radius: 4px;
    }

    /* Mejoras de rendimiento para im√°genes */
    img {
      max-width: 100%;
      height: auto;
      transition: opacity 0.3s ease;
    }

    img[data-src] {
      opacity: 0;
    }

    img.loaded {
      opacity: 1;
    }

    /* Clase utilitaria para texto truncado */
    .line-clamp-2 {
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .line-clamp-3 {
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    /* Estados de carga mejorados */
    .loading-spinner {
      display: inline-block;
      width: 2rem;
      height: 2rem;
      border: 3px solid rgba(255,255,255,.3);
      border-radius: 50%;
      border-top-color: #fff;
      animation: spin 1s ease-in-out infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* ============================================= */
    /* MEJORAS TOUCH MOBILE - FASE 5 OPTIMIZADAS */
    /* ============================================= */
    
    /* Mejorar targets t√°ctiles (m√≠nimo 44px recomendado) */
    .touch-target {
      min-height: 44px;
      min-width: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    /* Prevenir zoom en inputs en iOS */
    input, select, textarea {
      font-size: 16px; /* Previene zoom en iOS */
    }
    
    /* Mejorar scrolling en iOS */
    .smooth-scroll {
      -webkit-overflow-scrolling: touch;
    }
    
    /* Optimizar botones para touch - MEJORADOS */
    .btn-mobile {
      padding: 14px 22px;
      font-size: 16px;
      border-radius: var(--border-radius-btn);
      font-weight: 600;
      transition: var(--transition-standard);
    }
    
    /* Prevenir highlight azul en tap */
    * {
      -webkit-tap-highlight-color: transparent;
    }
    
    /* Mejorar rendimiento de animaciones en m√≥vil */
    @media (max-width: 768px) {
      .transform-mobile {
        will-change: transform;
      }
      
      /* Optimizar cards para m√≥vil */
      .product-card-mobile {
        border-radius: 12px;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }
      
      .product-card-mobile:active {
        transform: scale(0.98);
      }
    }
    
    /* Safe areas para iPhone X+ */
    .safe-top {
      padding-top: env(safe-area-inset-top);
    }
    
    .safe-bottom {
      padding-bottom: env(safe-area-inset-bottom);
    }

    /* ============================================= */
    /* NUEVAS MEJORAS UX/UI - FASE 5 */
    /* ============================================= */

    /* Efecto de elevaci√≥n para cards */
    .card-elevated {
      background: white;
      border-radius: var(--border-radius-card);
      box-shadow: var(--shadow-card);
      transition: var(--transition-standard);
      overflow: hidden;
    }

    .card-elevated:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.2);
    }

    /* Gradientes modernos */
    .gradient-primary {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    .gradient-success {
      background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    }

    .gradient-warning {
      background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
    }

    /* Mejoras de legibilidad */
    .text-readable {
      line-height: 1.7;
      letter-spacing: -0.01em;
    }

    /* Efectos de desvanecimiento para transiciones de p√°gina */
    .page-transition {
      animation: fadeInUp 0.6s ease-out;
    }

    /* Botones con iconos mejorados */
    .btn-icon {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      transition: var(--transition-standard);
    }

    .btn-icon:hover {
      gap: 12px;
    }
    /* ============================================= */
/* ESTILOS PARA SISTEMA DE REVIEWS Y ADMIN */
/* ============================================= */

.rating-stars {
    display: inline-flex;
    gap: 2px;
}

.rating-stars .star {
    color: #d1d5db;
    font-size: 1.2rem;
}

.rating-stars .star.filled {
    color: #fbbf24;
}

.review-card {
    background: white;
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    transition: transform 0.2s ease;
    border: 1px solid #f3f4f6;
}

.review-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.verified-badge {
    background: #10b981;
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 600;
    display: inline-flex;
    align-items: center;
    gap: 4px;
}

.pending-badge {
    background: #f59e0b;
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 600;
    display: inline-flex;
    align-items: center;
    gap: 4px;
}

/* Modal para agregar reviews */
#review-modal .modal-container {
    max-width: 500px;
    margin: 20px;
}

.rating-input .star {
    transition: all 0.2s ease;
    cursor: pointer;
}

.rating-input .star:hover {
    transform: scale(1.2);
}

/* Panel de administraci√≥n */
.admin-panel {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: white;
    padding: 2rem;
    border-radius: 16px;
    box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5);
    z-index: 10000;
    max-width: 90vw;
    max-height: 90vh;
    overflow-y: auto;
    width: 600px;
}

.admin-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.7);
    z-index: 9999;
}

.review-pending-item {
    border: 2px solid #fbbf24;
    background: #fffbeb;
    border-radius: 12px;
    padding: 1.5rem;
    margin-bottom: 1rem;
}

.review-pending-item .rating-stars {
    font-size: 1.1rem;
    margin-bottom: 0.5rem;
}
/* ============================================= */
/* MEJORAS ESPEC√çFICAS PARA MODAL EN M√ìVIL */
/* ============================================= */

@media (max-width: 768px) {
  /* Modal de producto - COMPLETAMENTE REDISE√ëADO PARA M√ìVIL */
  #modal-producto .modal-container {
    width: 95% !important;
    max-width: 95% !important;
    margin: 10px auto !important;
    max-height: 95vh !important;
    border-radius: 16px !important;
  }

  #modal-producto .modal-content {
    padding: 16px !important;
  }

  /* Layout de una sola columna en m√≥vil */
  #modal-producto .grid {
    grid-template-columns: 1fr !important;
    gap: 16px !important;
  }

  /* Im√°genes m√°s compactas */
  #modal-producto .space-y-6 {
    space-y: 16px !important;
  }

  #modal-producto .h-80 {
    height: 200px !important;
  }

  /* Thumbnails en fila horizontal */
  #modal-producto .grid-cols-4 {
    grid-template-columns: repeat(4, 1fr) !important;
    gap: 8px !important;
  }

  #modal-producto .h-20 {
    height: 60px !important;
  }

  /* Textos m√°s compactos */
  #modal-producto .text-2xl,
  #modal-producto .text-3xl {
    font-size: 1.25rem !important;
    line-height: 1.3 !important;
  }

  #modal-producto .text-3xl,
  #modal-producto .text-4xl {
    font-size: 1.5rem !important;
  }

  /* Botones apilados verticalmente y mejorados */
  #modal-producto .space-y-4 {
    space-y: 12px !important;
  }

  #modal-producto button {
    padding: 14px 16px !important;
    font-size: 16px !important; /* Tama√±o m√≠nimo para iOS */
    min-height: 50px !important; /* Target t√°ctil m√≠nimo */
    border-radius: 12px !important;
    width: 100% !important;
    margin: 4px 0 !important;
  }

  /* Especificaciones m√°s compactas */
  #modal-producto .space-y-3 {
    space-y: 12px !important;
  }

  #modal-producto .p-4 {
    padding: 16px !important;
  }

  /* Asegurar que el contenido sea scrollable */
  #modal-producto .modal-container {
    overflow-y: auto !important;
  }

  /* Header del modal m√°s compacto */
  #modal-producto .modal-close {
    top: 8px !important;
    right: 8px !important;
  }

  #modal-producto .modal-close div {
    padding: 8px !important;
  }

  /* Mejorar espaciados generales */
  #modal-producto .space-y-6 > * {
    margin-bottom: 16px !important;
  }

  /* Texto m√°s legible en m√≥vil */
  #modal-producto .text-readable {
    font-size: 14px !important;
    line-height: 1.5 !important;
  }

  /* Precio y stock en l√≠nea */
  #modal-producto .flex.items-center {
    flex-wrap: wrap !important;
    gap: 8px !important;
  }

  #modal-producto .ml-4 {
    margin-left: 0 !important;
  }
}

/* Para pantallas muy peque√±as (iPhone SE, etc) */
@media (max-width: 375px) {
  #modal-producto .modal-container {
    width: 98% !important;
    margin: 5px auto !important;
  }

  #modal-producto .h-80 {
    height: 180px !important;
  }

  #modal-producto .h-20 {
    height: 50px !important;
  }

  #modal-producto button {
    padding: 12px 14px !important;
    min-height: 48px !important;
    font-size: 15px !important;
  }
}

/* Asegurar que el modal sea usable en landscape */
@media (max-width: 768px) and (orientation: landscape) {
  #modal-producto .modal-container {
    max-height: 85vh !important;
  }
  
  #modal-producto .grid {
    grid-template-columns: 1fr 1fr !important;
    gap: 12px !important;
  }
  
  #modal-producto .h-80 {
    height: 150px !important;
  }
}
    /* Mejoras para formularios */
    .form-input-enhanced {
      border: 2px solid #e2e8f0;
      border-radius: var(--border-radius-btn);
      padding: 12px 16px;
      transition: var(--transition-standard);
      font-size: 16px;
    }

    .form-input-enhanced:focus {
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    /* Notificaciones mejoradas */
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 16px 20px;
      border-radius: var(--border-radius-btn);
      box-shadow: var(--shadow-card);
      z-index: 1000;
      animation: slideInRight 0.5s ease-out;
      display: flex;
      align-items: center;
      gap: 12px;
      max-width: 400px;
    }

    .notification-success {
      background: #10b981;
      color: white;
    }

    .notification-error {
      background: #ef4444;
      color: white;
    }

    .notification-warning {
      background: #f59e0b;
      color: white;
    }

    /* Mejoras de navegaci√≥n */
    .nav-link {
      position: relative;
      padding: 8px 12px;
      border-radius: 8px;
      transition: var(--transition-standard);
    }

    .nav-link:hover {
      background: rgba(59, 130, 246, 0.1);
    }

    .nav-link::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 50%;
      width: 0;
      height: 2px;
      background: #3b82f6;
      transition: var(--transition-standard);
      transform: translateX(-50%);
    }

    .nav-link:hover::after {
      width: 80%;
    }

    /* Efectos de skeleton loading */
    .skeleton {
      background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
      background-size: 200% 100%;
      animation: loading 1.5s infinite;
      border-radius: 4px;
    }

    @keyframes loading {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }

    /* Mejoras para el carrito */
    .cart-badge {
      position: absolute;
      top: -8px;
      right: -8px;
      background: #ef4444;
      color: white;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: bold;
      animation: pulseSoft 2s infinite;
    }

    /* Mejoras para precios */
    .price-tag {
      background: linear-gradient(135deg, #10b981, #34d399);
      color: white;
      padding: 4px 12px;
      border-radius: 20px;
      font-weight: bold;
      display: inline-block;
    }

    /* Efectos de hover para productos */
    .product-hover {
      transition: var(--transition-standard);
      cursor: pointer;
    }

    .product-hover:hover {
      transform: translateY(-5px) scale(1.02);
    }

    /* Mejoras de contraste para accesibilidad */
    .contrast-enhanced {
      filter: contrast(1.1);
    }

    /* Efectos de blur para fondos */
    .backdrop-blur {
      backdrop-filter: blur(10px);
      background: rgba(255, 255, 255, 0.8);
    }

    /* Responsive improvements */
    @media (max-width: 640px) {
      .mobile-stack {
        flex-direction: column;
      }
      
      .mobile-center {
        text-align: center;
        justify-content: center;
      }
      
      .mobile-padding {
        padding: 1rem;
      }
    }

    /* Dark mode improvements */
    @media (prefers-color-scheme: dark) {
      .dark\:auto-contrast {
        filter: contrast(1.2) brightness(1.1);
      }
    }
   /* VISTA SOLO PARA COMPONENTE SUELTOS - No afecta desktop */
@media (max-width: 768px) {
    /* Solo en vista componentes sueltos en m√≥vil */
    #vista-componentes-sueltos .container {
        max-width: 100% !important;
        padding-left: 0.75rem !important;
        padding-right: 0.75rem !important;
    }
    
    /* Asegurar que el grid no se desborde */
    #vista-componentes-sueltos .products-container {
        overflow-x: hidden;
        width: 100%;
    }
    
    /* Paginaci√≥n fija corregida solo en m√≥vil */
    .pagination-fixed {
        left: 0;
        right: 0;
        padding-left: 0.75rem;
        padding-right: 0.75rem;
    }
    
    /* Botones de paginaci√≥n con tama√±o m√≠nimo */
    .pagination-fixed button {
        min-width: 70px;
    }
    
    /* Grid con m√°rgenes seguros en m√≥vil */
    #grid-componentes {
        padding-left: 0.25rem;
        padding-right: 0.25rem;
        gap: 0.75rem;
    }
}
/* TESTIMONIO OPTIMIZADO PARA MOVIL */
@media (max-width: 768px) {
  #testimonios {
    padding-top: 2rem !important;
    padding-bottom: 2rem !important;
  }
  
  #testimonios h3 {
    margin-bottom: 0.5rem !important;
  }
  
  #testimonios .text-center.mb-8 {
    margin-bottom: 1.5rem !important;
  }
}
    /* ============================================= */
/* SOLUCI√ìN FONDO ASESOR√çAS M√ìVIL */
/* ============================================= */

@media (max-width: 768px) {
  /* Quitar fondo de imagen en m√≥vil */
  #vista-asesorias {
    background-image: none !important;
    background-color: #f8fafc !important; /* bg-gray-50 */
    padding: 0.5rem !important;
  }
  
  /* Contenedor blanco que ocupe todo el ancho */
  #vista-asesorias .bg-white {
    margin: 0 !important;
    border-radius: 0 !important;
    padding: 1rem !important;
    width: 100% !important;
    max-width: 100% !important;
  }
  
  /* Grid de asesores - 2 columnas ocupando todo el ancho */
  #vista-asesorias .grid {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 0.75rem !important;
    width: 100% !important;
  }
  
  /* Cards m√°s compactos y del mismo tama√±o */
  #vista-asesorias .card-elevated {
    padding: 1rem !important;
    margin: 0 !important;
    min-height: 320px !important;
    display: flex !important;
    flex-direction: column !important;
  }
  
  /* Asegurar que el contenido ocupe el espacio disponible */
  #vista-asesorias .card-elevated .flex-1 {
    flex: 1 !important;
  }
  
  /* Im√°genes m√°s peque√±as */
  #vista-asesorias .w-24,
  #vista-asesorias .w-36 {
    width: 70px !important;
    height: 70px !important;
  }
  
  /* Textos m√°s compactos */
  #vista-asesorias .text-xl {
    font-size: 1rem !important;
    margin-bottom: 0.5rem !important;
  }
  
  #vista-asesorias .text-sm {
    font-size: 0.75rem !important;
  }
  
  #vista-asesorias p.text-gray-600 {
    font-size: 0.8rem !important;
    line-height: 1.3 !important;
    margin-bottom: 0.75rem !important;
  }
  
  /* Badges m√°s peque√±os */
  #vista-asesorias .text-xs {
    font-size: 0.65rem !important;
    padding: 0.2rem 0.5rem !important;
  }
  
  /* Header m√°s compacto */
  #vista-asesorias .flex-col.lg\:flex-row {
    margin-bottom: 1.5rem !important;
  }
  
  #vista-asesorias .text-3xl {
    font-size: 1.5rem !important;
  }
  
  /* Bot√≥n volver m√°s compacto */
  #vista-asesorias .bg-blue-600 {
    padding: 0.5rem 1rem !important;
    font-size: 0.8rem !important;
  }
}

/* Para m√≥viles muy peque√±os */
@media (max-width: 400px) {
  #vista-asesorias .grid {
    grid-template-columns: 1fr !important;
  }
  
  #vista-asesorias .card-elevated {
    min-height: 280px !important;
  }
}
/* ============================================= */
/* OPTIMIZACI√ìN ASESORES PARA M√ìVIL */
/* ============================================= */

@media (max-width: 768px) {
  /* Contenedor principal m√°s compacto */
  #vista-asesorias .bg-white {
    margin: 0.5rem;
    padding: 1.5rem;
  }
  
  /* Grid de asesores - 2 columnas en m√≥vil */
  #vista-asesorias .grid.grid-cols-1.md\:grid-cols-2.lg\:grid-cols-3 {
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
  }
  
  /* Cards de asesores m√°s compactos */
  #vista-asesorias .card-elevated {
    padding: 1.5rem;
    margin: 0;
  }
  
  /* Imagen de asesor m√°s peque√±a */
  #vista-asesorias .w-36 {
    width: 5rem;
    height: 5rem;
  }
  
  /* Textos m√°s compactos */
  #vista-asesorias .font-bold.text-xl {
    font-size: 1.1rem;
    margin-bottom: 0.5rem;
  }
  
  #vista-asesorias .text-sm {
    font-size: 0.8rem;
  }
  
  #vista-asesorias .text-gray-600 {
    font-size: 0.85rem;
    line-height: 1.4;
  }
  
  /* Badges m√°s compactos */
  #vista-asesorias .flex.justify-center.space-x-3 {
    gap: 0.5rem;
  }
  
  #vista-asesorias .text-xs.px-3.py-2 {
    padding: 0.25rem 0.75rem;
    font-size: 0.7rem;
  }
  
  /* Botones del header m√°s compactos */
  #vista-asesorias .flex-col.lg\:flex-row .bg-blue-600 {
    padding: 0.75rem 1rem;
    font-size: 0.9rem;
  }
  
  /* Formulario m√°s compacto */
  #vista-asesorias form.max-w-4xl {
    padding: 1.5rem;
  }
  
  #vista-asesorias .form-input-enhanced {
    padding: 0.75rem;
    font-size: 14px;
  }
  
  /* Botones del formulario apilados */
  #vista-asesorias .flex-col.sm\:flex-row.gap-4 {
    flex-direction: column;
  }
  
  #vista-asesorias .flex-col.sm\:flex-row.gap-4 button {
    margin-bottom: 0.5rem;
  }
}

/* Para pantallas muy peque√±as (iPhone SE) */
@media (max-width: 375px) {
  #vista-asesorias .grid.grid-cols-1.md\:grid-cols-2.lg\:grid-cols-3 {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
  
  #vista-asesorias .card-elevated {
    padding: 1rem;
  }
  
  #vista-asesorias .w-36 {
    width: 4rem;
    height: 4rem;
  }
}
/* Botones del formulario en m√≥vil */
@media (max-width: 768px) {
  #vista-asesorias .btn-hover.touch-target {
    padding: 0.75rem 1rem;
    font-size: 0.9rem;
    min-height: auto;
  }
  
  #vista-asesorias .btn-icon {
    gap: 0.5rem;
  }
  
  #vista-asesorias .btn-icon:hover {
    gap: 0.75rem;
  }
}
/* Para m√≥viles muy peque√±os (iPhone SE) - correcci√≥n extra */
@media (max-width: 375px) {
    #vista-componentes-sueltos .container {
        padding-left: 0.5rem !important;
        padding-right: 0.5rem !important;
    }
    
    .pagination-fixed {
        padding-left: 0.5rem;
        padding-right: 0.5rem;
    }
    
    #grid-componentes {
        gap: 0.5rem;
    }
}
        /* termina aqui */
/* Mejoras espec√≠ficas para modal en m√≥vil */
@media (max-width: 768px) {
  #modal-producto .modal-container {
    margin: 10px auto;
    border-radius: 12px;
  }
  
  #modal-producto .line-clamp-4 {
    display: -webkit-box;
    -webkit-line-clamp: 4;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}
  </style>
</head>
<body class="bg-gray-50 text-gray-800">
  <!-- ESTE SCRIPT ELIMINA EL SW VIEJO -->
  <script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.getRegistrations().then(function(registrations) {
      for(let registration of registrations) {
        registration.unregister();
        console.log('üóëÔ∏è Service Worker viejo eliminado');
      }
    });
  }
  </script>
  <!-- TU C√ìDIGO NORMAL -
 <!-- Header MEJORADO - Tu dise√±o desktop + Mi dise√±o m√≥vil -->
<header class="bg-white shadow-md p-4 sticky top-0 z-20 backdrop-blur bg-white/95" role="banner">
  
  <!-- Desktop: Tu dise√±o (oculto en m√≥vil) -->
  <div class="hidden sm:flex justify-between items-center">
    <!-- Logo -->
    <a href="#main-content" class="flex items-center focus:outline-none focus:ring-2 focus:ring-blue-500 rounded btn-hover" onclick="volverAlInicio(); return false;">
      <h1 class="text-3xl lg:text-4xl font-bold">
        <span style="color:#7eb74a">Inn</span><span style="color:#fdc344">o</span><span style="color:#7eb74a">va</span><span class="text-blue-600">kit</span>
      </h1>
    </a>

    <!-- Navegaci√≥n + Carrito (tu dise√±o) -->
    <nav class="flex items-center text-base" aria-label="Navegaci√≥n principal">
      <a href="#mision" onclick="volverAlInicio()" class="hover:text-blue-600 focus:text-blue-600 px-2">Misi√≥n |</a>
      <a href="#vision" onclick="volverAlInicio()" class="hover:text-blue-600 focus:text-blue-600 px-2">Visi√≥n |</a>
      <a href="#productos" onclick="volverAlInicio()" class="hover:text-blue-600 focus:text-blue-600 px-2">Productos |</a>
      <a href="#asesorias-preview" onclick="volverAlInicio()" class="hover:text-blue-600 focus:text-blue-600 px-2">Asesor√≠a |</a>
      <a href="#contacto" onclick="volverAlInicio()" class="hover:text-blue-600 focus:text-blue-600 px-2">Contacto</a>
      
      <!-- Carrito -->
      <button onclick="verCarrito()" class="ml-4 bg-yellow-300 text-gray-900 px-3 py-2 rounded-lg shadow hover:bg-yellow-400 font-semibold focus:outline-none focus:ring-2 focus:ring-yellow-500 btn-hover" aria-label="Ver carrito de compras">
  üõí Carrito (<span id="carrito-count-desktop" aria-live="polite">0</span>)
</button>
</nav> 
  </div>  
  <!-- M√≥vil: Mi dise√±o (oculto en desktop) -->
  <div class="sm:hidden">
  <!-- Fila 1: Logo (izquierda) + Carrito (derecha) -->
  <div class="flex justify-between items-center mb-3">
    <!-- Logo ocupa espacio izquierdo -->
    <div class="flex-1">
      <a href="#main-content" class="flex items-center" onclick="volverAlInicio(); return false;">
        <h1 class="text-2xl font-bold">
          <span style="color:#7eb74a">Inn</span><span style="color:#fdc344">o</span><span style="color:#7eb74a">va</span><span class="text-blue-600">kit</span>
        </h1>
      </a>
    </div>
    
    <!-- Carrito fijo a la derecha -->
    <button onclick="verCarrito()" class="bg-yellow-300 text-gray-900 px-2 py-1 rounded-lg text-sm font-semibold ml-4">
      üõçÔ∏è (<span id="carrito-count-mobile">0</span>)
    </button>
  </div>

  <!-- Fila 2: Navegaci√≥n centrada -->
  <nav class="flex flex-wrap justify-center gap-0.5 items-center text-xs overflow-x-auto py-1" aria-label="Navegaci√≥n m√≥vil">
  <a href="#mision" onclick="volverAlInicio()" class="px-0.5 hover:text-blue-600">Misi√≥n|</a>
  <a href="#vision" onclick="volverAlInicio()" class="px-0.5 hover:text-blue-600">Visi√≥n|</a>
  <a href="#productos" onclick="volverAlInicio()" class="px-0.5 hover:text-blue-600">Productos|</a>
  <a href="#asesorias-preview" onclick="volverAlInicio()" class="px-0.5 hover:text-blue-600">Asesor√≠a|</a>
  <a href="#contacto" onclick="volverAlInicio()" class="px-0.5 hover:text-blue-600">Contacto</a>
</nav>

</header>
    <!-- BOT√ìN MODO OSCURO DESHABILITADO TEMPORALMENTE -->
  <!--
  <button id="toggle-dark-mode" class="ml-4 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white px-3 py-2 rounded-lg shadow hover:bg-gray-300 dark:hover:bg-gray-600 transition">
  <i class="fas fa-moon" id="dark-icon"></i>
  <i class="fas fa-sun hidden" id="light-icon"></i>
</button>
  -->
   <!-- CONTENIDO PRINCIPAL -->
  <main id="main-content" role="main" class="page-transition">
   <!-- HERO MEJORADO - FASE 5 -->
<section id="hero" class="relative overflow-hidden bg-animated text-white min-h-[51vh] flex items-center" aria-labelledby="hero-heading">
  <!-- A√±adir overlay para mejor contraste -->
  <div class="absolute inset-0 bg-black/20" aria-hidden="true"></div>
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-10 relative z-10 w-full">
    <div class="grid md:grid-cols-2 gap-8 items-center">
      <!-- Texto -->
      <div class="animate-fade-in-up">
        <h1 id="hero-heading" class="text-3xl sm:text-4xl md:text-5xl font-extrabold leading-tight mb-4">Aprende electr√≥nica de forma <span class="text-yellow-300 animate-pulse-soft">simple</span></h1>
        <p class="mt-4 text-lg sm:text-xl opacity-95 max-w-prose mx-auto md:mx-0 text-readable">
          Con <strong>Innovakit</strong> tienes kits completos, asesor√≠a y soporte para transformar tus ideas en proyectos reales. Ideal para estudiantes, makers y emprendedores.</p>

        <div class="mt-8 flex flex-col sm:flex-row gap-4 justify-center md:justify-start">
          <a href="#productos"
             class="btn-hover inline-flex items-center justify-center px-6 py-3.5 rounded-full bg-blue-700 hover:bg-blue-800
                    text-white font-semibold shadow-lg transition focus:outline-none focus:ring-2 focus:ring-blue-300 btn-icon">
            <span>Ver nuestros kits</span>
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </a>
          <a href="#asesorias-preview"
             class="btn-hover inline-flex items-center justify-center px-6 py-3.5 rounded-full bg-[#FFD84D] hover:bg-yellow-400
                    text-gray-900 font-semibold shadow-lg transition focus:outline-none focus:ring-2 focus:ring-yellow-300 btn-icon">
            <span>Solicita asesor√≠a</span>
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path>
            </svg>
          </a>
        </div>
      </div>
      <!-- Ilustraci√≥n (muestra en desktop) -->
      <div class="hidden md:block animate-slide-in-right" aria-hidden="true">
        <img src="png/vector-electr√≥nica.svg" alt="" class="w-64 md:w-80 h-auto object-contain drop-shadow-xl mx-auto contrast-enhanced">
      </div>
    </div>
  </div>

  <!-- Toque visual suave -->
  <div aria-hidden="true"
       class="pointer-events-none absolute -top-16 -right-16 w-96 h-96 rounded-full bg-white/10 blur-3xl">
  </div>
</section>
    <hr class="my-6 border-gray-300">
  
    <!-- Misi√≥n - MEJORADO FASE 5 -->
    <section id="mision" class="p-6 sm:p-12 text-center bg-white scroll-mt-20 card-elevated mx-4">
      <i class="fas fa-bullseye text-4xl sm:text-5xl text-green-600 mb-4 animate-bounce-subtle"></i>
      <h3 class="text-xl sm:text-2xl font-bold mb-2">Nuestra Misi√≥n</h3>
      <p class="max-w-2xl mx-auto text-base sm:text-lg text-readable">
        Nuestra misi√≥n es <strong>hacer que aprender electr√≥nica sea accesible y emocionante</strong>, brindando herramientas pr√°cticas que impulsen la creatividad en estudiantes, makers y emprendedores.</p>
    </section>

    <hr class="my-6 border-gray-300">
<!-- Visi√≥n -->
    <section id="vision" class="p-6 sm:p-12 text-center bg-gradient-to-br from-blue-50 to-indigo-100 scroll-mt-20 card-elevated mx-4">
      <i class="fas fa-lightbulb text-4xl sm:text-5xl text-yellow-500 mb-4 animate-bounce-subtle"></i>
      <h3 class="text-xl sm:text-2xl font-bold mb-2">Nuestra Visi√≥n</h3>
      <p class="max-w-2xl mx-auto text-base sm:text-lg text-readable">
  Queremos ser <strong>referentes en educaci√≥n tecnol√≥gica en Paraguay</strong>, inspirando a nuevas generaciones a desarrollar proyectos reales con electr√≥nica y programaci√≥n.</p>
    </section>
    
<hr class="my-6 border-gray-300">
<!-- Beneficios - MEJORADO FASE 5 -->
<section class="p-4 sm:p-6 text-center bg-white mb-6">
  <h3 class="text-2xl sm:text-3xl font-bold mb-6 animate-fade-in-up">¬øPor qu√© elegir Innovakit?</h3>
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
    
    <!-- Beneficio 1 - Educativo -->
    <div class="card-elevated p-6 rounded-2xl transition duration-300 product-hover text-center">
      <i class="fas fa-graduation-cap text-blue-600 text-4xl mb-4 animate-bounce-subtle"></i>
      <h4 class="font-bold text-xl mb-4">Educativo</h4>
      <p class="text-readable text-gray-600 leading-relaxed">Material dise√±ado para aprender electr√≥nica paso a paso, desde cero hasta proyectos avanzados.</p>
    </div>
    
    <!-- Beneficio 2 - Tecnolog√≠a Real -->
    <div class="card-elevated p-6 rounded-2xl transition duration-300 product-hover text-center">
      <i class="fas fa-microchip text-green-600 text-4xl mb-4 animate-bounce-subtle"></i>
      <h4 class="font-bold text-xl mb-4">Tecnolog√≠a Real</h4>
      <p class="text-readable text-gray-600 leading-relaxed">Componentes de calidad profesional listos para proyectos reales y aplicaciones pr√°cticas.</p>
    </div>
    
    <!-- Beneficio 3 - Soporte -->
    <div class="card-elevated p-6 rounded-2xl transition duration-300 product-hover text-center">
      <i class="fas fa-handshake text-yellow-500 text-4xl mb-4 animate-bounce-subtle"></i>
      <h4 class="font-bold text-xl mb-4">Soporte Personalizado</h4>
      <p class="text-readable text-gray-600 leading-relaxed">Acompa√±amiento t√©cnico en cada etapa de tu proyecto, desde la idea hasta la implementaci√≥n.</p>
    </div>
    
  </div>
</section>
<hr class="my-4 border-gray-300">
    <!-- Productos -->
<section id="productos" class="p-6 sm:p-6 bg-gradient-to-br from-blue-50 to-indigo-100 scroll-mt-20 mt-6">
  <h3 class="text-2xl sm:text-3xl font-bold text-center mb-8">Nuestros Productos</h3>
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 place-items-center">
    <!-- Producto 1 -->
    <div class="bg-white rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-2 transition duration-300 p-4 flex flex-col items-center w-full max-w-xs mx-auto mb-4 h-96">
      <img src="png/Kounshun.svg" alt="Kit de electr√≥nica Innovakit" class="w-48 h-48 object-contain mb-3 rounded-lg" loading="lazy">
      <h4 class="text-lg font-bold mb-2 text-center">Kit de Electr√≥nica B√°sico</h4>
      <p class="mb-3 text-center text-sm">Incluye componentes esenciales para aprender electr√≥nica desde cero.</p>
      <button onclick="verProductosKit(1)" class="w-full bg-blue-600 text-white px-3 py-2 rounded-lg shadow hover:bg-blue-700 mt-auto text-sm">Ver m√°s</button>
    </div>
    
    <!-- Producto 2 -->
    <div class="bg-white rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-2 transition duration-300 p-4 flex flex-col items-center w-full max-w-xs mx-auto mb-4 h-96">
      <img src="png/kits_educativos.svg" alt="Kit de electr√≥nica b√°sico Innovakit" class="w-48 h-48 object-contain mb-3 rounded-lg" loading="lazy">
      <h4 class="text-lg font-bold mb-2 text-center">Kit de Electr√≥nica Make</h4>
      <p class="mb-3 text-center text-sm">Perfecto para creadores que quieran comenzar con proyectos pr√°cticos.</p>
      <button onclick="verProductosKit(2)" class="w-full bg-blue-600 text-white px-3 py-2 rounded-lg shadow hover:bg-blue-700 mt-auto text-sm">Ver m√°s</button>
    </div>
    
    <!-- Producto 3 -->
    <div class="bg-white rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-2 transition duration-300 p-4 flex flex-col items-center w-full max-w-xs mx-auto mb-4 h-96">
      <img src="png/Acebott.svg" alt="Kit de Rob√≥tica Acebott" class="w-48 h-48 object-contain mb-3 rounded-lg" loading="lazy">
      <h4 class="text-lg font-bold mb-2 text-center">Kit de Rob√≥tica Acebott</h4>
      <p class="mb-3 text-center text-sm">Componentes avanzados para proyectos m√°s complejos y creativos.</p>
      <button onclick="verProductosKit(3)" class="w-full bg-blue-600 text-white px-3 py-2 rounded-lg shadow hover:bg-blue-700 mt-auto text-sm">Ver m√°s</button>
    </div>
    
    <!-- Producto 4 - CORREGIDO PARA M√ìVILES -->
    <div class="bg-white rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-2 transition duration-300 p-4 flex flex-col items-center w-full max-w-xs mx-auto mb-4 h-96">
      <img src="png/Producto4.svg" alt="Componentes Sueltos" class="w-48 h-48 object-contain mb-3 rounded-lg" loading="lazy">
      <h4 class="text-lg font-bold mb-2 text-center">Componentes</h4>
      <p class="mb-3 text-center text-sm">Compra sensores, motores, displays y componentes varios, individuales.</p>
      <button onclick="verComponentesSueltos()" class="w-full bg-blue-600 text-white px-3 py-2 rounded-lg shadow hover:bg-blue-700 mt-auto text-sm">Ver componentes</button>
    </div>
  </div>
</section>
<hr class="my-6 border-gray-300">
<!-- Asesor√≠as Preview - MEJORADO FASE 5 -->
<section id="asesorias-preview" class="p-6 sm:p-8 text-center scroll-mt-20 bg-white rounded-2xl mx-4 mb-4">
  <i class="fas fa-chalkboard-teacher text-4xl sm:text-5xl text-blue-600 mb-2 animate-bounce-subtle"></i>
  <h3 class="text-2xl sm:text-3xl font-bold mb-4 animate-fade-in-up">Asesor√≠a para Proyectos T√©cnicos</h3>
  <p class="max-w-2xl mx-auto text-lg sm:text-xl text-gray-700 mb-6 text-readable leading-relaxed">
    ¬øVas a una <strong class="text-blue-700">feria cient√≠fica</strong> o necesitas presentar un proyecto t√©cnico? 
    Con nuestra asesor√≠a tendr√°s <strong class="text-blue-700">acompa√±amiento profesional</strong> para que tu idea destaque, usando nuestros kits y experiencia.
  </p>
  <button onclick="verAsesorias()" class="bg-yellow-500 hover:bg-yellow-600 text-white px-8 py-4 rounded-xl shadow-lg hover:shadow-xl font-semibold text-lg btn-hover touch-target btn-icon transition-all duration-300 transform hover:scale-105">
    <i class="fas fa-calendar-check mr-2"></i>
    Solicitar asesor√≠a
  </button>
</section>

<hr class="my-8 border-gray-300">

<!-- Testimonios de Clientes - OPTIMIZADO -->
<section id="testimonios" class="pt-8 pb-12 bg-gradient-to-br from-blue-50 to-indigo-100">
  <div class="max-w-6xl mx-auto px-4">
    <h3 class="text-3xl font-bold text-center mb-4 animate-fade-in-up">Proyectos de Nuestros Clientes</h3>
    <p class="text-gray-600 text-center mb-6 max-w-3xl mx-auto text-base">
      Descubre lo que han creado estudiantes, makers y emprendedores con Innovakit
    </p>
    
    <!-- Bot√≥n para agregar proyecto -->
    <div class="text-center mb-8">
      <button onclick="mostrarModalProyecto()" 
              class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg shadow-lg hover:shadow-xl font-semibold text-base btn-hover touch-target btn-icon transition-all duration-300 transform hover:scale-105">
        <i class="fas fa-camera mr-2"></i>
        Comparte tu proyecto
      </button>
      <p class="text-gray-600 text-sm mt-1">Muestra al mundo lo que creaste</p>
    </div>
    
    <!-- Contenedor para testimonios din√°micos -->
    <div id="testimonios-reales" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <!-- Los proyectos con fotos se cargan aqu√≠ autom√°ticamente -->
    </div>
  </div>
</section>
<hr class="my-6 border-gray-300">

<!-- Contacto - MEJORADO FASE 5 -->
<section id="contacto" class="p-3 bg-gradient-to-br from-white to-gray-50 sm:p-6 text-center rounded-2xl mx-4 mb-4">
  <h3 class="text-2xl sm:text-3xl font-bold mb-8 animate-fade-in-up">Cont√°ctanos</h3>
  <p class="mb-8 text-lg sm:text-xl text-gray-700 max-w-2xl mx-auto text-readable leading-relaxed">
    ¬øQuieres m√°s informaci√≥n o una <strong class="text-blue-600">cotizaci√≥n r√°pida</strong>? 
    Escr√≠benos ahora y te respondemos lo antes posible.
  </p>
  
  <!-- √çconos y bot√≥n - MEJORADOS -->
  <div class="flex flex-col sm:flex-row items-center justify-center gap-8">
    
    <!-- Facebook -->
    <a href="https://www.facebook.com/share/15HSQmpG2Z8/" target="_blank"
       class="text-blue-600 text-5xl hover:text-blue-700 transition-all duration-300 transform hover:scale-110 product-hover"
       aria-label="S√≠guenos en Facebook">
       <i class="fab fa-facebook"></i>
    </a>

    <!-- WhatsApp -->
    <a href="https://wa.me/595972292392" target="_blank"
       class="bg-green-500 hover:bg-green-600 text-white px-8 py-4 rounded-xl shadow-lg hover:shadow-xl font-semibold text-lg flex items-center justify-center btn-hover touch-target btn-icon transition-all duration-300 transform hover:scale-105"
       aria-label="Chatear por WhatsApp">
       <i class="fab fa-whatsapp mr-3 text-xl"></i>WhatsApp
    </a>

    <!-- Instagram -->
    <a href="https://www.instagram.com/innovakit_ofc?igsh=N2ZsNjh4YWo4MDBs" target="_blank"
       class="text-pink-500 text-5xl hover:text-pink-600 transition-all duration-300 transform hover:scale-110 product-hover"
       aria-label="S√≠guenos en Instagram">
       <i class="fab fa-instagram"></i>
    </a>
    
  </div>
</section>

<!-- Chat WhatsApp Flotante - MEJORADO FASE 5 -->
<div class="fixed bottom-6 right-6 z-50 animate-bounce-subtle">
  <a href="https://wa.me/595972292392?text=¬°Hola! Quiero m√°s informaci√≥n sobre los kits de Innovakit" 
     target="_blank"
     class="bg-green-500 hover:bg-green-600 text-white p-5 rounded-full shadow-2xl hover:shadow-3xl transition-all duration-300 flex items-center justify-center w-16 h-16 btn-hover touch-target"
     aria-label="Chatear por WhatsApp">
    <i class="fab fa-whatsapp text-2xl"></i>
  </a>
  <div class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-7 h-7 flex items-center justify-center animate-pulse-soft shadow-md">
    üí¨
  </div>
</div>
</main>    
 
 <!-- Vista de productos individuales - MEJORADO FASE 5 -->
<section id="vista-productoskit" class="hidden p-6 sm:p-12 bg-gradient-to-br from-gray-50 to-white min-h-screen">
  <div id="productoskit-content" class="max-w-7xl mx-auto"></div>
  <div class="mt-12 flex justify-center animate-fade-in-up">
    <button onclick="volverAlInicio()" class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl shadow-lg hover:shadow-xl font-semibold text-lg btn-hover touch-target btn-icon transition-all duration-300">
      <i class="fas fa-arrow-left mr-2"></i>
      Volver al inicio
    </button>
  </div>
</section>

<!-- Modal para descripci√≥n completa - MEJORADO FASE 5 -->
<div id="modal-descripcion" class="modal opacity-0 pointer-events-none fixed w-full h-full top-0 left-0 flex items-center justify-center z-50 backdrop-blur-sm">
  <div class="modal-overlay absolute w-full h-full bg-gray-900 opacity-60 transition-opacity duration-300"></div>

  <div class="modal-container bg-white w-11/12 md:max-w-4xl mx-auto rounded-2xl shadow-2xl z-50 overflow-y-auto transform transition-all duration-300 scale-95">

    <div class="modal-close absolute top-4 right-4 cursor-pointer flex flex-col items-center text-white text-sm z-50 btn-hover">
      <div class="bg-gray-700 hover:bg-gray-800 rounded-full p-3 transition-all duration-300">
        <svg class="fill-current text-white w-5 h-5" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
          <path d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"/>
        </svg>
      </div>
      <span class="text-xs mt-1 text-gray-300">(Esc)</span>
    </div>

    <div class="modal-content py-6 text-left px-8">
      <!-- Titulo -->
      <div class="flex justify-between items-center pb-4 mb-6 border-b border-gray-200">
        <p class="text-2xl md:text-3xl font-bold text-gray-800" id="modal-titulo"></p>
      </div>

      <!-- Contenido -->
      <div id="modal-contenido" class="mb-8 text-readable text-gray-700 leading-relaxed"></div>

      <!-- Documentos descargables -->
      <div id="modal-documentos" class="mb-8 p-6 bg-blue-50 rounded-xl border border-blue-200">
        <h3 class="text-lg font-semibold mb-4 text-blue-800 flex items-center">
          <i class="fas fa-file-download mr-2"></i>
          Documentos del producto
        </h3>
        <div id="documentos-lista" class="grid grid-cols-1 md:grid-cols-2 gap-3"></div>
      </div>

      <!-- Botones -->
      <div class="flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-200">
        <button class="px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-xl font-semibold transition-all duration-300 btn-hover" onclick="toggleModal()">
          <i class="fas fa-times mr-2"></i>
          Cerrar
        </button>
        <a id="modal-whatsapp" href="#" target="_blank" class="px-6 py-3 rounded-xl bg-green-500 hover:bg-green-600 text-white font-semibold flex items-center justify-center btn-hover touch-target btn-icon transition-all duration-300">
          <i class="fab fa-whatsapp mr-2"></i>
          Comprar por WhatsApp
        </a>
      </div>
    </div>
  </div>
</div>
<!-- Modal Carrito - MEJORADO FASE 5 -->
<div id="modal-carrito" class="modal opacity-0 pointer-events-none fixed w-full h-full top-0 left-0 flex items-center justify-center z-50 backdrop-blur-sm">
  <div class="modal-overlay absolute w-full h-full bg-gray-900 opacity-60 transition-opacity duration-300"></div>
  <div class="modal-container bg-white w-11/12 md:max-w-2xl mx-auto rounded-2xl shadow-2xl z-50 overflow-y-auto transform transition-all duration-300 scale-95 max-h-[90vh]">
    <div class="py-6 px-8">
      <!-- Header -->
      <div class="flex justify-between items-center pb-4 mb-6 border-b border-gray-200">
        <h2 class="text-2xl md:text-3xl font-bold text-gray-800 flex items-center">
          <i class="fas fa-shopping-cart mr-3 text-blue-600"></i>
          Tu carrito
        </h2>
        <button class="modal-carrito-close text-gray-500 hover:text-gray-700 text-2xl font-bold transition-colors duration-300 btn-hover p-2 rounded-full hover:bg-gray-100">
          ‚úï
        </button>
      </div>

      <!-- Lista de productos -->
      <div id="carrito-lista" class="divide-y divide-gray-200 max-h-96 overflow-y-auto"></div>

      <!-- Footer con total y botones -->
      <div class="flex flex-col sm:flex-row items-center justify-between mt-8 pt-6 border-t border-gray-200 gap-4">
        <div class="text-xl font-bold text-gray-800">
          Total: <span id="carrito-total" class="text-green-600 text-2xl">Gs. 0</span>
        </div>
        <div class="flex flex-col sm:flex-row gap-3 w-full sm:w-auto">
          <button onclick="vaciarCarrito()" class="px-6 py-3 rounded-xl bg-red-500 hover:bg-red-600 text-white font-semibold flex items-center justify-center btn-hover touch-target transition-all duration-300">
            <i class="fas fa-trash mr-2"></i>
            Vaciar
          </button>
          <button onclick="enviarCarritoWhatsApp()" class="px-6 py-3 rounded-xl bg-green-500 hover:bg-green-600 text-white font-semibold flex items-center justify-center btn-hover touch-target btn-icon transition-all duration-300">
            <i class="fab fa-whatsapp mr-2"></i>
            Enviar por WhatsApp
          </button>
          <button class="modal-carrito-close px-6 py-3 rounded-xl bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold transition-all duration-300 btn-hover">
            Cerrar
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal de producto individual - OPTIMIZADO PARA M√ìVIL -->
<div id="modal-producto" class="modal opacity-0 pointer-events-none fixed w-full h-full top-0 left-0 flex items-center justify-center z-50 backdrop-blur-sm">
  <div class="modal-overlay absolute w-full h-full bg-gray-900 opacity-60 transition-opacity duration-300"></div>

  <div class="modal-container bg-white w-11/12 md:max-w-5xl mx-auto rounded-2xl shadow-2xl z-50 overflow-y-auto max-h-[95vh] transform transition-all duration-300 scale-95">

    <div class="modal-close absolute top-2 right-2 cursor-pointer z-50">
      <div class="bg-gray-700 hover:bg-gray-800 rounded-full p-2 transition-all duration-300">
        <svg class="fill-current text-white w-4 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18">
          <path d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"/>
        </svg>
      </div>
    </div>

    <div class="modal-content py-4 text-left px-4">
      <div class="flex flex-col md:grid md:grid-cols-2 gap-4 md:gap-6">
        
        <!-- Columna izquierda - Im√°genes OPTIMIZADA PARA M√ìVIL -->
        <div class="space-y-3">
          <img id="modal-producto-imagen" src="" alt="" class="w-full h-48 md:h-80 object-contain rounded-xl bg-gray-50 contrast-enhanced">
          <div class="grid grid-cols-4 gap-2">
            <img id="modal-producto-thumb1" src="" alt="" class="h-16 md:h-20 object-contain rounded-lg border border-gray-200 cursor-pointer hover:border-blue-500 transition-all">
            <img id="modal-producto-thumb2" src="" alt="" class="h-16 md:h-20 object-contain rounded-lg border border-gray-200 cursor-pointer hover:border-blue-500 transition-all">
            <img id="modal-producto-thumb3" src="" alt="" class="h-16 md:h-20 object-contain rounded-lg border border-gray-200 cursor-pointer hover:border-blue-500 transition-all">
            <img id="modal-producto-thumb4" src="" alt="" class="h-16 md:h-20 object-contain rounded-lg border border-gray-200 cursor-pointer hover:border-blue-500 transition-all">
          </div>
        </div>

        <!-- Columna derecha - Informaci√≥n OPTIMIZADA -->
        <div class="space-y-4">
          <div>
            <h2 id="modal-producto-nombre" class="text-xl md:text-2xl font-bold text-gray-800 mb-2 line-clamp-2"></h2>
            <div class="flex items-center mb-4">
              <span id="modal-producto-precio" class="text-2xl md:text-3xl font-bold text-green-600"></span>
              <span id="modal-producto-stock" class="ml-3 px-2 py-1 text-xs rounded-full bg-green-100 text-green-800 font-semibold"></span>
            </div>
          </div>

          <div class="space-y-4">
            <div>
              <p id="modal-producto-descripcion" class="text-gray-700 text-sm md:text-base leading-relaxed line-clamp-4 md:line-clamp-none"></p>
            </div>
            
            <!-- Especificaciones OPTIMIZADAS -->
            <div id="modal-producto-especificaciones" class="space-y-2 p-3 bg-blue-50 rounded-lg border border-blue-200">
              <h4 class="font-semibold text-blue-800 text-sm md:text-base flex items-center">
                <i class="fas fa-list-ul mr-2 text-xs"></i>
                Especificaciones
              </h4>
              <div class="space-y-1 text-xs md:text-sm text-gray-700 max-h-32 overflow-y-auto">
                <!-- Se llena con JavaScript -->
              </div>
            </div>
          </div>

          <!-- Secci√≥n de Reviews - AGREGAR ESTO -->
          <div class="reviews-section mt-6 pt-4 border-t border-gray-200">
              <div id="modal-producto-reviews">
                  <!-- Los reviews se cargan aqu√≠ autom√°ticamente -->
              </div>
          </div>

          <!-- Botones de acci√≥n OPTIMIZADOS -->
          <div class="space-y-3 pt-2">
            <button onclick="comprarProductoWhatsApp()" class="w-full bg-green-500 hover:bg-green-600 text-white px-4 py-3 rounded-lg font-semibold text-sm md:text-base flex items-center justify-center btn-hover touch-target">
              <i class="fab fa-whatsapp mr-2 text-lg"></i> 
              Comprar por WhatsApp
            </button>
            <button onclick="agregarProductoAlCarrito()" class="w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg font-semibold text-sm md:text-base flex items-center justify-center btn-hover touch-target">
              <i class="fas fa-cart-plus mr-2 text-lg"></i>
              Agregar al carrito
            </button>
            <button onclick="toggleModalProducto()" class="w-full bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-3 rounded-lg font-semibold text-sm md:text-base transition-all btn-hover">
              Seguir viendo productos
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Vista de Asesor√≠as - MEJORADO FASE 5 -->
<section id="vista-asesorias" class="hidden p-4 sm:p-6 lg:p-12 bg-cover bg-center bg-fixed min-h-screen" style="background-image: url('png/Fondo_web.svg');">
  <div class="bg-white bg-opacity-90 rounded-2xl p-8 backdrop-blur-sm border border-gray-200">
    
    <!-- Header MEJORADO -->
    <div class="flex flex-col lg:flex-row justify-between items-center mb-12 gap-6">
      <div class="text-center lg:text-left">
        <h3 class="text-3xl sm:text-4xl font-bold text-gray-800 mb-4 animate-fade-in-up">Asesor√≠a para Proyectos T√©cnicos</h3>
        <p class="text-xs text-gray-600 max-w-2xl text-readable leading-relaxed">
          ¬øParticipas en una feria cient√≠fica o expo t√©cnica? Nuestros expertos te ayudan a desarrollar 
          tu proyecto con Innovakit.
        </p>
      </div>
      <button onclick="volverAlInicio()" class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl shadow-lg hover:shadow-xl font-semibold text-lg flex items-center btn-hover touch-target btn-icon transition-all duration-300 whitespace-nowrap">
        <i class="fas fa-arrow-left mr-3"></i>
        Volver al inicio
      </button>
    </div>

    <!-- Panel de Asesores MEJORADO -->
    <div class="mb-16">
      <h4 class="text-2xl sm:text-3xl font-bold mb-12 text-center text-gray-800 animate-fade-in-up">Nuestros Asesores</h4>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 lg:gap-8">
        
        <!-- Asesor 1 - MEJORADO -->
        <div class="card-elevated p-8 rounded-2xl transition duration-300 product-hover text-center">
          <div class="w-24 h-24 md:w-36 md:h-36 rounded-full mx-auto mb-4 md:mb-6 overflow-hidden border-4 border-blue-200 shadow-lg">
            <img src="asesores/icono_hombre.jpg" alt="Ing. Carlos Mendoza" class="w-full h-full object-cover object-top contrast-enhanced" loading="lazy">
          </div>
          <h5 class="font-bold text-xl text-gray-800 mb-3">Ing. Carlos Mendoza</h5>
          <p class="text-sm text-blue-600 font-semibold mb-4">Especialista en Rob√≥tica Educativa</p>
          <p class="text-gray-600 text-readable leading-relaxed mb-6">+5 a√±os asesorando proyectos escolares. Experto en Arduino y automatizaci√≥n.</p>
          <div class="flex justify-center space-x-3">
            <span class="bg-blue-100 text-blue-800 text-xs px-3 py-2 rounded-full font-semibold border border-blue-200">Electr√≥nica</span>
            <span class="bg-green-100 text-green-800 text-xs px-3 py-2 rounded-full font-semibold border border-green-200">Programaci√≥n</span>
          </div>
        </div>

        <!-- Asesor 2 - MEJORADO -->
        <div class="card-elevated p-8 rounded-2xl transition duration-300 product-hover text-center">
          <div class="w-24 h-24 md:w-36 md:h-36 rounded-full mx-auto mb-4 md:mb-6 overflow-hidden border-4 border-blue-200 shadow-lg">
            <img src="asesores/icono_mujer.jpg" alt="Lic. Ana Torres" class="w-full h-full object-cover object-top contrast-enhanced" loading="lazy">
          </div>
          <h5 class="font-bold text-xl text-gray-800 mb-3">Lic. Ana Torres</h5>
          <p class="text-sm text-purple-600 font-semibold mb-4">Pedagoga Tecnol√≥gica</p>
          <p class="text-gray-600 text-readable leading-relaxed mb-6">Especializada en metodolog√≠as de aprendizaje STEM para proyectos educativos.</p>
          <div class="flex justify-center space-x-3">
            <span class="bg-purple-100 text-purple-800 text-xs px-3 py-2 rounded-full font-semibold border border-purple-200">STEM</span>
            <span class="bg-yellow-100 text-yellow-800 text-xs px-3 py-2 rounded-full font-semibold border border-yellow-200">Metodolog√≠a</span>
          </div>
        </div>

        <!-- Asesor 3 - MEJORADO -->
        <div class="card-elevated p-8 rounded-2xl transition duration-300 product-hover text-center">
          <div class="w-24 h-24 md:w-36 md:h-36 rounded-full mx-auto mb-4 md:mb-6 overflow-hidden border-4 border-blue-200 shadow-lg">
            <img src="asesores/icono_hombre2.jpg" alt="Ing. Roberto D√≠az" class="w-full h-full object-cover object-top contrast-enhanced" loading="lazy">
          </div>
          <h5 class="font-bold text-xl text-gray-800 mb-3">Ing. Roberto D√≠az</h5>
          <p class="text-sm text-red-600 font-semibold mb-4">Experto en IoT</p>
          <p class="text-gray-600 text-readable leading-relaxed mb-6">Desarrollador de proyectos con sensores y aplicaciones IoT para ferias cient√≠ficas.</p>
          <div class="flex justify-center space-x-3">
            <span class="bg-red-100 text-red-800 text-xs px-3 py-2 rounded-full font-semibold border border-red-200">IoT</span>
            <span class="bg-indigo-100 text-indigo-800 text-xs px-3 py-2 rounded-full font-semibold border border-indigo-200">Sensores</span>
          </div>
        </div>
        
      </div>
    </div>

    <!-- Formulario de Contacto MEJORADO -->
    <form class="max-w-4xl mx-auto bg-white rounded-2xl p-8 shadow-lg border border-gray-200" action="https://formsubmit.co/innovakit.com@gmail.com" method="POST">
      <!-- Campos ocultos para Formsubmit -->
      <input type="hidden" name="_subject" value="Nueva solicitud de asesor√≠a - Innovakit">
      <input type="hidden" name="_template" value="table">
      <input type="hidden" name="_next" value="https://tuweb.com/gracias.html">

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
        <div class="space-y-2">
          <label class="block text-sm font-semibold text-gray-700 mb-2">Nombre completo</label>
          <input type="text" name="nombre" class="form-input-enhanced w-full" required>
        </div>
        <div class="space-y-2">
          <label class="block text-sm font-semibold text-gray-700 mb-2">Colegio/Instituci√≥n</label>
          <input type="text" name="institucion" class="form-input-enhanced w-full" required>
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
        <div class="space-y-2">
          <label class="block text-sm font-semibold text-gray-700 mb-2">Email</label>
          <input type="email" name="email" class="form-input-enhanced w-full" required>
        </div>
        <div class="space-y-2">
          <label class="block text-sm font-semibold text-gray-700 mb-2">Tel√©fono</label>
          <input type="tel" name="telefono" class="form-input-enhanced w-full" required>
        </div>
      </div>

      <div class="mb-6">
        <label class="block text-sm font-semibold text-gray-700 mb-3">Tipo de proyecto</label>
        <select name="tipo_proyecto" class="form-input-enhanced w-full">
          <option>Feria cient√≠fica</option>
          <option>Expo t√©cnica</option>
          <option>Proyecto escolar</option>
          <option>Competencia de rob√≥tica</option>
          <option>Otro</option>
        </select>
      </div>

      <div class="mb-6">
        <label class="block text-sm font-semibold text-gray-700 mb-3">Describe tu proyecto o idea</label>
        <textarea name="proyecto" rows="5" class="form-input-enhanced w-full resize-none" placeholder="Qu√© quieres hacer, qu√© materiales tienes, qu√© necesitas..." required></textarea>
      </div>

      <div class="mb-8">
        <label class="block text-sm font-semibold text-gray-700 mb-3">Fecha l√≠mite (si aplica)</label>
        <input type="date" name="fecha_limite" class="form-input-enhanced w-full">
      </div>

      <div class="flex flex-col sm:flex-row gap-4">
        <button type="submit" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-xl shadow-lg hover:shadow-xl font-semibold text-lg btn-hover touch-target btn-icon transition-all duration-300">
          <i class="fas fa-paper-plane mr-3"></i>
          Enviar solicitud
        </button>
        <button type="button" onclick="enviarPorWhatsApp()" class="flex-1 bg-green-500 hover:bg-green-600 text-white py-4 rounded-xl shadow-lg hover:shadow-xl font-semibold text-lg btn-hover touch-target btn-icon transition-all duration-300">
          <i class="fab fa-whatsapp mr-3"></i>
          Contactar por WhatsApp
        </button>
      </div>
    </form>
  </div>
</section>
  
  <!-- Espacio para que no se superponga con el footer -->
  <div class="h-12"></div>
</form>

<!-- Vista de Componentes Sueltos - MEJORADO FASE 5 -->
<section id="vista-componentes-sueltos" class="hidden bg-gradient-to-b from-gray-50 to-white min-h-screen">
  <!-- Header con breadcrumb MEJORADO -->
  <div class="bg-white shadow-sm border-b">
    <div class="container mx-auto px-4 py-6">
      <nav class="text-sm text-gray-600 flex items-center space-x-2">
        <a href="#" onclick="volverAlInicio()" class="hover:text-blue-600 transition-colors duration-300 flex items-center">
          <i class="fas fa-home mr-2"></i>
          Inicio
        </a>
        <span class="text-gray-400">/</span>
        <span class="text-gray-800 font-semibold">Componentes Sueltos</span>
      </nav>
    </div>
  </div>

  <div class="page-container">
    <div class="products-container">
      <div class="container mx-auto px-4 py-8">
  
        <!-- Barra superior con b√∫squeda y filtros - VERSI√ìN H√çBRIDA -->
<!-- REEMPLAZA TU BARRA DE FILTROS ACTUAL CON ESTO -->
<div class="bg-white rounded-lg shadow-sm border p-4 mb-6">
  <div class="flex flex-col md:flex-row gap-3 items-stretch md:items-center">
    
    <!-- B√∫squeda -->
    <div class="flex-1">
      <div class="relative">
        <input type="text" id="buscar-componente" placeholder="üîç Buscar componentes..." 
               class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-base">
      </div>
    </div>

    <!-- Bot√≥n para abrir modal de filtros en m√≥vil -->
    <button onclick="mostrarModalFiltros()" 
            class="md:hidden bg-blue-500 text-white px-4 py-3 rounded-lg font-semibold flex items-center justify-center gap-2">
      <i class="fas fa-filter"></i>
      Filtros
    </button>

    <!-- Filtros normales para desktop (ocultos en m√≥vil) -->
    <div class="hidden md:flex flex-row gap-3">
      <!-- Filtro de Categor√≠as Desktop - MANTIENE TU C√ìDIGO ORIGINAL -->
      <div class="relative group" id="filtro-categoria-container">
        <button class="px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-all duration-300 flex items-center gap-2">
          <i class="fas fa-layer-group"></i>
          Categor√≠as
          <i class="fas fa-chevron-down text-xs transition-transform duration-300 group-hover:rotate-180"></i>
        </button>
        
        <!-- Dropdown Desktop - TU C√ìDIGO ORIGINAL COMPLETO -->
        <div class="absolute top-full left-0 mt-2 w-64 bg-white rounded-xl shadow-2xl border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 transform origin-top-right scale-95 group-hover:scale-100 z-50">
          <div class="p-3">
            <div class="space-y-1">
              <!-- Categor√≠a Sensores -->
              <div class="relative subcategory-group">
                <button class="w-full text-left px-3 py-2 rounded-lg hover:bg-blue-50 transition-all duration-200 flex items-center justify-between group">
                  <span class="flex items-center gap-2">
                    <i class="fas fa-microchip text-green-500"></i>
                    Sensores
                  </span>
                  <i class="fas fa-chevron-right text-xs text-gray-400 group-hover:text-blue-500 transition-transform duration-300 group-hover:translate-x-1"></i>
                </button>
                
                <!-- Subcategor√≠as Sensores -->
                <div class="absolute left-full top-0 ml-1 w-56 bg-white rounded-xl shadow-xl border border-gray-200 opacity-0 invisible subcategory-panel transition-all duration-300 transform origin-top-left scale-95">
                  <div class="p-3">
                    <div class="text-xs font-semibold text-gray-500 mb-2 uppercase tracking-wide">Tipos de Sensores</div>
                    <div class="space-y-1">
                      <button class="w-full text-left px-3 py-2 rounded-lg hover:bg-green-50 transition-colors duration-200 text-sm flex items-center gap-2" 
                        onclick="aplicarFiltroCategoria('Temperatura')">
                        <i class="fas fa-thermometer-half text-orange-500"></i>
                        Temperatura
                      </button>
                      <button class="w-full text-left px-3 py-2 rounded-lg hover:bg-green-50 transition-colors duration-200 text-sm flex items-center gap-2"
                        onclick="aplicarFiltroCategoria('Humedad')">
                        <i class="fas fa-tint text-blue-500"></i>
                        Humedad
                      </button>
                      <button class="w-full text-left px-3 py-2 rounded-lg hover:bg-green-50 transition-colors duration-200 text-sm flex items-center gap-2"
                        onclick="aplicarFiltroCategoria('Movimiento')">
                        <i class="fas fa-running text-purple-500"></i>
                        Movimiento
                      </button>
                      <button class="w-full text-left px-3 py-2 rounded-lg hover:bg-green-50 transition-colors duration-200 text-sm flex items-center gap-2"
                        onclick="aplicarFiltroCategoria('Luz')">
                        <i class="fas fa-sun text-yellow-500"></i>
                        Luz
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Categor√≠a Motores -->
              <div class="relative subcategory-group">
                <button class="w-full text-left px-3 py-2 rounded-lg hover:bg-blue-50 transition-all duration-200 flex items-center justify-between group">
                  <span class="flex items-center gap-2">
                    <i class="fas fa-cog text-red-500"></i>
                    Motores
                  </span>
                  <i class="fas fa-chevron-right text-xs text-gray-400 group-hover:text-blue-500 transition-transform duration-300 group-hover:translate-x-1"></i>
                </button>
                
                <!-- Subcategor√≠as Motores -->
                <div class="absolute left-full top-0 ml-1 w-56 bg-white rounded-xl shadow-xl border border-gray-200 opacity-0 invisible subcategory-panel transition-all duration-300 transform origin-top-left scale-95">
                  <div class="p-3">
                    <div class="text-xs font-semibold text-gray-500 mb-2 uppercase tracking-wide">Tipos de Motores</div>
                    <div class="space-y-1">
                      <button class="w-full text-left px-3 py-2 rounded-lg hover:bg-red-50 transition-colors duration-200 text-sm flex items-center gap-2"
                        onclick="aplicarFiltroCategoria('Servo Motores')">
                        <i class="fas fa-robot text-red-400"></i>
                        Servo Motores
                      </button>
                      <button class="w-full text-left px-3 py-2 rounded-lg hover:bg-red-50 transition-colors duration-200 text-sm flex items-center gap-2"
                        onclick="aplicarFiltroCategoria('Stepper')">
                        <i class="fas fa-sync-alt text-red-400"></i>
                        Stepper
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Otras categor√≠as -->
              <button class="w-full text-left px-3 py-2 rounded-lg hover:bg-blue-50 transition-all duration-200 flex items-center gap-2"
                      onclick="aplicarFiltroCategoria('Displays')">
                <i class="fas fa-tv text-purple-500"></i>
                Displays
              </button>
              
              <button class="w-full text-left px-3 py-2 rounded-lg hover:bg-blue-50 transition-all duration-200 flex items-center gap-2"
                      onclick="aplicarFiltroCategoria('Placas')">
                <i class="fas fa-microchip text-gray-500"></i>
                Placas
              </button>

              <!-- Divider -->
              <div class="border-t my-2"></div>

              <!-- Bot√≥n ver todos -->
              <button onclick="limpiarFiltros()" class="w-full text-center px-3 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 transition-colors duration-200 text-sm font-semibold text-gray-700">
                <i class="fas fa-th-list mr-2"></i>
                Ver todas las categor√≠as
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Filtro de Precio Desktop -->
      <select id="filtro-precio" class="px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white shadow-sm">
        <option value="todos">üíé Todos los precios</option>
        <option value="0-50000">üí∞ Gs. 0 - 50.000</option>
        <option value="50000-100000">üíµ Gs. 50.000 - 100.000</option>
        <option value="100000-200000">üí≥ Gs. 100.000 - 200.000</option>
      </select>
    </div>
  </div>
</div>

<!-- MODAL DE FILTROS PARA M√ìVIL - VERSI√ìN JER√ÅRQUICA -->
<div id="modal-filtros" class="fixed inset-0 z-50 hidden">
  <div class="absolute inset-0 bg-black bg-opacity-50" onclick="cerrarModalFiltros()"></div>
  <div class="absolute bottom-0 left-0 right-0 bg-white rounded-t-2xl p-6 max-h-[80vh] overflow-y-auto">
    
    <!-- HEADER DIN√ÅMICO -->
    <div class="flex items-center mb-6 pb-4 border-b">
      <button id="btn-volver-categorias" class="text-gray-500 mr-3 hidden">
        <i class="fas fa-chevron-left text-xl"></i>
      </button>
      <h3 id="modal-filtros-titulo" class="text-xl font-bold flex-1">Filtros</h3>
      <button onclick="cerrarModalFiltros()" class="text-gray-500 text-2xl">√ó</button>
    </div>

    <!-- CONTENIDO PRINCIPAL - DIN√ÅMICO -->
    <div id="contenido-filtros">
      <!-- Aqu√≠ se carga din√°micamente el contenido -->
    </div>

    <!-- PIE DEL MODAL -->
    <div class="mt-6 pt-4 border-t">
      <!-- Precio en m√≥vil -->
      <div class="mb-6">
        <h4 class="font-semibold mb-3 text-lg">üí∞ Precio</h4>
        <select id="filtro-precio-mobile" class="w-full p-3 border rounded-lg text-base">
          <option value="todos">üíé Todos los precios</option>
          <option value="0-50000">üí∞ Gs. 0 - 50.000</option>
          <option value="50000-100000">üíµ Gs. 50.000 - 100.000</option>
          <option value="100000-200000">üí≥ Gs. 100.000 - 200.000</option>
        </select>
      </div>

      <button onclick="aplicarFiltrosMovil()" class="w-full bg-blue-600 text-white py-4 rounded-lg font-semibold text-lg">
        Aplicar Filtros
      </button>
    </div>
  </div>
</div>
      <!-- Grid de productos (se mantiene igual) -->
<div id="grid-componentes" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
  <!-- Los productos se cargan aqu√≠ con JavaScript -->
</div>

<!-- Loading state MEJORADO -->
<div id="loading-componentes" class="text-center py-16 hidden">
  <div class="inline-block animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mb-6"></div>
  <p class="text-gray-600 text-lg font-medium">Cargando componentes...</p>
  <p class="text-gray-500 text-sm mt-2">Buscando los mejores productos para ti</p>
</div>
      </div>
    </div>

   <!-- PAGINACI√ìN FIJA MEJORADA -->
<div class="pagination-fixed backdrop-blur bg-white/90 border-t border-gray-200 safe-bottom mb-2 md:mb-4">
  <div class="container mx-auto px-4">
    
    <!-- DESKTOP: Tu dise√±o actual (oculto en m√≥vil) -->
    <div class="hidden sm:flex justify-center items-center space-x-6">
      <button onclick="cambiarPagina(paginaActual - 1)" 
              class="px-6 py-3 bg-yellow-400 hover:bg-yellow-500 text-gray-900 rounded-xl shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 btn-hover font-semibold flex items-center gap-2">
        <i class="fas fa-chevron-left text-sm"></i>
        Anterior
      </button>
      
      <span id="info-paginacion" class="text-base text-gray-700 font-semibold bg-gray-100 px-4 py-2 rounded-lg">
        P√°gina <span class="text-blue-600">1</span> de <span class="text-blue-600">1</span>
      </span>
      
      <button onclick="cambiarPagina(paginaActual + 1)" 
              class="px-6 py-3 bg-yellow-400 hover:bg-yellow-500 text-gray-900 rounded-xl shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 btn-hover font-semibold flex items-center gap-2">
        Siguiente
        <i class="fas fa-chevron-right text-sm"></i>
      </button>
    </div>

   <!-- M√ìVIL: Versi√≥n compacta (oculta en desktop) CORREGIDA -->
<div class="sm:hidden flex justify-between items-center py-2 px-3">
  <button onclick="cambiarPagina(paginaActual - 1)" 
          class="px-3 py-2 bg-yellow-400 hover:bg-yellow-500 text-gray-900 rounded-lg disabled:opacity-50 transition-all font-semibold text-sm flex items-center touch-target min-w-[70px] justify-center">
    <i class="fas fa-chevron-left mr-1"></i>
    Ant.
  </button>
  
  <span id="info-paginacion-mobile" class="text-sm text-gray-700 font-medium px-3 py-1 bg-gray-100 rounded">
    <span class="text-blue-600">1</span>/<span class="text-blue-600">1</span>
  </span>
  
  <button onclick="cambiarPagina(paginaActual + 1)" 
          class="px-3 py-2 bg-yellow-400 hover:bg-yellow-500 text-gray-900 rounded-lg disabled:opacity-50 transition-all font-semibold text-sm flex items-center touch-target min-w-[70px] justify-center">
    Sig.
    <i class="fas fa-chevron-right ml-1"></i>
  </button>
</div>

  </div>
</div>
</section>

<!-- Footer MEJORADO - Responsive -->
<footer class="bg-gradient-to-b from-gray-800 to-gray-900 text-white text-center p-4" role="contentinfo">
  
  <!-- Desktop: Footer completo (oculto en m√≥vil) -->
  <div class="hidden sm:block">
    <div class="max-w-5xl mx-auto">
      <div class="flex flex-col md:flex-row justify-between items-center gap-6 mb-6">
        <!-- Solo nombre - m√°s grande -->
        <div class="flex items-center">
          <span class="text-4xl font-bold">
            <span style="color:#7eb74a">Inn</span><span style="color:#fdc344">o</span><span style="color:#7eb74a">va</span><span class="text-blue-400">kit</span>
          </span>
        </div>
        
        <!-- Enlaces r√°pidos -->
        <div class="flex flex-wrap justify-center gap-6 text-sm">
          <a href="#mision" onclick="volverAlInicio()" class="hover:text-blue-300 transition-colors duration-300">Misi√≥n</a>
          <a href="#productos" onclick="volverAlInicio()" class="hover:text-blue-300 transition-colors duration-300">Productos</a>
          <a href="#contacto" onclick="volverAlInicio()" class="hover:text-blue-300 transition-colors duration-300">Contacto</a>
          <a href="#asesorias-preview" onclick="volverAlInicio()" class="hover:text-blue-300 transition-colors duration-300">Asesor√≠as</a>
        </div>
      </div>
      
      <!-- L√≠nea divisoria -->
      <div class="border-t border-gray-700 my-6"></div>
      
      <!-- Copyright y info -->
      <div class="flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-gray-400">
        <p>&copy; 2025 Innovakit. <strong>Todos los derechos reservados.</strong></p>
        <p class="md:ml-auto">Kits de electr√≥nica y rob√≥tica educativa en Paraguay</p>
        <div class="flex gap-4">
          <a href="https://www.facebook.com/share/15HSQmpG2Z8/" target="_blank" class="hover:text-blue-400 transition-colors duration-300">
            <i class="fab fa-facebook text-lg"></i>
          </a>
          <a href="https://www.instagram.com/innovakit_ofc?igsh=N2ZsNjh4YWo4MDBs" target="_blank" class="hover:text-pink-400 transition-colors duration-300">
            <i class="fab fa-instagram text-lg"></i>
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- M√≥vil: Solo copyright (oculto en desktop) -->
  <div class="sm:hidden text-sm text-gray-400">
    <p>&copy; 2025 Innovakit. Todos los derechos reservados.</p>
  </div>

</footer>
<!-- Swiper JS (para el carrusel) -->
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<script>
    // Detectar soporte para WebP
function supportsWebP() {
    return new Promise(resolve => {
        const webP = new Image();
        webP.onload = webP.onerror = function () {
            resolve(webP.height === 2);
        };
        webP.src = 'data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA';
    });
}

// Funci√≥n para convertir rutas a WebP
function toWebP(path) {
    if (!path) return path;
    return path.replace(/\.(jpg|jpeg|png)$/i, '.webp');
}

    // --- Aqu√≠ defines todos los productos de cada kit ---
    const productosKits = [
      // Kit 1: Electr√≥nica B√°sico ( productos)
      [
        { 
          img: ["img/AE101_PORT.png", "webP/AE101-1.webp", "webP/AE101-2.webp", "webP/AE101-3.webp", "webP/AE101-3.webp", "webP/AE101-4.webp", "img/AE101_2.png", "img/AE101_22.png", "img/AE101_3.png", "img/AE101_4.png"], 
          nombre: "37 SENSOR KIT (AE101)", 
          desc: "Conjunto de componentes electr√≥nicos variados, ideales para aprender, practicar y desarrollar proyectos. Cada kit incluye piezas esenciales como: - Avoidance - RGB LED JOYSTICK - IR RECEIVER - 18B20 TEMP - Sensor Flame - Sensor Tracking - Photo Resistor - IR EMISSION - POWER SUPPLY MODULE - LCD 1602 Module (With PIN Header) - Relay - Linear Hall - Small Sound - SHOCK - HC-SR501 PIR MOTION SENSOR - PHOTO- INTERRUPTER TAP MODULE - Ultrasonic Sensor - DS-3231 RTC Module - GY-521 MODULE - 7 Color Flash - Button Module - Active Buzzer - Laser Emit - Membrane Switch - Big Sound - Water Level Sensor - Digital Temperature - Magnetic Spring - Mental Touch - SMD RGB - TILT - SWITCH - Rotary Encoder - Temp and Humidity - Two-Color", 
          precio: "Gs. 485.000",
          documentos: [
            { nombre: "Descargar Manual completo AE101", archivo: "https://drive.google.com/file/d/1Q5WFZhJhtsfK1D61rd2qJozNUP6JA4dx/view?usp=sharing" },
          ]
        },
        { 
          img: ["img/AE312.png", "img/AE312_1.png", "webP/AE312-1.webp", "webP/AE312-2.webp", "webP/AE312-3.webp", "webP/AE312-5.webp", "webP/AE312-6.webp", "webP/AE312-7.webp", "webP/AE312-8.webp"], 
          nombre: "ESP32 Basic STARTER KIT (AE312)", 
          desc: "Conjunto de componentes electr√≥nicos variados, ideales para aprender, practicar y desarrollar proyectos. Cada kit incluye piezas esenciales como: - ESP32 Development - 0.96 inch OLED - 830 Tie-Points Protoboard - Obstacle Avoidance Module - Photosensitive Resistor Module - DHT11 Temperature and Humidity Module - HC-SR501 PIR Motion Sensor - Potentiometer 10k - Micro-USB Cable - Resistor-220‚Ñ¶ 30PCS - Passive Buzzer - Active Buzzer - 5v2-Channel Relay Module - Button Switch - F-M DuPont Cable - F-F DuPont Cable - M-M DuPont Cable - LED-RGB - LED-RED - LED-YELLOW - LED-GREEN", 
          precio: "Gs. 475.000",
          documentos: [
            { nombre: "Descargar Manual Completo de AE312", archivo: "https://drive.google.com/file/d/1CSoF6y669V5x2hSEUaIDeX4DvzB9C5Y7/view?usp=sharing" },
          ]
        },
        { 
          img: ["img/AE086.png", "webP/AE086-11.webp", "webP/AE086-1.webp", "webP/AE086-2.webp", "webP/AE086-3.webp", "webP/AE086-4.webp", "webP/AE086-5.webp", "img/AE086_ultimo.png"], 
          nombre: "The Most Complete STARTER KIT UNO R3 Project (AE086)", 
          desc: "Conjunto de componentes electr√≥nicos variados, ideales para aprender, practicar y desarrollar proyectos. Cada kit incluye piezas esenciales como: - Controller Board 1PCS - LCD 1602 Module (With pin header) 1PCS - Powe Supply Module 1PCS  - GY-521 Module 1PCS - Rc522 RFID Module 1PCS - ULN2003 Stepper Motor Driver Board 1PCS - Stepper Motor 1PCS - Joystick Module 1PCS - AM312 PIR Motion Sensor 1PCS - Sound Sensor Module 1PCS - Water Lever Detection Sensor Module 1PCS - Ultrasonic Sensor 1PCS - Servo Motor (SG90) 1PCS - DS1307 RTC Module 1PCS - IR Receiver Module 1PCS - Rotary Encoder Module 1PCS - DHT11 Temperature and Humidity Module 1PCS - MAX7219 Module 1PCS - Prototype Expansion Board 1PCS - Remote 1PCS - L293D 1PCS - 1 Digit 7-Segment Display - 4 Digit 7-Segment Display - Passive Buzzer 1PCS - 74HC595 1PCS - Active Buzzer 1PCS - Fan Blade and 3-6v Motor (with wire) each 1PCS - USB Cable 1PCS - 5v Relay Module 1PCS - Membrane Switch Module 1PCS - 9V 1A Adapter 1PCS - 830 Tie-Point Protoboard 1PCS - 9v Battery Connector With DC 1PCS - Button (Small) (SG90) 5PCS - 65Jumper Wire 1PCS - Female-to-Male Dupont Wire 20PCS - Tilt Ball Switch 1PCS - Potentiometer 10k 2PCS - Resistor 120PCS - Electrolytic Capacitor (10Mf 50v 2PCS) ‚Äì Electrolytic Capacitor (100mF 50V) 2PCS - NPN Transistor (S8050) 5PCS - NPN Transistor (PN2222) 5PCS - 104pF Ceramic Capacitor 5PCS - 22pF Ceramic Capacitor 5PCS - Thermistor 1PCS - Diode Rectifier 5PCS - Photoresistor (Photocell) 2PCS - RGB LED 1PCS - LED RED 5PCS - LED YELLOW 5PCS - LED BLUE 5PCS - LED GREEN 5PCS - LED WHITE 5PCS", 
          precio: "Gs. 890.000",
          documentos: [
            { nombre: "Descargar Manual completo de AE086", archivo: "https://drive.google.com/file/d/1hwtyzzmWVZ-bXp4gcJ-MmBQ6ZYFkNnmc/view?usp=sharing" },
          ]
        },
        { 
          img: ["webP/AE325-1.webp", "webP/AE325-2.webp", "webP/AE325-3.webp", "webP/AE325-4.webp", "webP/AE325-5.webp", "webP/AE325-6.webp", "webP/AE325-7.webp", "webP/AE325-8.webp", "webP/AE325-0.webp", "img/AE325_4.png"], 
          nombre: "Sensor Module STARTE KIT for UNO  R3 Project (AE325)", 
          desc: "Conjunto de componentes electr√≥nicos variados, ideales para aprender, practicar y desarrollar proyectos. Cada kit incluye piezas esenciales como: - Controller Board Arduino Uno - Obstacle Avoidance Module - Touch Sensor - LCD 12C 1602 - Ultrasonic Sensor - Soil Humidity - DHT11 Temperature and Humidity Module - 5v Relay Module - PIR Motion Sensor - 0.96 OLED Module - 8*8 Dot Matrix Screen - Joystick Module - Protoboard (4.5x3.5cm) 2PCS - 4 Dight 7-Segment Display - USB Cable - Resistor1k-10k-220‚Ñ¶ 30PCS - Servo Motor (SG90) - LED  each one Blue-Red-Yellow-Green 5PCS - F-M DuPont Cable 20PCS - M-M DuPoint Cable 40PCS", 
          precio: "Gs. 684.500",
          documentos: [
            { nombre: "Descargar Manual Completo de AE325", archivo: "https://drive.google.com/file/d/1jG6HvFgIu6GirTjy2Ni-Sv7HTNpSSfYr/view?usp=sharing" },
          ]
        },
        { 
          img: ["webP/AE318-1.webp", "webP/AE318-2.webp", "webP/AE318-3.webp", "webP/AE318-5.webp", "webP/AE318-6.webp", "img/AE318_4.png"], 
          nombre: "9 en 1 Sensor Kit (AE318)", 
          desc: "Conjunto de sensores de gas variados, ideales para aprender, practicar y desarrollar proyectos. Cada kit incluye piezas esenciales como: - MQ‚Äì135 Sensor Module 1PCS - MQ‚Äì2 Sensor Module 1PCS - MQ‚Äì3 Sensor Module 1PCS - MQ‚Äì4 Sensor Module 1PCS - MQ‚Äì5 Sensor Module 1PCS - MQ‚Äì6 Sensor Module 1PCS - MQ‚Äì7 Sensor Module 1PCS - MQ‚Äì8 Sensor Module 1PCS - MQ‚Äì9 Sensor Module 1PCS", 
          precio: "Gs. 280.000",
          documentos: [
            { nombre: "Descargar Manual ESP32", archivo: "manual_esp32.pdf" },
          ]
        },
         { 
          img: ["webP/AE002-1.webp", "webP/AE002-2.webp", "webP/AE002-4.webp", "webP/AE002-6.webp", "img/AE002-7.png"], 
          nombre: "37 Piezas Sensor Kit (AE002)", 
          desc: "Conjunto de 37 piezas de M√≥dulos y Sensores combinados tales como: - DS18B20 Module - Shock Switch - Hall Magnetic sensor Module - Button Switch - Infrared Receiver - IR Emission - Passive Buzzer - Laser Module - SMD RGB Module - RGB LED Module - TEMP and Humidity module - Photo-interrupter Module - Mercury Switch - Tilt Switch Module - Reed Switch Module - Mini reed Switch Module - Mini two-color Module - Dual-color Common-Cathode LED - Knock Sensor - Digital temperature Module - Flame Module - Mental Touch Module - Analog temp Module - Photo-resistor Module - 7 color flash Module - High-sensitive Voice Sensor - Magic light cup Module - Joystick Module - Linear hall Module - Analog hall Module - Avoidance Module - Tracking Module - Rotary encoders Module - Buzzer Module - Heartbeat Module - Relay Module - Small sound Module", 
          precio: "Gs. 370.000",
          documentos: [
            { nombre: "Descargar Manual completo AE002", archivo: "https://drive.google.com/file/d/1y1vtNtXe1lpgNU7y4kQYZPzsc1INp3yO/view?usp=sharing" },
          ]
        },
        { 
          img: ["webP/AE099-1.webp", "webP/AE099-2.webp", "webP/AE099-3.webp", "webP/AE099-4.webp", "webP/AE099-5.webp", "webP/AE099-6.webp"], 
          nombre: "The Most Powerful Starter Kit For Arduino (AE099)", 
          desc: "Conjunto de sensores de gas variados, ideales para aprender, practicar y desarrollar proyectos. Cada kit incluye piezas esenciales como: - KS UNO R3 Controller Board - USB Cable - DS 3231 RTC Module - LCD 1602 Module (with pin hearder) - Key Board - RC 522 RFID Module - Joystick Module - Button 6mm 5PCS - SMD RGB - DHT11 Temperature and Humidity Module - RGB Module - 170 Tie-Points Protoboard - Water Level Detection Sensor Module - 830 Tie-Points Protoboard - Motor Driver Module - 1 Channel Module - 65 Jumper Wire - Motor DC 1PCS - Potentiometer (10k) 2PCS - Female-to-Male Dupont Wire - Display 2PCS - Sound Sensor Module - Remote 1PCS - Matrix Tube - Tilt Ball Switch 2PCS - Buzzer 2PCS - Servo Motor (SG90) - IR Receiver Sensor 1PCS - Flame Sensor - LED 20PCS - Photoresistor (Phorocell) 3PCS - Resistor 30PCS 10K-220‚Ñ¶-1k - 74HC595 - LM35DZ - Thermistor 10K - 9v Battery Connector With DC", 
          precio: "Gs. 670.000",
          documentos: [
            { nombre: "Descargar Manual Completo AE099", archivo: "https://drive.google.com/file/d/1Otxd2ZS68f71pzvYx5kYO9f12H6b5crK/view?usp=sharing" },
          ]
        },
          { 
          img: ["webP/AE313-1.webp", "webP/AE313-2.webp", "webP/AE313-3.webp", "webP/AE313-4.webp", "webP/AE313-5.webp", "webP/AE313-6.webp"], 
          nombre: "Basic Starter Kit for UNO R3 Projects (AE313)", 
          desc: "Conjunto de componentes electr√≥nicos variados, ideales para aprender, practicar y desarrollar proyectos. Cada kit incluye piezas esenciales como: - UNO R3 CH340 - Protoboard mini - USB Cable 1PCS - Obstacle Avoidance Moduel 1PCS - Soil Humidity Sensor - Sound Sensor Module - Water Lever Detection Sensor Module - 1 Dight 7-Segment Display - DHT11 - Passive Buzzer and Active Buzzer - Potentiometer (10k) - Button Switch 6PCS - 3 Kinds of Resistor 30PCS - M-M Dupont Wire 10PCS - Photoresistor 2PCS - Tilt Switch 1PCS - Thermistor 1PCS - RGB LED 1PCS - LED each one 5PCS Red-Yellow-Green", 
          precio: "Gs. 385.000",
          documentos: [
            { nombre: "Descargar Manual Completo de AE313", archivo: "https://drive.google.com/file/d/1wSHoa_8dzRXHGcqBdxRzf1p-sgcsvZEX/view?usp=sharing" },
          ]
        },
          { 
          img: ["webP/AE314-1.webp", "webP/AE314-2.webp", "webP/AE314-3.webp", "webP/AE314-4.webp", "webP/AE314-5.webp"], 
          nombre: "Super Starter Kit for UNO R3 Projects (AE314)", 
          desc: "Conjunto de componentes electr√≥nicos variados, ideales para aprender, practicar y desarrollar proyectos. Cada kit incluye piezas esenciales como: - Controller Board Arduino - USB Cable - 830 TLC-Points Protoboard - Remote Control - 65 Jumper Wire - Stepper Motor - Servo Motor (SG90) - LCD 16x2 Module - Powe Supply Module - Resistor 100PCS - ULN2000 Stepper Motor Driver Board - Ultrasonic Sensor - Joystick Module - Membrane Switch Module - 5v Relay - F-M Dupont Wire 10PCS - Water Level Sensor - Fan Blade and 3v DC Motor each - 4 Dight 7-segment Display - 1 Dight 7-segment Display - DHT11 Temperature and Humidity Module 1PCS - Potentiometer (10K) - 9v Battery Connector With DC - Sound Sensor Module - 74HC595 1PCS - L293D 1PCS - IR Receiver Module 1PCS - IR Receiver Module - Small 6mm Button 5PCS - Tilt Switch 1PCS - Passive Buzzer 1PCS and Active Buzzer 1PCS - PN2222 2PCS - Thermistor 1PCS - Diode Rectificatior(1N40070) 2PCS - Photoresistor 2PCS - RGB Led 1PCS - Red Led 5PCS - Yellow Led 5PCS - Blue Led 5 PCS - Green Led 5 PCS - White Led 5 PCS", 
          precio: "Gs. 678.000",
          documentos: [
            { nombre: "Descargar Manual Completo de AE314", archivo: "https://drive.google.com/file/d/1YJbaDs51-QFjBwLP4Jq9-Hc6-XwQtB6s/view?usp=sharing" },
          ]
        },
         { 
          img: ["webP/AE315-1.webp", "webP/AE315-2.webp", "webP/AE315-3.webp", "webP/AE315-4.webp", "webP/AE315-5.webp", "webP/AE315-6.webp", "webP/AE315-7.webp"], 
          nombre: "RASPBERRY PI Pico Basic Starter Kit (AE315)", 
          desc: "Conjunto de componentes electr√≥nicos variados, ideales para aprender, practicar y desarrollar proyectos. Cada kit incluye piezas esenciales como: - Raspberry Pi Pico - LCD 16x2 - 830 Tie-Points Protoboard - Obstacle Avoidance Module - HC-SR501 PIR Motion Sensor - SG90 Servo - Potentiometer (10K) - Passive Buzzer and Actuve Buzzer - Resistor-220‚Ñ¶-1K-10k 30PCS - Micro-USB Cable - Button Switch 8PCS - WS2812 RGB 8LEDS Srip 1PCS - F-M DuPont Cable - 65 Jumper Wire - Thermistor 1PCS - Tilt Switch 1PCS - Photoresistor 2PCS - S8050 Transistor 2PCS - RGB Led 1PCS - Red Led 5PCS - Yellow Led 5PCS - Green Led 5PCS", 
          precio: "Gs. 575.000",
          documentos: [
            { nombre: "Descargar Manual Completo de AE315", archivo: "https://drive.google.com/file/d/12Al0z7g1U-DtxUpyufmHysqN9e4Kll7j/view?usp=sharing" },
          ]
        },
        {
          img: ["webP/AE317-1.webp", "webP/AE317-2.webp", "webP/AE317-3.webp", "webP/AE317-4.webp", "webP/AE317-5.webp", "webP/AE317-6.webp"], 
          nombre: "37 Piezas Sensor Kit (AE317)", 
          desc: "Conjunto de 37 piezas de M√≥dulos y Sensores combinados tales como: - DS18B20 Module - SHOCK SWITCH - Hall Magnetic sensor Module - BUTTON SWITCH - Infrared Receiver - IR Emission - Passive buzzer - Laser module - SMD RGB module - RGB LED module - TEMP and humidity module - Photo-interrupter MODULE - Mercury Switch - Tilt SWITCH MODULE - Reed switch module - Mini reed switch module - Mini two-color module - Dual-color Common-Cathode LED - Knock Sensor - Digital temperature module - Flame module - MENTAL TOUCH MODULE - Analog temp module - Photo-resistor module - 7 color flash module - High-sensitive Voice Sensor - Magic light cup MODULE - Joystick module - Linear hall module - Analog hall module - Avoidance module - Tracking module - Rotary encoders module - Buzzer module - Heartbeat module - Relay module - Small sound module", 
          precio: "Gs. 210.000",
          documentos: [
            { nombre: "Descargar Manual Completo de AE317", archivo: "https://drive.google.com/file/d/18v1Z1khbicasdgLbTjPSWZtHKeq_SZW0/view?usp=sharing" },
          ]
        },
        {
          img: ["webP/AE087-1.webp", "webP/AE087-2.webp", "webP/AE087-3.webp", "webP/AE087-4.webp", "webP/AE087-5.webp", "webP/AE087-6.webp", "webP/AE087-7.webp", "webP/AE087-8.webp", "webP/AE087-9.webp"], 
          nombre: "The Most Complete Starter Kit MEGA 2560 Project (AE087)", 
          desc: "Conjunto de componentes electr√≥nicos variados, ideales para aprender, practicar y desarrollar proyectos. Cada kit incluye piezas esenciales como: - Controller Board MEGA 2560 1PCS - LCD 16X02 Module - Power Supply Module - GY-521 Module 1PCS - Rc522 RFID Mdoule 1PCS - ULN2003 Stepper Motor Driver Board - Stepper Motor 1PCS - JoyStick Module - AM312 PIR Motion Sensor - Sound Sensor Module - Water Level Detection Sensor Module - Ultrasonic Sensor - Servo Motor (SG90) - DS1307 RTC Module - IR Receiver Module - Rotary Encoder Module - DHT11 Temperature and Humidity Module - MAX7219 Module - Prototype Expansi√≥n Board - Remote - L293D - 1 Digit 7-Segment Display - 4 Digit 7-Segment Display - Passive Buzzer - 74HC595 1PCS - Activer Buzzer 1PCS - Fan Blade an 3-6V Motor (with wire) each - USB Cable - 5V Relay Module - Membrane Switch Module - 9V 1A Adapter 1PCS - 830 Tie-Points Protoboard - 9V Battery Connector With DC - Button Small 6mm (SG90) 5PCS - 65 Jumper Wire - Female-to-Male Dupont Wire - Tilt Bail Switch 1PCS - Potentiometer (10K) 2PCS - Resistor 120PCS - Electrolytic Capacitor (10uF 50V) 2PCS - Electrolytic Capacitor (10uF 50V) 2PCS - NPN Transistor (S8050) 5PCS - NPN Transistor (PN2222) 5PCS - 104pF Ceramic Capacitor 5PCS - 22pF Ceramic Capacitor 5PCS - Thermistor 1PCS - Diode Rectifier 5PCS - Photoresistor (Photocell) 2PCS - RGB LED 1PCS - Red LED 5PCS - Yellow LED 5PCS - Blue LED 5PCS - Green LED 5PCS - White LED 5PCS", 
          precio: "Gs. 875.000",
          documentos: [
            { nombre: "Descargar Manual Completo de AE087", archivo: "https://drive.google.com/file/d/1ASdLyMWYFNgdEQW-MYPd1uXVZqJj75O8/view?usp=sharing" },
          ]
        },
        { 
          img: ["webP/AE052-1.webp", "webP/AE052-2.webp", "webP/AE052-3.webp", "webP/AE052-4.webp", "webP/AE052-5.webp"], 
          nombre: "The Power Supply Learning Kit (AE052)", 
          desc: "Conjunto de componentes electr√≥nicos variados, ideales para aprender, practicar y desarrollar proyectos. Cada kit incluye piezas esenciales como: - RobotLinking UNO R3 Controller Board - Prototype Expansion Board - 9v 1A Power Supply - LCD 16X02 Module - USB Cable - MAX7219 Module - Protoboard - 65 Jumper Wire - Female-to-Female Dupont Wire - 9V Battery With DC - ULN2003 Stepper Motor Driver Board - DHT11 Temperature and Humidify Module - Keypad Module - Ultrasonic Sensor - Ultrasonic Holder - Joystick Module - Relay - Rotary Encoder Module - HC-SR501 PIR Motion Sensor - Rotary Encoder Module - IR Receiver Module - Remote - Servo Motor - Stepper Motor - 130 Servo Motor - Resistor (220‚Ñ¶) 10PCS - Resistor (1K‚Ñ¶) 10PCS - Resistor (10K‚Ñ¶) 10PCS - Resistor (100K‚Ñ¶) 10PCS - Resistor (1M‚Ñ¶) 10PCS - Resistor (5.1M‚Ñ¶) 10PCS - Resistor (20K‚Ñ¶) 10PCS - Resistor (100K‚Ñ¶) 10PCS - Resistor (200K‚Ñ¶) 10PCS - Resistor (10K‚Ñ¶) 10PCS - 1 Digit 7-Segment Display - 4 Digit 7-Segment Display - PN222 5PCS - NPN Transistor (S8050) 5PCS - Diode Rectifier (1N4007) 5PCS - L293D - 74HC595 - NE555 - 100uF 50V 2PCS - 10uF 50V 2PCS - 104 ceramic capacitor 5PCS - 22pF ceramic capacitor 5PCS - Tilt Switch - Photoresistor (Photocell) 2PCS - Thermistor - Button 6mm 5PCS - Rotary Knob (Potentiometer) 2PCS - LED RGB 1PCS - White LED 5PCS - Green LED 5PCS - Red LED 5PCS - Yellow LED 5PCS - Blue LED 5PCS - Passive Buzzer - Activer Buzzer - Pin Header 40 pint - ADXL335 Module - Fan", 
          precio: "Gs. 675.000",
          documentos: [
            { nombre: "Descargar Manual completo de AE052", archivo: "https://drive.google.com/file/d/1yyT_8nRFh1IE8h4r8i6Puk1uWFCRkjp2/view?usp=sharing" },
          ]
        },
        { 
          img: ["img/AE041.png", "webP/AE041-(2).webp", "webP/AE041-(3).webp", "webP/AE041-(7).webp"], 
          nombre: "37 Piezas Sensor Kit (AE041)", 
          desc: "Conjunto de 37 piezas de M√≥dulos y Sensores combinados tales como: - DS18B20 Module - SHOCK SWITCH - Hall Magnetic sensor Module - BUTTON SWITCH - Infrared Receiver - IR Emission - Passive buzzer - Laser module - SMD RGB module - RGB LED module - TEMP and humidity module - Photo-interrupter MODULE - Mercury Switch - Tilt SWITCH MODULE - Reed switch module - Mini reed switch module - Mini two-color module - Dual-color Common-Cathode LED - Knock Sensor - Digital temperature module - Flame module - MENTAL TOUCH MODULE - Analog temp module - Photo-resistor module - 7 color flash module - High-sensitive Voice Sensor - Magic light cup MODULE - Joystick module - Linear hall module - Analog hall module - Avoidance module - Tracking module - Rotary encoders module - Buzzer module - Heartbeat module - Relay module - Small sound module", 
          precio: "Gs. 200.000",
          documentos: [
            { nombre: "Descargar Manual completo de AE041", archivo: "https://drive.google.com/file/d/1relgYk00CRJsBqbIg4WEpeStJ63sDQja/view?usp=sharing" },
          ]
        },
        { 
          img: ["webP/AE319-1.webp", "webP/AE319-2.webp", "webP/AE319-3.webp", "webP/AE319-4.webp", "webP/AE319-5.webp"], 
          nombre: "9 en 1 Sensor Kit (AE319)", 
          desc: "Conjunto de sensores de gas variados, ideales para aprender, practicar y desarrollar proyectos. Cada kit incluye piezas esenciales como: - MQ‚Äì135 Sensor Module 1PCS - MQ‚Äì2 Sensor Module 1PCS - MQ‚Äì3 Sensor Module 1PCS - MQ‚Äì4 Sensor Module 1PCS - MQ‚Äì5 Sensor Module 1PCS - MQ‚Äì6 Sensor Module 1PCS - MQ‚Äì7 Sensor Module 1PCS - MQ‚Äì8 Sensor Module 1PCS - MQ‚Äì9 Sensor Module 1PCS", 
          precio: "Gs. 265.000",
          documentos: [],
        },
        { 
          img: ["webP/AE001-1.webp", "webP/AE001-2.webp", "webP/AE001-3.webp", "webP/AE001-4.webp", "webP/AE001-5.webp", "webP/AE001-6.webp", "webP/AE001-7.webp"], 
          nombre: "Arduino Upgraded Learning Kit (AE001)", 
          desc: "Conjunto de componentes electr√≥nicos variados, ideales para aprender, practicar y desarrollar proyectos. Cada kit incluye piezas esenciales como: - Controller Board UNO - 1602 12C LCD - 65 Jumper Wire - 830 Tie-Points Protoboard - Stepper Motor - ULN2003 Stepper Motor Driver - DS1302 RTC Real Time Clock Module - Remote - RC522 RFID Module - USB Cable - DHT11 Temperature and Humidity Module - Servo Motor (SG90) - Joystick Module - 5V Relay Module - Sound Sensor Module - 3 Color LED Module - 4x4 Matrix 16 Keypad Keyboard Module - Water Level Detection Sensor Module - 1 Digit 7-Segment Display - 4 Digit 7-Segment Display - 8x8 Matrix Displays - Button Switch 5PCS - 10K Potentiometer - 9V Battery Conector With DC - Resistence Card - 74HC595N - Female-to-Male Dupont Wire 20PCS - Resistence Package 90PCS - Active Buzzer - Passive Buzzer - Red LED 5PCS - Yellow LED 5PCS - Green LED 5PCS - Flame Sensor - Photoresistor (Photocell) 3PCS - IR Receiver - Tilt Ball Switch 2PCS - LM35DZ", 
          precio: "Gs. 645.000",
          documentos: [
            { nombre: "Descargar Manual completo AE001", archivo: "https://drive.google.com/file/d/1gqdkU4UCEsDQ8oDGkfJzAsE1-rpI_kgQ/view?usp=sharing" },
          ]
        },
        { 
          img: ["webP/AE327-(3).webp", "webP/AE327-(2).webp", "webP/AE327-(4).webp", "webP/AE327-(5).webp", "webP/AE327-(6).webp", "img/AE327-(10).png", "webP/AE327-(11).webp", "webP/AE327-(8).webp", "webP/AE327-(0).webp"], 
          nombre: "Super STARTE KIT for Raspberry PI (AE327)", 
          desc: "Kit completo para Raspberry Pi con: - Raspberry Pi 3 Model B+ - Red 40Pin GPIO T-Type Extension Board - LCD 16X02 12C - Dot Matrix Display - 830 Tie-Points Protoboard - Power Supply Module - Stepper Motor - ULN2003 Stepper Motor Driver Board - DHT11 Temperature and Humidity Module - Infrared Receiver Module - PIR Motion Sensor - Ultrasonic Sensor - MPU-6050 Module - 5V Relay - Servo Motor (SG90) - 10K Potentiometer - 65 Flex Breadboard Jumper Wires - 1 Digit 7-Segment Display - 4 Digit 7-Segment Display - Membrane Switch Module - Fan Blade - 3-6V Motor (With Wire) - Active Buzzer - Passive Buzzer - L293D - 74HC595N 2PCS - Button small 6mm 5PCS - 40pin GPIO Cable 20cm - 10pin Male to Female Dupont Wires 20CM - LED Red 5PCS - LED Blue 5PCS - LED Yellow 5PCS - LED Green 5PCS - LED White 5PCS - LED RGB - Remote - 9V Battery Connector With DC - Photoresistor (Photocell) 2PCS - 1N4007 Diode Rectifier 2PCS - Thermistor - NPN Transistor (PN2222) 2PCS - SW-520D Ball Tilt Switch - Resistor-220‚Ñ¶/1K‚Ñ¶/10K‚Ñ¶/4.7k‚Ñ¶/470R 60PCS", 
          precio: "Gs. 790.000",
          documentos: [
            { nombre: "Descargar Manual Completo de AE327", archivo: "https://drive.google.com/file/d/1gFjJC0DZqPj3SCUhXMjZpSWVP2ObI5mJ/view?usp=sharing" },
          ]
        },
        { 
          img: ["webP/AE108-1.webp", "webP/AE108-2.webp", "webP/AE108-3.webp", "webP/AE108-4.webp", "webP/AE108-5.webp", "webP/AE108-6.webp"], 
          nombre: "SUPER UNO R3 Starter kit (AE108)", 
          desc: "Conjunto de componentes electr√≥nicos variados, ideales para aprender, practicar y desarrollar proyectos. Cada kit incluye piezas esenciales como: - RobotLinking UNO R3 Controller Board - USB Cable - LCD 16X02 Module - Protoboard Mini - 9V 1A Power Supply - Prototype Expansion Board - Ultrasonic Sensor - ULN2003 Stepper Motor Driver Board - Stepper Motor - MPU 6050 - Joystick - Relay - Remote - Servo Motor (SG90) - 130 Servo Motor - Resistor (10‚Ñ¶) 10PCS - Resistor (100‚Ñ¶) 10PCS - Resistor (220‚Ñ¶) 10PCS - Resistor (330‚Ñ¶) 10PCS - Resistor (1K‚Ñ¶) 10PCS - Resistor (2K‚Ñ¶) 10PCS - Resistor (5.1K‚Ñ¶) 10PCS - Resistor (10K‚Ñ¶) 10PCS - Resistor (100K‚Ñ¶) 10PCS - Resistor (1m‚Ñ¶) 10PCS - Ultrasonic Holder - 1 Digit 7-Segment Display - 4 Digit 7-Segment Display - Matrix Display - BC547 5PCS - BC557 5PCS - PN2222 5PCS - MAX7219 - L293D - 74HC595 - 100uF 50V 2PCS - 10uF 50V 2PCS - 22pF ceramic capacitor 5PCS - 104 Ceramic Capacitor 5PCS - IR Receiver - Diode Rectifier (1N4007) 5PCS - Photoresistor (Photocell) 2PCS - Potentiometer 2PCS - LED RGB - Red LED 5PCS - Yellow LED 5PCS - White LED 5PCS - Green LED 5PCS - Blue LED 5PCS - Active Buzzer - Passive Buzzer - Thermistor - Button small 5PCS - Pin Header - 65 Jumper Wire - Female-Male cable 4PCS - 9V Battery with DC", 
          precio: "Gs. 665.000",
          documentos: [
            { nombre: "Descargar Manual Completo de AE108", archivo: "https://drive.google.com/file/d/10aa5LAmEpaYPiUp4j7iF_-nQguL5Hyza/view?usp=sharing" },
          ]
        },
        { 
          img: ["webP/AE144-1.webp", "webP/AE144-2.webp", "webP/AE144-3.webp", "webP/AE144-4.webp"], 
          nombre: "ROBOTLINKING The power supply learning Kit (AE144)", 
          desc: "Conjunto de componentes electr√≥nicos variados, ideales para aprender, practicar y desarrollar proyectos. Cada kit incluye piezas esenciales como: - RobotLinking UNO R3 Controller Board - Prototype Expansion Board - 9V 1A Power Supply - LCD 16X02 Module - USB Cable - 8x8 Red 64 LED Dot Matrix Displays 3mm CC 2PCS - Protoboard - 65 Jumper Wire - Female-to-Female Dupont Wire 10PCS - 9V Battery With DC - ULN2003 Stepper Motor Driver Board - Ultrasonic Holder - Joystick Module - Relay - IR Recaiver Module - Remote - Servo Motor - Stepper Motor - 130 Servo Motor - Resistor (220‚Ñ¶) 10PCS - Resistor (1K‚Ñ¶) 10PCS - Resistor (10K‚Ñ¶) 10PCS - Resistor (100K‚Ñ¶) 10PCS - Resistor (1M‚Ñ¶) 10‚Ñ¶ - Resistor (5.1M‚Ñ¶) 10PCS - Resistor (20K‚Ñ¶) 10PCS - Resistor (100K‚Ñ¶) 10PCS - Resistor (200K‚Ñ¶) 10PCS - Resistor (10K‚Ñ¶) 10PCS - 1 Digit 7-segment display - 4Digit 7-segment display - PN2222 5PCS - NPN Transistor (S8050) 5PCS - Diode Rectifier (1N4007) 5PCS - L293D - 74HC595 - MAX7219CNG - 100uF 50V 2PCS - 10uF 50V 2PCS - 104 ceramic capacitor 5PCS - 22pF ceramic capacitor 5PCS - Tilt Switch - Photoresistor (Photocell) 2PCS - Thermistor - Button 5PCS - Potentiometer 2PCS - LED RGB - White LED 5PCS - Green LED 5PCS - Red LED 5PCS - Yellow LED 5PCS - Blue LED 5PCS - Passive Buzzer - Activer Buzzer - Pin Header - ADXL335 Module - Round Cap for Square Tachile Swithc 5PCS", 
          precio: "Gs. 670.000",
          documentos: [
            { nombre: "Descargar Manual Completo de AE144", archivo: "https://drive.google.com/file/d/14h1VzkIDkpMvH2izJ15pYIjPp0WrU0XX/view?usp=sharing" },
          ]
        },
      ],
      // Kit 2: Arduino (1 producto de ejemplo)
      [
        { 
          img: ["img/AE046.png", "webP/AE046-1.webp", "webP/AE046-2.webp", "webP/AE046-3.webp", "webP/AE046-4.webp", "webP/AE046-5.webp", "webP/AE046-6.webp"], 
          nombre: "Kit de Componentes Variados (AE046)", 
          desc: "Kit con componentes variados para proyectos de electr√≥nica. Incluye: - Controller Board UNO - LCD 16X02 - 65 Jumper Wire - 830 Tie-Points Protoboard - Stepper Motor - ULN2003 Stepper Motor Driver - Remote - Rc522 RFID Module - USB Cable - Servo Motor (SG90) - Joystick Module - 5V Relay Module - Sound Sensor Module - 3 Color LED module - DHT11 Temperature and Humidity Module - Water Level Detection Sensor Module - 1 Digital 7-Segment Display - 4 Digit 7-Segment Display - 8x8 Matrix Display - Button Switch 5PCS - 10K‚Ñ¶ Potentiometer - 9V Battery Connector With DC - 4x4 Matrix 16 Keypad Keyboard Module - DS1302 RTC Real Time Clock Module - Photoresistor 3PCS - Active Buzzer - Passive Buzzer - Red LED 5PCS - Yellow LED 5PCS - Green LED 5PCS - Flame sensor - IR Receiver - Tilt Bail Switch 2CPS - Resistor 220‚Ñ¶/1K‚Ñ¶-10K‚Ñ¶ 30PCS - LM35DZ - 74HC595 - Famale-to-Male Dupont Wire 20PCS", 
          precio: "Gs. 475.000",
          documentos: []
        },
         { 
          img: ["webP/AE126-1.webp", "webP/AE126-2.webp", "webP/AE126-2.webp", "webP/AE126-3.webp", "webP/AE126-4.webp"], 
          nombre: "NEWEST RFID Starter Kit R3 Upgraded Version Learning Kit", 
          desc: "Kit con componentes variados para proyectos de electr√≥nica. Incluye: - Controller Board UNO - LCD 16X02 - 65 Jumper Wire - 830 Tie-Points Protoboard - Stepper Motor - ULN2003 Stepper Motor Driver - Remote - Rc522 RFID Module - USB Cable - Servo Motor (SG90) - Joystick Module - 5V Relay Module - Sound Sensor Module - 3 Color LED module - DHT11 Temperature and Humidity Module - Water Level Detection Sensor Module - 1 Digital 7-Segment Display - 4 Digit 7-Segment Display - 8x8 Matrix Display - Button Switch 5PCS - 10K‚Ñ¶ Potentiometer - 9V Battery Connector With DC - 4x4 Matrix 16 Keypad Keyboard Module - DS1302 RTC Real Time Clock Module - Photoresistor 3PCS - Active Buzzer - Passive Buzzer - Red LED 5PCS - Yellow LED 5PCS - Green LED 5PCS - Flame sensor - IR Receiver - Tilt Bail Switch 2CPS - Resistor 220‚Ñ¶/1K‚Ñ¶-10K‚Ñ¶ 30PCS - LM35DZ - 74HC595 - Famale-to-Male Dupont Wire 20PCS", 
          precio: "Gs. 475.000",
          documentos: []
        },
        { 
          img: ["webP/AE069-1.webp", "webP/AE069-2.webp", "webP/AE069-3.webp", "webP/AE069-4.webp", "webP/AE069-5.webp"], 
          nombre: "NEWEST RFID Starter Kit R3 Upgraded Version Learning Kit", 
          desc: "Kit con componentes variados para proyectos de electr√≥nica. Incluye: - Resistencias - Condensadores - Transistores - Diodos - LEDs - Potenci√≥metros - Interruptores - Pulsadores - Zumbadores - Rel√©s - Displays - Sensores - Cables - Protoboard - Arduino UNO - Shield Ethernet - Shield WiFi - Shield Bluetooth - Shield GPS - Shield LCD -Shield motor - Shield rel√© - Shield sensor - Shield SD card - Shield audio - Shield teclado - Shield joystick", 
          precio: "Gs. 445.000",
          documentos: []
        },
        { 
          img: ["webP/AE003-1.webp", "webP/AE003-2.webp", "webP/AE003-3.webp", "webP/AE003-4.webp", "webP/AE003-5.webp"], 
          nombre: "NEWEST RFID Starter Kit R3 Upgraded Version Learning Kit", 
          desc: "Kit con componentes variados para proyectos de electr√≥nica. Incluye: - Resistencias - Condensadores - Transistores - Diodos - LEDs - Potenci√≥metros - Interruptores - Pulsadores - Zumbadores - Rel√©s - Displays - Sensores - Cables - Protoboard - Arduino UNO - Shield Ethernet - Shield WiFi - Shield Bluetooth - Shield GPS - Shield LCD -Shield motor - Shield rel√© - Shield sensor - Shield SD card - Shield audio - Shield teclado - Shield joystick", 
          precio: "Gs. 445.000",
          documentos: []
        },
        { 
          img: ["webP/AE049-1.webp", "webP/AE049-2.webp", "webP/AE049-3.webp", "webP/AE049-4.webp", "webP/AE049-5.webp", "webP/AE049-6.webp"], 
          nombre: "NEWEST RFID Starter Kit R3 Upgraded Version Learning Kit", 
          desc: "Kit con componentes variados para proyectos de electr√≥nica. Incluye: - Resistencias - Condensadores - Transistores - Diodos - LEDs - Potenci√≥metros - Interruptores - Pulsadores - Zumbadores - Rel√©s - Displays - Sensores - Cables - Protoboard - Arduino UNO - Shield Ethernet - Shield WiFi - Shield Bluetooth - Shield GPS - Shield LCD -Shield motor - Shield rel√© - Shield sensor - Shield SD card - Shield audio - Shield teclado - Shield joystick", 
          precio: "Gs. 445.000",
          documentos: []
        },
        { 
          img: ["webP/AE310-1.webp", "webP/AE310-2.webp", "webP/AE310-3.webp", "webP/AE310-4.webp", "webP/AE310-5.webp", "webP/AE310-6.webp"], 
          nombre: "NEWEST RFID Starter Kit R3 Upgraded Version Learning Kit", 
          desc: "Kit con componentes variados para proyectos de electr√≥nica. Incluye: - Resistencias - Condensadores - Transistores - Diodos - LEDs - Potenci√≥metros - Interruptores - Pulsadores - Zumbadores - Rel√©s - Displays - Sensores - Cables - Protoboard - Arduino UNO - Shield Ethernet - Shield WiFi - Shield Bluetooth - Shield GPS - Shield LCD -Shield motor - Shield rel√© - Shield sensor - Shield SD card - Shield audio - Shield teclado - Shield joystick", 
          precio: "Gs. 445.000",
          documentos: []
        },
        { 
          img: ["webP/AE308-1.webp", "webP/AE308-2.webp", "webP/AE308-3.webp", "webP/AE308-4.webp", "webP/AE308-5.webp"], 
          nombre: "NEWEST RFID Starter Kit R3 Upgraded Version Learning Kit", 
          desc: "Kit con componentes variados para proyectos de electr√≥nica. Incluye: - Resistencias - Condensadores - Transistores - Diodos - LEDs - Potenci√≥metros - Interruptores - Pulsadores - Zumbadores - Rel√©s - Displays - Sensores - Cables - Protoboard - Arduino UNO - Shield Ethernet - Shield WiFi - Shield Bluetooth - Shield GPS - Shield LCD -Shield motor - Shield rel√© - Shield sensor - Shield SD card - Shield audio - Shield teclado - Shield joystick", 
          precio: "Gs. 445.000",
          documentos: []
        },
        { 
          img: ["webP/AE017-1.webp", "webP/AE017-2.webp", "webP/AE017-3.webp", "webP/AE017-4.webp"], 
          nombre: "NEWEST RFID Starter Kit R3 Upgraded Version Learning Kit", 
          desc: "Kit con componentes variados para proyectos de electr√≥nica. Incluye: - Resistencias - Condensadores - Transistores - Diodos - LEDs - Potenci√≥metros - Interruptores - Pulsadores - Zumbadores - Rel√©s - Displays - Sensores - Cables - Protoboard - Arduino UNO - Shield Ethernet - Shield WiFi - Shield Bluetooth - Shield GPS - Shield LCD -Shield motor - Shield rel√© - Shield sensor - Shield SD card - Shield audio - Shield teclado - Shield joystick", 
          precio: "Gs. 445.000",
          documentos: []
        },
        { 
          img: ["webP/AE065-1.webp", "webP/AE065-2.webp", "webP/AE065-3.webp", "webP/AE065-4.webp"], 
          nombre: "NEWEST RFID Starter Kit R3 Upgraded Version Learning Kit", 
          desc: "Kit con componentes variados para proyectos de electr√≥nica. Incluye: - Resistencias - Condensadores - Transistores - Diodos - LEDs - Potenci√≥metros - Interruptores - Pulsadores - Zumbadores - Rel√©s - Displays - Sensores - Cables - Protoboard - Arduino UNO - Shield Ethernet - Shield WiFi - Shield Bluetooth - Shield GPS - Shield LCD -Shield motor - Shield rel√© - Shield sensor - Shield SD card - Shield audio - Shield teclado - Shield joystick", 
          precio: "Gs. 445.000",
          documentos: []
        },
      ],
      // Kit 3: Maker (algunos productos)
      [
        { 
          img: ["webP/SmarCart1.webp", "webP/SmarCart2.webp", "webP/SmarCar1.webp"], 
          nombre: "Smart Car Starte Kit", 
          desc: "El Coche robot inteligente cuenta con ruedas omnidireccionales para moverse en cualquier direcci√≥n, hasta a los lados, con m√∫ltiples sensores, capaz de detectar obstaculos, seguir lineas, etc. Perfecto para principiantes y aprender programaci√≥n", 
          precio: "Gs. 870.000",
          documentos: [
            { nombre: "Gu√≠a de montaje", archivo: "montaje_smartcar.pdf" },
            { nombre: "App control", archivo: "app_smartcar.apk" }
          ]
        },
        { 
          img: ["webP/BasiCar1.webp", "webP/BasicCar3.webp", "webP/BasicCar4.webp"], 
          nombre: "TinkerBot microbitt Car", 
          desc: "Kit educativo STEM con Micro:bit, dise√±ado para principiantes que deseen aprender programaci√≥n y rob√≥tica. Programa al coche para seguir lineas, evitar obstaculos y experimentar multiples modos de control (IR;APP) para una experiencia de juego y experiencia completa", 
          precio: "Gs. 440.000",
          documentos: []
        },
        { 
          img: ["webP/Brazo1.webp", "webP/Braz3.webp", "webP/Braz1.webp"], 
          nombre: "Robot Arm Kit", 
          desc: "Dise√±ado para ni√±os de 12 a√±os en adelante. Perfecto para aprendizaje de electr√≥nica, codificaci√≥n y robotica. Un brazo rob√≥tico vers√°til de 4 ejes de rotaci√≥n de abrazadera de 260¬∞ y una rotaci√≥n, codo y base de 180¬∞, integrado con memoria muscular, f√°ciles para construir y codificar con programaci√≥n en bloque ACECode o Arduino IDE", 
          precio: "Gs. 630.000",
          documentos: []
        },
        {    
          img: ["webP/SpiderBot1.webp", "webP/SpiderBot2.webp", "webP/SpiderBot3.webp"], 
          nombre: "Kit SpiderBot", 
          desc: "Kit de Robot Ara√±a, dise√±ado para ni√±os de 8 a√±os en adelante, movimiento variado por servomotores y control remoto a trav√©s de la aplicaci√≥n ACEBOTT, con movimientos din√°micos el SpiderBot bot realiza 6 acciones y 9 posturas preestablecidas, una vez dominada la programaci√≥n se desarrolla el movimiento deseado", 
          precio: "Gs. 685.000",
          documentos: []
        },
        { 
          img: ["webP/Shark1.webp", "webP/Shark2.webp", "webP/Shark3.webp"], 
          nombre: "SharkBot Smart Car", 
          desc: "Kit de Coche Inteligente SharkBot, es un autom√≥vil robot con inteligencia artificial avanzado ideal para j√≥venes y adolescentes entre 10 a 18 a√±os, impulsado por el controlador ESP32-S3, compatible con Arduino , Python y ACECode. Con reconocimiento de voz sin conexion, programaci√≥n avanzada, seguimiento de l√≠nea y evitaci√≥n de obstaculo", 
          precio: "Gs. 900.000",
          documentos: []
        },
        { 
          img: ["webP/Meteo1.webp", "webP/Meteo2.webp", "webP/Meteo3.webp"], 
          nombre: "IOT Weather Station", 
          desc: "Kit de Estaci√≥n Meteorol√≥gica, monitoreo meteorol√≥gico avanzado con 8 sensores para seguimiento de 9 par√°metros ambientales, incluido temperatura, humedad, velocidad del viento, los rayos UV, calidad de aire, etc. Resistente al agua y con una construcci√≥n de alta calidad  se desarrolla el aprendizaje STEM en programaci√≥n, monitoreo del clima e integraci√≥n de m√∫ltiples sensores", 
          precio: "Gs. 1.005.000",
          documentos: []
        },
      ]
    ];
// Funci√≥n para parsear precios en Guaran√≠es
function parseGs(str) { 
    return Number(String(str).replace(/[^\d]/g,'')) || 0; 
}
// Base de datos de componentes sueltos
let componentesSueltos = [];
// =============================================
// SISTEMA DE SEGURIDAD ADMIN - CONFIGURAR!
// =============================================

const SISTEMA_SEGURIDAD = {
    // ‚ö†Ô∏è ¬°CAMBIAR ESTOS VALORES! ‚ö†Ô∏è
    password: "KitElectronica2024",           // Cambia esta contrase√±a
    codigoSecreto: "9722",                    // √öltimos 4 d√≠gitos de tu WhatsApp
    urlToken: "innovakit_paraguay_admin",     // Cambia este token
    intentos: 0,
    maxIntentos: 3
};

// =============================================
// SISTEMA DE REVIEWS CON APROBACI√ìN MANUAL
// =============================================

let reviews = JSON.parse(localStorage.getItem('innovakit_reviews')) || [
    // ‚úÖ REVIEWS DE PRODUCTOS (MANTENER - sin fotos)
    {
        id: 1,
        nombre: "Carlos Mendoza",
        rating: 5,
        comentario: "El kit AE101 es perfecto para empezar en electr√≥nica. Los componentes son de buena calidad y el manual muy claro.",
        producto: "37 SENSOR KIT (AE101)",
        fecha: "2024-01-15",
        verified: true,
        pending: false,
        tipo: "producto",
        foto: null
    },
    {
        id: 2,
        nombre: "Ana Torres",
        rating: 4,
        comentario: "Buen√≠sima calidad de componentes. El env√≠o fue r√°pido y todo bien embalado. Recomendado!",
        producto: "ESP32 Basic STARTER KIT (AE312)", 
        fecha: "2024-01-12",
        verified: true,
        pending: false,
        tipo: "producto",
        foto: null
    },
    {
        id: 3,
        nombre: "Roberto D√≠az",
        rating: 5,
        comentario: "Excelente soporte t√©cnico. Me ayudaron con mi proyecto de la feria cient√≠fica y gan√© el primer puesto!",
        producto: "Kit de Rob√≥tica Acebott",
        fecha: "2024-01-08",
        verified: true,
        pending: false,
        tipo: "producto",
        foto: null
    }
    // ‚ùå REVIEWS DE PROYECTOS ELIMINADOS (causaban parpadeo)
];
// Variables globales para paginaci√≥n
let paginaActual = 1;
const componentesPorPagina = 8; // ‚Üê AGREGA ESTA L√çNEA
// Funci√≥n para cargar productos desde JSON - VERSI√ìN OPTIMIZADA CON WEBP
async function cargarProductos() {
    try {
        console.log('üîÑ Iniciando carga de productos...');
        const response = await fetch('productos.json');
        
        if (!response.ok) {
            throw new Error(`Error HTTP: ${response.status}`);
        }
        
        const data = await response.json();
        console.log('üì¶ Datos recibidos:', data);
        
        if (!data.componentesSueltos) {
            throw new Error('Formato JSON inv√°lido: falta propiedad componentesSueltos');
        }
        
        // Verificar soporte WebP y optimizar im√°genes
        const webPSupported = await supportsWebP();
        console.log('üåê Soporte WebP:', webPSupported);
        
        componentesSueltos = data.componentesSueltos.map(comp => ({
            ...comp,
            precioNum: comp.precioNum || parseGs(comp.precio),
            // Optimizar imagen si hay soporte WebP
            imagen: webPSupported ? toWebP(comp.imagen) : comp.imagen,
            imagenes: comp.imagenes ? comp.imagenes.map(img => webPSupported ? toWebP(img) : img) : []
        }));
        
        console.log(`‚úÖ Cargados ${componentesSueltos.length} productos optimizados`);
        
        // Renderizar inmediatamente si estamos en la vista correcta
        if (!document.getElementById('vista-componentes-sueltos').classList.contains('hidden')) {
            console.log('üîÑ Renderizando componentes optimizados...');
            renderizarComponentesSueltos();
        }
    } catch (error) {
        console.error('‚ùå Error cargando productos:', error);
        
        const grid = document.getElementById('grid-componentes');
        if (grid) {
            grid.innerHTML = `
                <div class="col-span-full text-center py-8">
                    <div class="text-red-500 text-4xl mb-2">‚ö†Ô∏è</div>
                    <p class="text-red-600 font-semibold">Error cargando productos</p>
                    <p class="text-gray-600 text-sm mt-1">${error.message}</p>
                    <button onclick="cargarProductos()" class="mt-3 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">
                        Reintentar
                    </button>
                </div>
            `;
        }
    }
}

// Llamar a cargar productos cuando la p√°gina cargue
document.addEventListener('DOMContentLoaded', cargarProductos);

// Funci√≥n para mostrar vista de componentes sueltos (MEJORADA)
// Funci√≥n para mostrar vista de componentes sueltos (MEJORADA)
function verComponentesSueltos() {
    console.log('üéØ Mostrando componentes sueltos...');
    
    // Ocultar otras vistas y mostrar componentes sueltos
    componentesSueltos.sort(() => Math.random() - 0.5);
    document.getElementById('main-content').style.display = 'none';
    document.getElementById('vista-productoskit').classList.add('hidden');
    document.getElementById('vista-asesorias').classList.add('hidden');
    document.getElementById('vista-componentes-sueltos').classList.remove('hidden');

    // Resetear a primera p√°gina
    paginaActual = 1;
    
    console.log('üìä Productos en memoria:', componentesSueltos ? componentesSueltos.length : 0);
    
    // Si ya tenemos productos, renderizar inmediatamente
    if (componentesSueltos && componentesSueltos.length > 0) {
        console.log('üöÄ Renderizando productos existentes...');
        renderizarComponentesSueltos();
    } else {
        console.log('üîÑ No hay productos, recargando...');
        // Mostrar loading state
        const grid = document.getElementById('grid-componentes');
        grid.innerHTML = `
            <div id="loading-componentes" class="col-span-full text-center py-16">
                <div class="inline-block animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mb-6"></div>
                <p class="text-gray-600 text-lg font-medium">Cargando componentes...</p>
                <p class="text-gray-500 text-sm mt-2">Buscando los mejores productos para ti</p>
            </div>
        `;
        
        // Forzar recarga de productos
        cargarProductos().then(() => {
            console.log('‚úÖ Productos recargados, renderizando...');
            renderizarComponentesSueltos();
        }).catch(error => {
            console.error('‚ùå Error recargando productos:', error);
            grid.innerHTML = `
                <div class="col-span-full text-center py-8">
                    <div class="text-red-500 text-4xl mb-2">‚ö†Ô∏è</div>
                    <p class="text-red-600 font-semibold">Error cargando productos</p>
                    <p class="text-gray-600 text-sm mt-1">${error.message}</p>
                    <button onclick="cargarProductos().then(() => renderizarComponentesSueltos())" 
                            class="mt-3 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition">
                        Reintentar
                    </button>
                </div>
            `;
        });
    }
    
    window.scrollTo({ top: 0, behavior: 'smooth' });
}
// Funci√≥n para renderizar componentes con filtros Y PAGINACI√ìN (CORREGIDA)
function renderizarComponentesSueltos() {
    const grid = document.getElementById('grid-componentes');
    const loading = document.getElementById('loading-componentes');
    
    console.log('üé® Renderizando componentes...');
    
    // Ocultar loading principal, mostrar grid
    if (loading) loading.classList.add('hidden');
    
    // Verificar que tenemos productos
    if (!componentesSueltos || componentesSueltos.length === 0) {
        console.warn('‚ö†Ô∏è No hay productos para renderizar');
        grid.innerHTML = `
            <div class="col-span-full text-center py-8">
                <div class="text-yellow-500 text-4xl mb-2">üîÑ</div>
                <p class="text-gray-600">Cargando productos...</p>
            </div>
        `;
        return;
    }
    
    // Obtener valores de filtros
    const buscarInput = document.getElementById('buscar-componente');
    const filtroPrecio = document.getElementById('filtro-precio');

    const filtroTexto = buscarInput ? buscarInput.value.toLowerCase() : '';
    const filtroPrecioValor = filtroPrecio ? filtroPrecio.value : 'todos';
    
    console.log('üîç Filtros - Texto:', filtroTexto, 'Precio:', filtroPrecioValor);
    
    // Filtrar productos
    let componentesFiltrados = componentesSueltos.filter(comp => {
        // Filtro por texto - SOLO EN EL NOMBRE/T√çTULO
        const coincideTexto = !filtroTexto || 
            comp.nombre.toLowerCase().includes(filtroTexto);
        
        // Filtro por precio
        let coincidePrecio = true;
        if (filtroPrecioValor !== 'todos') {
            const [min, max] = filtroPrecioValor.split('-').map(Number);
            const precioNum = comp.precioNum || parseGs(comp.precio);
            coincidePrecio = precioNum >= min && precioNum <= max;
        }
        
        return coincideTexto && coincidePrecio;
    });

    console.log('üìä Productos filtrados:', componentesFiltrados.length);

    // CALCULAR PAGINACI√ìN
    const totalComponentes = componentesFiltrados.length;
    const totalPaginas = Math.ceil(totalComponentes / componentesPorPagina);
    const inicio = (paginaActual - 1) * componentesPorPagina;
    const fin = inicio + componentesPorPagina;
    const componentesPagina = componentesFiltrados.slice(inicio, fin);

    // Generar HTML de los componentes
    if (componentesPagina.length === 0) {
        grid.innerHTML = `
            <div class="col-span-full text-center py-8">
                <div class="text-gray-400 text-4xl mb-2">üîç</div>
                <p class="text-gray-600 font-semibold">No se encontraron productos</p>
                <p class="text-gray-500 text-sm mt-1">Prueba con otros filtros o t√©rminos de b√∫squeda</p>
                <button onclick="limpiarFiltros()" class="mt-3 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">
                    Mostrar todos los productos
                </button>
            </div>
        `;
    } else {
        grid.innerHTML = componentesPagina.map(comp => `
    <div class="bg-white rounded-lg shadow-sm border hover:shadow-md transition duration-300 cursor-pointer flex flex-col h-full min-h-[350px]" 
         onclick="mostrarModalProducto(${comp.id})">
      
      <!-- Secci√≥n 1: Imagen y nombre -->
      <div class="p-3 flex-grow min-h-[130px]">
        <img src="${comp.imagen}" alt="${comp.nombre}" class="w-full h-40 object-contain mb-2 rounded" loading="lazy">
        <h3 class="font-semibold text-base line-clamp-2">${comp.nombre}</h3>
        ${comp.categoria ? `<p class="text-xs text-gray-500 mt-1">${comp.categoria}</p>` : ''}
      </div>
      
      <!-- Secci√≥n 2: Precio -->
      <div class="px-3">
        <p class="text-green-600 font-bold text-base">${comp.precio}</p>
      </div>
      
      <!-- Secci√≥n 3: Stock y bot√≥n -->
      <div class="p-3 pt-1">
        <div class="flex items-center justify-between">
          <span class="px-2 py-1 text-xs rounded-full ${comp.stock === 'disponible' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}">
            ${comp.stock === 'disponible' ? 'En stock' : 'Sin stock'}
          </span>
          <button class="text-blue-600 hover:text-blue-800 font-semibold text-xs">
            Ver detalles ‚Ä∫
          </button>
        </div>
      </div>
    </div>
`).join('');
            
        console.log('‚úÖ Productos renderizados:', componentesPagina.length);
    }

    // ACTUALIZAR INFORMACI√ìN DE PAGINACI√ìN FIJA
    const infoPaginacion = document.getElementById('info-paginacion');
    const infoPaginacionMobile = document.getElementById('info-paginacion-mobile');
    const botones = document.querySelectorAll('.pagination-fixed button');

    if (infoPaginacion) {
        infoPaginacion.innerHTML = `P√°gina <span class="text-blue-600">${paginaActual}</span> de <span class="text-blue-600">${totalPaginas || 1}</span>`;
    }

if (infoPaginacionMobile) {
    infoPaginacionMobile.innerHTML = `<span class="text-blue-600">${paginaActual}</span>/<span class="text-blue-600">${totalPaginas || 1}</span>`;
}

    // Actualizar estado de botones
    if (botones.length >= 2) {
        botones[0].disabled = paginaActual === 1;
        botones[1].disabled = paginaActual === totalPaginas || totalPaginas === 0;
    }
}
    // Funci√≥n para cambiar de p√°gina
function cambiarPagina(nuevaPagina) {
  paginaActual = nuevaPagina;
  renderizarComponentesSueltos();
  // Hacer scroll suave hacia el top del grid
  document.getElementById('grid-componentes').scrollIntoView({ 
    behavior: 'smooth', 
    block: 'start' 
  });
}
// Funciones para el modal de producto
function mostrarModalProducto(id) {
  const producto = componentesSueltos.find(comp => comp.id === id);
  if (!producto) {
    console.error('Producto no encontrado con ID:', id);
    mostrarNotificacion('‚ùå Producto no encontrado');
    return;
  }
  
  try {
    // Llenar modal con datos del producto
    document.getElementById('modal-producto-nombre').textContent = producto.nombre;
    document.getElementById('modal-producto-precio').textContent = producto.precio;
    document.getElementById('modal-producto-descripcion').textContent = producto.descripcion || 'Descripci√≥n no disponible';
    document.getElementById('modal-producto-imagen').src = producto.imagen;
    document.getElementById('modal-producto-imagen').alt = producto.nombre;
    
    // Stock
    const stockElement = document.getElementById('modal-producto-stock');
    const disponible = producto.stock === 'disponible';
    stockElement.textContent = disponible ? 'En stock' : 'Sin existencias';
    stockElement.className = `ml-4 px-2 py-1 text-xs rounded-full ${disponible ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`;
    
    // Especificaciones
    const especElement = document.getElementById('modal-producto-especificaciones');
    if (producto.especificaciones && producto.especificaciones.length > 0) {
        especElement.innerHTML = producto.especificaciones.map(spec => 
            `<div class="flex"><span class="mr-2">‚Ä¢</span><span>${spec}</span></div>`
        ).join('');
    } else {
        especElement.innerHTML = '<p class="text-gray-500">No hay especificaciones disponibles</p>';
    }
    
    // Thumbnails
    const imagenes = producto.imagenes || [producto.imagen];
    imagenes.forEach((img, index) => {
        const thumb = document.getElementById(`modal-producto-thumb${index + 1}`);
        if (thumb) {
            thumb.src = img;
            thumb.alt = `${producto.nombre} - vista ${index + 1}`;
            thumb.style.display = 'block';
            thumb.onclick = () => document.getElementById('modal-producto-imagen').src = img;
        }
    });
    
    // Ocultar thumbs no utilizados
    for (let i = imagenes.length; i < 4; i++) {
        const thumb = document.getElementById(`modal-producto-thumb${i + 1}`);
        if (thumb) thumb.style.display = 'none';
    }
    
    console.log('üì¶ Abriendo modal de producto:', producto.nombre);
    toggleModalProducto();
  } catch (error) {
    console.error('Error mostrando modal:', error);
    mostrarNotificacion('‚ùå Error al cargar detalles del producto');
  }
}

// Funci√≥n para abrir/cerrar modal de producto
function toggleModalProducto() {
  const modal = document.getElementById('modal-producto');
  const isOpening = modal.classList.contains('opacity-0');
  
  modal.classList.toggle('opacity-0');
  modal.classList.toggle('pointer-events-none');
  document.body.classList.toggle('modal-active', isOpening);
  
  // En m√≥vil, prevenir scroll del body cuando el modal est√° abierto
  if (window.innerWidth <= 768) {
    if (isOpening) {
      document.body.style.overflow = 'hidden';
    } else {
      document.body.style.overflow = '';
    }
  }
}
function comprarProductoWhatsApp() {
  const producto = componentesSueltos.find(comp => 
    comp.nombre === document.getElementById('modal-producto-nombre').textContent
  );
  if (producto) {
    const mensaje = `¬°Hola! Quiero comprar: ${producto.nombre} - ${producto.precio}`;
    window.open(`https://wa.me/595972292392?text=${encodeURIComponent(mensaje)}`, '_blank');
  }
}

function agregarProductoAlCarrito() {
  const producto = componentesSueltos.find(comp => 
    comp.nombre === document.getElementById('modal-producto-nombre').textContent
  );
  if (producto) {
    agregarAlCarrito(producto.nombre, producto.precio);
    toggleModalProducto();
  }
}

// Event listeners para filtros (modifica estos)
document.addEventListener('DOMContentLoaded', function() {
  // B√∫squeda en tiempo real
  const buscarInput = document.getElementById('buscar-componente');
  if (buscarInput) {
    buscarInput.addEventListener('input', function() {
      paginaActual = 1; // Resetear a primera p√°gina al buscar
      renderizarComponentesSueltos();
    });
  }
  
  // Filtros
  const filtroCategoria = document.getElementById('filtro-categoria');
  const filtroPrecio = document.getElementById('filtro-precio');
  if (filtroCategoria) {
    filtroCategoria.addEventListener('change', function() {
      paginaActual = 1; // Resetear a primera p√°gina al filtrar
      renderizarComponentesSueltos();
    });
  }
  if (filtroPrecio) {
    filtroPrecio.addEventListener('change', function() {
      paginaActual = 1; // Resetear a primera p√°gina al filtrar
      renderizarComponentesSueltos();
    });
  }
  
  // Cerrar modal
  document.querySelector('#modal-producto .modal-overlay').addEventListener('click', toggleModalProducto);
  document.querySelector('#modal-producto .modal-close').addEventListener('click', toggleModalProducto);
});
    // Funci√≥n para acortar texto
    function acortarTexto(texto, maxLength = 120) {
      if (texto.length <= maxLength) return texto;
      return texto.substring(0, maxLength) + '...';
    }

    /**
     * EXTRAER COMPONENTES DESDE DESCRIPCI√ìN
     */
    function extraerComponentes(descripcion) {
      const texto = descripcion.replace(/\r/g, ' ');
      const separador = '[-*‚Äì‚Äî]';
      const re = new RegExp(
        '(?:^|[\\s:])' +
        '(' + separador + ')\\s*' +
        '([\\s\\S]*?)' +
        '(?=(?:[\\s:]' + separador + '\\s)|$)',
        'g'
      );

      const componentes = [];
      let m;
      while ((m = re.exec(texto)) !== null) {
        const item = (m[2] || '').trim();
        if (item && item.length > 1) {
          componentes.push(item.replace(/\s*[;,.]\s*$/,''));
        }
      }

      if (componentes.length === 0) {
        const firstIdx = texto.search(new RegExp(separador + '\\s*[A-Za-z0-9]'));
        if (firstIdx !== -1) {
          const cola = texto.slice(firstIdx);
          cola.split(new RegExp('(?:^|[\\s:])' + separador + '\\s*', 'g'))
              .map(s => s.trim())
              .filter(Boolean)
              .forEach(s => componentes.push(s.replace(/\s*[;,.]\s*$/,'')));
        }
      }

      return componentes;
    }

    // Formatear componentes en 3 columnas SIEMPRE
    function formatearComponentesEnColumnas(componentes) {
      if (componentes.length === 0) return '';

      const columnCount = 3;
      const itemsPerColumn = Math.ceil(componentes.length / columnCount);
      let html = '<div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4 text-sm">';

      for (let col = 0; col < columnCount; col++) {
        html += '<div class="space-y-1">';
        const startIndex = col * itemsPerColumn;
        const endIndex = Math.min(startIndex + itemsPerColumn, componentes.length);

        for (let i = startIndex; i < endIndex; i++) {
          html += `<div class="flex items-start leading-snug">
                    <span class="mr-2">‚Ä¢</span>
                    <span>${componentes[i]}</span>
                  </div>`;
        }
        html += '</div>';
      }
      html += '</div>';
      return html;
    }

    // Modal ON/OFF - CORREGIDO
function toggleModal() {
  const modal = document.getElementById('modal-descripcion');
  const isOpening = modal.classList.contains('opacity-0');
  
  modal.classList.toggle('opacity-0');
  modal.classList.toggle('pointer-events-none');
  document.body.classList.toggle('modal-active', isOpening);
  
  // En m√≥vil, prevenir scroll del body cuando el modal est√° abierto
  if (window.innerWidth <= 768) {
    if (isOpening) {
      document.body.style.overflow = 'hidden';
    } else {
      document.body.style.overflow = '';
    }
  }
}

    // Mostrar modal con descripci√≥n + componentes
    function mostrarDescripcionCompleta(producto) {
      document.getElementById('modal-titulo').textContent = producto.nombre;

      const componentes = extraerComponentes(producto.desc);

      let contenidoHTML = `<p class="text-lg font-semibold mb-2">Descripci√≥n completa:</p>`;

      if (componentes.length > 0) {
        const idxPrim = producto.desc.search(/[-*‚Äì‚Äî]\s*[A-Za-z0-9]/);
        const intro = idxPrim > -1 ? producto.desc.slice(0, idxPrim).trim() : producto.desc.trim();
        contenidoHTML += `
          <p class="mb-4">${intro}</p>
          <p class="font-semibold mt-4 mb-2">Componentes incluidos:</p>
          ${formatearComponentesEnColumnas(componentes)}
        `;
      } else {
        contenidoHTML += `<p class="mb-4">${producto.desc}</p>`;
      }

      contenidoHTML += `<p class="text-lg font-semibold text-green-600 mt-6">${producto.precio}</p>`;
      document.getElementById('modal-contenido').innerHTML = contenidoHTML;

      // Documentos
      const documentosLista = document.getElementById('documentos-lista');
      documentosLista.innerHTML = '';

      if (producto.documentos && producto.documentos.length > 0) {
        producto.documentos.forEach(doc => {
          const docElement = document.createElement('a');
          docElement.href = doc.archivo;
          docElement.target = "_blank";
          docElement.className = 'flex items-center text-blue-600 hover:text-blue-800';
          docElement.innerHTML = `<i class="fas fa-file-download mr-2"></i>${doc.nombre}`;
          documentosLista.appendChild(docElement);
        });
        document.getElementById('modal-documentos').classList.remove('hidden');
      } else {
        document.getElementById('modal-documentos').classList.add('hidden');
      }

      // WhatsApp
      const mensaje = encodeURIComponent(`¬°Hola! Quiero comprar el producto: ${producto.nombre} - ${producto.precio}`);
      document.getElementById('modal-whatsapp').href = `https://wa.me/595972292392?text=${mensaje}`;

      toggleModal();
    }

    // Render productos del kit (con carrusel)
    function verProductosKit(idx) {
    navegarA('productoskit', { kitId: idx });
      const productos = productosKits[idx - 1];

      const portadas = [
        "png/portada_kit1.webp",
        "png/portadados.webp", 
        "png/portada_kit3.svg"
      ];

      const titulosPersonalizados = [
        "üîå Kits de Electr√≥nica - Kuongshun",
        "‚ö° Kits Proyectos - Learning", 
        "ü§ñ Kits de Rob√≥tica - Acebott"
      ];

      let html = `
        <!-- PORTADA SIN MARGENES LATERALES -->
        <div class="portada-sin-margenes">
          <img src="${portadas[idx-1]}" alt="${titulosPersonalizados[idx-1]}" 
               class="w-full h-full object-cover">
          <div class="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center">
            <h2 class="text-3xl sm:text-4xl font-bold text-white text-center px-4">
              ${titulosPersonalizados[idx-1]}
            </h2>
          </div>
        </div>

        <!-- CONTENIDO NORMAL (con m√°rgenes) -->
        <div class="container mx-auto px-4 mt-8">
          <h3 class="text-2xl sm:text-3xl font-bold text-center mb-8">Productos incluidos</h3>
          <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
      `;
      
      productos.forEach((p, i) => {
        const mensaje = encodeURIComponent(`¬°Hola! Quiero comprar el producto: ${p.nombre} - ${p.precio}`);
        
        let slidesHTML = '';
        if (p.img && p.img.length > 0) {
          p.img.forEach((imgSrc, imgIdx) => {
            slidesHTML += `
              <div class="swiper-slide flex justify-center items-center">
                <img src="${imgSrc}" alt="${p.nombre} - Imagen ${imgIdx + 1}" class="max-h-48 object-contain" loading="lazy">
              </div>
            `;
          });
        } else {
          slidesHTML = `
            <div class="swiper-slide flex justify-center items-center">
              <div class="w-full h-48 bg-gray-200 flex items-center justify-center">
                <span class="text-gray-500">Imagen no disponible</span>
              </div>
            </div>
          `;
        }

        html += `
          <div class="bg-white rounded-xl shadow-lg hover:shadow-xl transition duration-300 p-6 flex flex-col items-center w-full max-w-xs mx-auto mb-6 text-center">
            <!-- Carrusel de im√°genes -->
            <div class="swiper swiper-producto-${i} w-full h-48 rounded-lg overflow-hidden mb-4">
              <div class="swiper-wrapper">
                ${slidesHTML}
              </div>
              <div class="swiper-button-next"></div>
              <div class="swiper-button-prev"></div>
            </div>

            <h4 class="text-lg sm:text-xl font-bold mb-2">${p.nombre}</h4>
            <p class="mb-2 text-sm sm:text-base">${acortarTexto(p.desc)} 
              <a href="javascript:void(0)" onclick="mostrarDescripcionCompleta(${JSON.stringify(p).replace(/"/g, '&quot;')})" class="text-blue-600 hover:underline">Leer m√°s...</a>
            </p>
            <p class="mb-4 text-lg font-semibold text-green-600">${p.precio}</p>
            <div class="flex flex-col gap-2 w-full mt-auto">
              <a href="https://wa.me/595972292392?text=${mensaje}" target="_blank"
                class="w-full bg-green-500 text-white px-4 py-2 rounded-lg shadow hover:bg-green-600 transition">
                Comprar por WhatsApp
              </a>
              <button onclick="agregarAlCarrito('${p.nombre.replace(/'/g, "\\'")}', '${p.precio}')"
                class="w-full bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700 transition">
                Agregar al carrito
              </button>
            </div>
          </div>
        `;
      });

      html += `</div></div>`;
      document.getElementById('productoskit-content').innerHTML = html;
      
      // Inicializar Swipers para cada producto
      productos.forEach((_, i) => {
        new Swiper(`.swiper-producto-${i}`, {
          loop: true,
          navigation: {
            nextEl: `.swiper-producto-${i} .swiper-button-next`,
            prevEl: `.swiper-producto-${i} .swiper-button-prev`,
          },
          preventClicks: true,
          preventClicksPropagation: true,
          touchStartPreventDefault: true
        });
      });

      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Funci√≥n mejorada para volver al inicio
function volverAlInicio() {
    // Navegar a la vista de inicio
    navegarA('inicio');
    
    // Hacer scroll suave al inicio de la p√°gina
    window.scrollTo({
        top: 0,
        behavior: 'smooth'
    });
    
    // Track event para analytics
    trackEvent('Navegaci√≥n', 'Logo Click', 'Volver al inicio');
}

    // =============================================
    // FUNCIONES PARA LA SECCI√ìN DE ASESOR√çAS
    // =============================================

    function verAsesorias() {
    navegarA('asesorias');
}
    
    function enviarPorWhatsApp() {
      const nombre = document.querySelector('input[name="nombre"]').value;
      const institucion = document.querySelector('input[name="institucion"]').value;
      const email = document.querySelector('input[name="email"]').value;
      const telefono = document.querySelector('input[name="telefono"]').value;
      const tipoProyecto = document.querySelector('select[name="tipo_proyecto"]').value;
      const proyecto = document.querySelector('textarea[name="proyecto"]').value;
      const fechaLimite = document.querySelector('input[name="fecha_limite"]').value;

      const mensaje = `¬°Hola! Solicito asesor√≠a para proyecto t√©cnico:%0A%0A*Nombre:* ${nombre}%0A*Instituci√≥n:* ${institucion}%0A*Email:* ${email}%0A*Tel√©fono:* ${telefono}%0A*Tipo de proyecto:* ${tipoProyecto}%0A*Fecha l√≠mite:* ${fechaLimite || 'No especificada'}%0A%0A*Descripci√≥n del proyecto:*%0A${proyecto}`;

      window.open(`https://wa.me/595972292392?text=${mensaje}`, '_blank');
    }
  </script>
  <script>
  function comprarPorWhatsApp(nombre, precio) {
    const numero = "595972292392"; // tu n√∫mero de WhatsApp
    const mensaje = `Hola, quiero comprar:%0A- ${nombre} (${precio})`;
    const url = `https://wa.me/${numero}?text=${mensaje}`;
    window.open(url, "_blank");
  }
</script>
<script>
  let carrito = [];

  function agregarAlCarrito(nombre, precio) {
    carrito.push({ nombre, precio });
    actualizarContador();
    proporcionarFeedbackTactil();
    mostrarNotificacion(`${nombre} agregado ‚úÖ`);
    trackEvent('Carrito', 'Agregar Producto', nombre);
}

  function mostrarNotificacion(mensaje) {
    // Crear elemento de notificaci√≥n
    const notificacion = document.createElement('div');
    notificacion.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transform translate-x-full transition-transform duration-300';
    notificacion.textContent = mensaje;
    
    document.body.appendChild(notificacion);
    
    // Animaci√≥n de entrada
    setTimeout(() => {
      notificacion.classList.remove('translate-x-full');
    }, 100);
    
    // Animaci√≥n de salida despu√©s de 3 segundos
    setTimeout(() => {
      notificacion.classList.add('translate-x-full');
      setTimeout(() => {
        document.body.removeChild(notificacion);
      }, 300);
    }, 3000);
  }

 function actualizarContador() {
    const count = carrito.length;
    
    // Actualizar ambos contadores
    const desktopCount = document.getElementById("carrito-count-desktop");
    const mobileCount = document.getElementById("carrito-count-mobile");
    
    if (desktopCount) desktopCount.textContent = count;
    if (mobileCount) mobileCount.textContent = count;
}

  function parseGs(str) { return Number(String(str).replace(/[^\d]/g,'')) || 0; }
  function formatearGs(n) { return 'Gs. ' + n.toLocaleString('es-PY'); }


  
// =============================================
// SISTEMA DE SEGURIDAD - FUNCIONES PRINCIPALES
// =============================================

function inicializarSistemaSeguridad() {
    const parametros = new URLSearchParams(window.location.search);
    if (parametros.get('admin') === SISTEMA_SEGURIDAD.urlToken) {
        window.accesoAdminPermitido = true;
        history.replaceState({}, '', window.location.pathname);
        console.log('‚úÖ Acceso admin concedido v√≠a URL secreta');
    }
}

function mostrarPanelReviewsSeguro() {
    // Verificar si ya tiene acceso por URL
    if (!window.accesoAdminPermitido) {
        // Verificar intentos
        if (SISTEMA_SEGURIDAD.intentos >= SISTEMA_SEGURIDAD.maxIntentos) {
            mostrarNotificacion('üö´ Demasiados intentos fallidos. Acceso bloqueado.', 'error');
            return;
        }
        
        // Solicitar autenticaci√≥n
        const metodo = prompt(
            "üîê ACCESO RESTRINGIDO - INNOVAKIT ADMIN\n\n" +
            "M√©todo de verificaci√≥n:\n" +
            "1 - Contrase√±a principal\n" +
            "2 - C√≥digo personal\n\n" +
            "Ingresa 1 o 2:"
        );
        
        let acceso = false;
        
        if (metodo === "1") {
            const input = prompt("üîë Contrase√±a de administrador:");
            acceso = (input === SISTEMA_SEGURIDAD.password);
        } else if (metodo === "2") {
            const input = prompt("üî¢ C√≥digo personal de 4 d√≠gitos:");
            acceso = (input === SISTEMA_SEGURIDAD.codigoSecreto);
        } else {
            mostrarNotificacion('‚ùå Opci√≥n no v√°lida', 'error');
            return;
        }
        
        if (!acceso) {
            SISTEMA_SEGURIDAD.intentos++;
            const restantes = SISTEMA_SEGURIDAD.maxIntentos - SISTEMA_SEGURIDAD.intentos;
            mostrarNotificacion(`‚ùå Acceso denegado. ${restantes} intentos restantes.`, 'error');
            return;
        }
    }
    
    // Resetear intentos si accedi√≥ correctamente
    SISTEMA_SEGURIDAD.intentos = 0;
    window.accesoAdminPermitido = true;
    
    // MOSTRAR EL PANEL
    const reviewsPendientes = reviews.filter(r => r.pending);
    const reviewsAprobados = reviews.filter(r => r.verified && !r.pending);
    
    const panelHTML = `
        <div class="admin-overlay" onclick="cerrarPanelReviews()"></div>
        <div class="admin-panel">
            <div class="flex justify-between items-center mb-6 pb-4 border-b border-gray-200">
                <h2 class="text-2xl font-bold text-gray-800">
                    üëë Panel de Rese√±as
                    <span class="text-sm font-normal text-green-600 ml-2">‚óè Conectado</span>
                </h2>
                <button onclick="cerrarPanelReviews()" class="text-gray-500 hover:text-gray-700 p-2 rounded-full hover:bg-gray-100">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <div class="mb-8">
                <div class="flex items-center gap-3 mb-4">
                    <div class="bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm font-semibold">
                        ${reviewsPendientes.length} Pendientes
                    </div>
                    <div class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-semibold">
                        ${reviewsAprobados.length} Aprobados
                    </div>
                </div>
                
                ${reviewsPendientes.length > 0 ? `
                    <h3 class="text-lg font-semibold mb-4 text-gray-800">üìù Rese√±as Pendientes</h3>
                    <div class="space-y-4 max-h-96 overflow-y-auto pr-2">
                        ${reviewsPendientes.map(review => `
                            <div class="review-pending-item">
                                <div class="flex justify-between items-start mb-3">
                                    <div class="flex-1">
                                        <div class="rating-stars mb-2">
                                            ${renderStars(review.rating)}
                                        </div>
                                        <h4 class="font-semibold text-gray-800">${review.nombre}</h4>
                                        <p class="text-sm text-gray-600 mt-1">${review.producto}</p>
                                    </div>
                                    <span class="pending-badge">
                                        <i class="fas fa-clock"></i> Pendiente
                                    </span>
                                </div>
                                <p class="text-gray-700 text-sm mb-4 leading-relaxed">"${review.comentario}"</p>
                                <div class="flex gap-2 justify-end">
                                    <button onclick="aprobarReview(${review.id})" 
                                            class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-semibold text-sm transition btn-hover">
                                        <i class="fas fa-check mr-1"></i> Aprobar
                                    </button>
                                    <button onclick="rechazarReview(${review.id})" 
                                            class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-semibold text-sm transition btn-hover">
                                        <i class="fas fa-times mr-1"></i> Rechazar
                                    </button>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                ` : `
                    <div class="text-center py-8 text-gray-500">
                        <i class="fas fa-check-circle text-4xl mb-3 text-green-400"></i>
                        <p class="font-semibold">No hay rese√±as pendientes</p>
                        <p class="text-sm mt-1">Todo est√° al d√≠a</p>
                    </div>
                `}
            </div>
            
            <div class="text-center border-t pt-4">
                <button onclick="cerrarSesionAdmin()" 
                        class="bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg font-semibold transition btn-hover mr-2">
                    <i class="fas fa-sign-out-alt mr-2"></i>Cerrar Sesi√≥n
                </button>
                <button onclick="cerrarPanelReviews()" 
                        class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition btn-hover">
                    <i class="fas fa-times mr-2"></i>Cerrar Panel
                </button>
            </div>
        </div>
    `;
    
    document.body.insertAdjacentHTML('beforeend', panelHTML);
}

function cerrarSesionAdmin() {
    window.accesoAdminPermitido = false;
    SISTEMA_SEGURIDAD.intentos = 0;
    cerrarPanelReviews();
    mostrarNotificacion('üîí Sesi√≥n admin cerrada', 'success');
}

function cerrarPanelReviews() {
    const overlay = document.querySelector('.admin-overlay');
    const panel = document.querySelector('.admin-panel');
    
    if (overlay) overlay.remove();
    if (panel) panel.remove();
}

function aprobarReview(id) {
    const reviewIndex = reviews.findIndex(r => r.id === id);
    if (reviewIndex !== -1) {
        reviews[reviewIndex].verified = true;
        reviews[reviewIndex].pending = false;
        localStorage.setItem('innovakit_reviews', JSON.stringify(reviews));
        mostrarNotificacion('‚úÖ Rese√±a aprobada y publicada', 'success');
        cerrarPanelReviews();
        
        // Recargar panel despu√©s de un momento si hay m√°s pendientes
        setTimeout(() => {
            const pendientes = reviews.filter(r => r.pending);
            if (pendientes.length > 0) {
                mostrarPanelReviewsSeguro();
            }
        }, 1500);
    }
}

function rechazarReview(id) {
    if (confirm('¬øEst√°s seguro de que quieres rechazar esta rese√±a? Esta acci√≥n no se puede deshacer.')) {
        reviews = reviews.filter(r => r.id !== id);
        localStorage.setItem('innovakit_reviews', JSON.stringify(reviews));
        mostrarNotificacion('‚ùå Rese√±a rechazada', 'error');
        cerrarPanelReviews();
    }
}

// =============================================
// FUNCIONES PRINCIPALES DEL SISTEMA DE REVIEWS
// =============================================

// Funci√≥n para renderizar estrellas
function renderStars(rating) {
    let stars = '';
    for (let i = 1; i <= 5; i++) {
        if (i <= rating) {
            stars += '<i class="fas fa-star star filled"></i>';
        } else {
            stars += '<i class="far fa-star star"></i>';
        }
    }
    return stars;
}

// Funci√≥n para mostrar reviews de un producto espec√≠fico
function mostrarReviewsProducto(productoNombre) {
    const reviewsProducto = reviews.filter(review => 
        (review.producto.toLowerCase().includes(productoNombre.toLowerCase()) ||
         productoNombre.toLowerCase().includes(review.producto.toLowerCase())) &&
        !review.pending // No mostrar reviews pendientes
    );
    
    return reviewsProducto;
}

// Funci√≥n para calcular rating promedio
function calcularRatingPromedio(productoNombre) {
    const reviewsProducto = mostrarReviewsProducto(productoNombre);
    if (reviewsProducto.length === 0) return 0;
    
    const total = reviewsProducto.reduce((sum, review) => sum + review.rating, 0);
    return (total / reviewsProducto.length).toFixed(1);
}

// Funci√≥n para renderizar reviews en el modal de producto
function renderizarReviewsEnModal(productoNombre) {
    const reviewsProducto = mostrarReviewsProducto(productoNombre);
    const promedio = calcularRatingPromedio(productoNombre);
    const totalReviews = reviewsProducto.length;
    
    let html = `
        <div class="mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200">
            <div class="flex items-center gap-4 mb-3">
                <div class="text-3xl font-bold text-gray-800">${promedio}</div>
                <div class="flex-1">
                    <div class="rating-stars text-lg mb-1">
                        ${renderStars(Math.round(promedio))}
                    </div>
                    <div class="text-sm text-gray-600">
                        ${totalReviews} ${totalReviews === 1 ? 'rese√±a' : 'rese√±as'} ‚Ä¢ ${promedio} de 5
                    </div>
                </div>
            </div>
            <button onclick="mostrarModalReview('${productoNombre.replace(/'/g, "\\'")}')" 
                    class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-semibold transition btn-hover">
                <i class="fas fa-plus mr-2"></i>Escribir Rese√±a
            </button>
        </div>
    `;
    
    if (totalReviews > 0) {
        html += '<div class="space-y-4 max-h-64 overflow-y-auto pr-2">';
        
        // Ordenar por fecha (m√°s recientes primero)
        reviewsProducto.sort((a, b) => new Date(b.fecha) - new Date(a.fecha));
        
        reviewsProducto.forEach(review => {
            html += `
                <div class="review-card">
                    <div class="flex justify-between items-start mb-3">
                        <div class="flex-1">
                            <div class="rating-stars mb-2">
                                ${renderStars(review.rating)}
                            </div>
                            <h4 class="font-semibold text-gray-800">${review.nombre}</h4>
                        </div>
                        ${review.verified ? 
                            '<span class="verified-badge"><i class="fas fa-check"></i> Verificado</span>' : 
                            ''
                        }
                    </div>
                    <p class="text-gray-700 text-sm mb-3 leading-relaxed">${review.comentario}</p>
                    <div class="text-xs text-gray-500 flex justify-between items-center">
                        <span>${new Date(review.fecha).toLocaleDateString('es-PY', { 
                            year: 'numeric', 
                            month: 'long', 
                            day: 'numeric' 
                        })}</span>
                        <span class="text-blue-600">${review.producto}</span>
                    </div>
                </div>
            `;
        });
        html += '</div>';
    } else {
        html += `
            <div class="text-center py-8 text-gray-500">
                <i class="fas fa-comments text-4xl mb-3 text-gray-300"></i>
                <p class="font-semibold">A√∫n no hay rese√±as</p>
                <p class="text-sm mt-1">S√© el primero en compartir tu experiencia</p>
            </div>
        `;
    }
    
    return html;
}

// Variables globales para el sistema de rating
let currentRating = 0;

// Funci√≥n para mostrar modal de agregar review
function mostrarModalReview(productoNombre) {
    // Cerrar modal de producto si est√° abierto
    toggleModalProducto();
    
    const modalHTML = `
        <div id="review-modal" class="modal opacity-0 pointer-events-none fixed w-full h-full top-0 left-0 flex items-center justify-center z-50 backdrop-blur-sm">
            <div class="modal-overlay absolute w-full h-full bg-gray-900 opacity-60"></div>
            
            <div class="modal-container bg-white w-11/12 md:max-w-md mx-auto rounded-2xl shadow-2xl z-50 transform transition-all duration-300 scale-95">
                <div class="modal-content py-6 text-left px-6">
                    <div class="flex justify-between items-center pb-4 border-b border-gray-200 mb-4">
                        <h3 class="text-xl font-bold text-gray-800">Escribe tu Rese√±a</h3>
                        <button onclick="cerrarModalReview()" class="text-gray-500 hover:text-gray-700 p-2 rounded-full hover:bg-gray-100 transition">
                            <i class="fas fa-times text-lg"></i>
                        </button>
                    </div>
                    
                    <div class="mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200">
                        <p class="text-sm text-blue-800 font-semibold">Producto:</p>
                        <p class="text-blue-900">${productoNombre}</p>
                    </div>
                    
                    <form id="form-review" onsubmit="agregarReview(event, '${productoNombre.replace(/'/g, "\\'")}')">
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Tu nombre *</label>
                            <input type="text" id="review-nombre" required 
                                   class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"
                                   placeholder="Ej: Mar√≠a Gonz√°lez">
                        </div>
                        
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Tu calificaci√≥n *</label>
                            <div class="rating-input flex gap-1 text-2xl mb-2 justify-center">
                                ${[1,2,3,4,5].map(i => 
                                    `<i class="far fa-star cursor-pointer text-gray-300 hover:text-yellow-400 transition" 
                                        data-rating="${i}"
                                        onmouseover="previewStars(${i})"
                                        onmouseout="resetStars()"
                                        onclick="setRating(${i})"></i>`
                                ).join('')}
                            </div>
                            <input type="hidden" id="review-rating" required value="0">
                            <div id="rating-text" class="text-center text-sm text-gray-500">Selecciona las estrellas</div>
                        </div>
                        
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Tu experiencia *</label>
                            <textarea id="review-comentario" required rows="4"
                                      class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition resize-none"
                                      placeholder="Comparte tu experiencia con este producto... ¬øQu√© te gust√≥? ¬øC√≥mo lo usaste?"></textarea>
                        </div>
                        
                        <div class="flex gap-3">
                            <button type="button" onclick="cerrarModalReview()" 
                                    class="flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 py-3 rounded-lg font-semibold transition btn-hover">
                                Cancelar
                            </button>
                            <button type="submit" id="submit-review" disabled
                                    class="flex-1 bg-blue-600 text-white py-3 rounded-lg font-semibold transition btn-hover opacity-50 cursor-not-allowed">
                                <i class="fas fa-paper-plane mr-2"></i>Enviar
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    `;
    
    // Agregar modal al body
    document.body.insertAdjacentHTML('beforeend', modalHTML);
    
    // Mostrar modal con animaci√≥n
    setTimeout(() => {
        const modal = document.getElementById('review-modal');
        modal.classList.remove('opacity-0', 'pointer-events-none');
        modal.querySelector('.modal-container').classList.remove('scale-95');
    }, 10);
    
    // Resetear rating
    currentRating = 0;
}

// Funciones auxiliares para el sistema de rating
function previewStars(rating) {
    const stars = document.querySelectorAll('.rating-input .fa-star');
    const ratingText = document.getElementById('rating-text');
    stars.forEach((star, index) => {
        if (index < rating) {
            star.classList.add('fas', 'text-yellow-400');
            star.classList.remove('far', 'text-gray-300');
        } else {
            star.classList.add('far', 'text-gray-300');
            star.classList.remove('fas', 'text-yellow-400');
        }
    });
    
    // Actualizar texto descriptivo
    const textos = [
        "Selecciona las estrellas",
        "Malo",
        "Regular", 
        "Bueno",
        "Muy bueno",
        "Excelente"
    ];
    if (ratingText) {
        ratingText.textContent = textos[rating];
        ratingText.className = `text-center text-sm ${rating > 0 ? 'text-yellow-600 font-semibold' : 'text-gray-500'}`;
    }
}

function resetStars() {
    if (currentRating === 0) {
        const stars = document.querySelectorAll('.rating-input .fa-star');
        stars.forEach(star => {
            star.classList.add('far', 'text-gray-300');
            star.classList.remove('fas', 'text-yellow-400');
        });
        const ratingText = document.getElementById('rating-text');
        if (ratingText) {
            ratingText.textContent = "Selecciona las estrellas";
            ratingText.className = "text-center text-sm text-gray-500";
        }
    } else {
        previewStars(currentRating);
    }
}

function setRating(rating) {
    currentRating = rating;
    document.getElementById('review-rating').value = rating;
    
    // Habilitar bot√≥n de enviar
    const submitBtn = document.getElementById('submit-review');
    if (submitBtn) {
        submitBtn.disabled = false;
        submitBtn.classList.remove('opacity-50', 'cursor-not-allowed');
        submitBtn.classList.add('hover:bg-blue-700', 'cursor-pointer');
    }
    
    previewStars(rating);
}

function cerrarModalReview() {
    const modal = document.getElementById('review-modal');
    if (modal) {
        modal.querySelector('.modal-container').classList.add('scale-95');
        setTimeout(() => {
            modal.remove();
        }, 300);
    }
    
    // Reabrir modal de producto si exist√≠a
    const productoModal = document.getElementById('modal-producto');
    if (productoModal && !productoModal.classList.contains('pointer-events-none')) {
        // Ya est√° abierto, no hacer nada
    } else {
        // Volver a la vista anterior
        setTimeout(() => {
            if (window.location.hash.includes('componentes')) {
                document.getElementById('vista-componentes-sueltos').classList.remove('hidden');
            }
        }, 350);
    }
}

// Funci√≥n principal para agregar review
function agregarReview(event, productoNombre) {
    event.preventDefault();
    
    const nombre = document.getElementById('review-nombre').value.trim();
    const rating = parseInt(document.getElementById('review-rating').value);
    const comentario = document.getElementById('review-comentario').value.trim();
    
    if (rating === 0) {
        mostrarNotificacion('Por favor selecciona una calificaci√≥n', 'error');
        return;
    }
    
    if (nombre.length < 2) {
        mostrarNotificacion('Por favor ingresa tu nombre', 'error');
        return;
    }
    
    if (comentario.length < 10) {
        mostrarNotificacion('Por favor escribe una rese√±a m√°s detallada (m√≠nimo 10 caracteres)', 'error');
        return;
    }
    
    const nuevoReview = {
        id: Date.now(),
        nombre: nombre,
        rating: rating,
        comentario: comentario,
        producto: productoNombre,
        fecha: new Date().toISOString().split('T')[0],
        verified: false,
        pending: true  // ‚Üê IMPORTANTE: Pendiente de aprobaci√≥n
    };
    
    reviews.push(nuevoReview);
    localStorage.setItem('innovakit_reviews', JSON.stringify(reviews));
    
    // üîî NOTIFICACI√ìN PARA TI
    notificarReviewPendiente(nuevoReview);
    
    mostrarNotificacion('¬°Gracias por tu rese√±a! La revisaremos y publicaremos pronto. üìù', 'success');
    cerrarModalReview();
    
    // Track event para analytics
    trackEvent('Reviews', 'Agregar Rese√±a', productoNombre);
}

// üîî FUNCI√ìN PARA NOTIFICARTE DE REVIEWS NUEVOS
function notificarReviewPendiente(review) {
    const mensaje = `üìù NUEVA RESE√ëA PENDIENTE:\n\nProducto: ${review.producto}\nCliente: ${review.nombre}\nRating: ${'‚≠ê'.repeat(review.rating)}\nComentario: ${review.comentario}\n\nRevisa el panel de administraci√≥n para aprobarla.`;
    
    console.log('üîî REVIEW PENDIENTE:', mensaje);
    console.log('Para aprobar/ver reviews pendientes, ejecuta en la consola: mostrarPanelReviews()');
    
    // Tambi√©n puedes mostrarlo como notificaci√≥n en la p√°gina
    setTimeout(() => {
        if (confirm('üìù Tienes una nueva rese√±a pendiente de aprobaci√≥n. ¬øQuieres revisarla ahora?')) {
            mostrarPanelReviewsSeguro();
        }
    }, 2000);
}

// =============================================
// FUNCIONES PARA REVIEWS DE PROYECTOS CON FOTOS
// =============================================

// Funci√≥n para cargar testimonios con fotos en la p√°gina principal
function cargarTestimoniosReales() {
    const testimoniosContainer = document.getElementById('testimonios-reales');
    if (!testimoniosContainer) return;
    
    // Obtener solo reviews de proyectos VERIFICADOS y con FOTO
    const reviewsProyectos = reviews.filter(review => 
        review.tipo === 'proyecto' && 
        review.verified && 
        !review.pending &&
        review.foto // Solo los que tienen foto
    );
    
    if (reviewsProyectos.length === 0) {
        testimoniosContainer.innerHTML = `
            <div class="col-span-full text-center py-2">
                <i class="fas fa-camera text-4xl text-gray-300 mb-4"></i>
                <p class="text-gray-600 font-semibold">A√∫n no hay proyectos compartidos</p>
                <p class="text-gray-500 text-sm mt-2">S√© el primero en mostrar tu creaci√≥n</p>
            </div>
        `;
        return;
    }
    
    // Ordenar por fecha (m√°s recientes primero)
    reviewsProyectos.sort((a, b) => new Date(b.fecha) - new Date(a.fecha));
    
    // Limitar a 6 testimonios m√°ximo
    const testimoniosMostrar = reviewsProyectos.slice(0, 6);
    
    testimoniosContainer.innerHTML = testimoniosMostrar.map(review => `
        <div class="review-card transform hover:scale-105 transition duration-300">
            <!-- Foto del proyecto -->
            <div class="relative h-48 mb-4 rounded-xl overflow-hidden">
                <img src="${review.foto}" alt="Proyecto de ${review.nombre}" 
                     class="w-full h-full object-cover hover:scale-110 transition duration-500"
                     onerror="this.src='img/proyecto-placeholder.jpg'">
                <div class="absolute top-3 right-3 rating-stars text-white text-shadow">
                    ${renderStars(review.rating)}
                </div>
            </div>
            
            <!-- Contenido -->
            <div class="p-4">
                <div class="flex items-center mb-3">
                    <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center mr-3 shadow-md">
                        <span class="text-white font-bold text-sm">${review.nombre.split(' ').map(n => n[0]).join('')}</span>
                    </div>
                    <div class="flex-1">
                        <p class="font-semibold text-gray-800">${review.nombre}</p>
                        <p class="text-sm text-gray-500">${review.producto}</p>
                    </div>
                </div>
                
                <p class="text-gray-700 text-sm leading-relaxed mb-4 line-clamp-3">"${review.comentario}"</p>
                
                <div class="flex justify-between items-center text-xs text-gray-500">
                    <span>${new Date(review.fecha).toLocaleDateString('es-PY')}</span>
                    <span class="verified-badge bg-green-100 text-green-800 px-2 py-1 rounded-full">
                        <i class="fas fa-check mr-1"></i>Verificado
                    </span>
                </div>
            </div>
        </div>
    `).join('');
}

// Funci√≥n para mostrar modal de proyecto con foto
function mostrarModalProyecto() {
    const modalHTML = `
        <div id="proyecto-modal" class="modal opacity-0 pointer-events-none fixed w-full h-full top-0 left-0 flex items-center justify-center z-50 backdrop-blur-sm">
            <div class="modal-overlay absolute w-full h-full bg-gray-900 opacity-60"></div>
            
            <div class="modal-container bg-white w-11/12 md:max-w-2xl mx-auto rounded-2xl shadow-2xl z-50 transform transition-all duration-300 scale-95 max-h-[90vh] overflow-y-auto">
                <div class="modal-content py-6 text-left px-6">
                    <div class="flex justify-between items-center pb-4 border-b border-gray-200 mb-4">
                        <h3 class="text-xl font-bold text-gray-800">Comparte tu Proyecto</h3>
                        <button onclick="cerrarModalProyecto()" class="text-gray-500 hover:text-gray-700 p-2 rounded-full hover:bg-gray-100">
                            <i class="fas fa-times text-lg"></i>
                        </button>
                    </div>
                    
                    <form id="form-proyecto" onsubmit="agregarProyecto(event)">
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Foto de tu proyecto *</label>
                            <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition cursor-pointer"
                                 onclick="document.getElementById('foto-proyecto').click()">
                                <i class="fas fa-camera text-3xl text-gray-400 mb-2"></i>
                                <p class="text-gray-600 font-semibold">Haz clic para subir una foto</p>
                                <p class="text-gray-500 text-sm">Muestra tu creaci√≥n con Innovakit</p>
                                <input type="file" id="foto-proyecto" accept="image/*" class="hidden" onchange="previewFotoProyecto(this)">
                            </div>
                            <div id="foto-preview" class="mt-3 hidden">
                                <img id="foto-preview-img" class="w-full h-48 object-cover rounded-lg">
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Tu nombre *</label>
                                <input type="text" id="proyecto-nombre" required 
                                       class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                                       placeholder="Ej: Mar√≠a Gonz√°lez">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Nombre del proyecto *</label>
                                <input type="text" id="proyecto-titulo" required 
                                       class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                                       placeholder="Ej: Robot Seguidor de L√≠nea">
                            </div>
                        </div>
                        
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Tu calificaci√≥n *</label>
                            <div class="rating-input flex gap-1 text-2xl mb-2 justify-center">
                                ${[1,2,3,4,5].map(i => 
                                    `<i class="far fa-star cursor-pointer text-gray-300 hover:text-yellow-400 transition" 
                                        data-rating="${i}"
                                        onmouseover="previewStarsProyecto(${i})"
                                        onmouseout="resetStarsProyecto()"
                                        onclick="setRatingProyecto(${i})"></i>`
                                ).join('')}
                            </div>
                            <input type="hidden" id="proyecto-rating" required value="0">
                            <div id="proyecto-rating-text" class="text-center text-sm text-gray-500">Selecciona las estrellas</div>
                        </div>
                        
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Cu√©ntanos sobre tu proyecto *</label>
                            <textarea id="proyecto-comentario" required rows="4"
                                      class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"
                                      placeholder="¬øQu√© creaste? ¬øQu√© componentes usaste? ¬øQu√© aprendiste?..."></textarea>
                        </div>
                        
                        <div class="flex gap-3">
                            <button type="button" onclick="cerrarModalProyecto()" 
                                    class="flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 py-3 rounded-lg font-semibold transition">
                                Cancelar
                            </button>
                            <button type="submit" id="submit-proyecto" disabled
                                    class="flex-1 bg-green-600 text-white py-3 rounded-lg font-semibold transition opacity-50 cursor-not-allowed">
                                <i class="fas fa-share mr-2"></i>Compartir Proyecto
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    `;
    
    document.body.insertAdjacentHTML('beforeend', modalHTML);
    
    setTimeout(() => {
        const modal = document.getElementById('proyecto-modal');
        modal.classList.remove('opacity-0', 'pointer-events-none');
        modal.querySelector('.modal-container').classList.remove('scale-95');
    }, 10);
}

// Funciones auxiliares para el modal de proyecto
let proyectoCurrentRating = 0;

function previewStarsProyecto(rating) {
    const stars = document.querySelectorAll('#proyecto-modal .rating-input .fa-star');
    const ratingText = document.getElementById('proyecto-rating-text');
    stars.forEach((star, index) => {
        if (index < rating) {
            star.classList.add('fas', 'text-yellow-400');
            star.classList.remove('far', 'text-gray-300');
        } else {
            star.classList.add('far', 'text-gray-300');
            star.classList.remove('fas', 'text-yellow-400');
        }
    });
    
    const textos = ["Selecciona las estrellas", "Malo", "Regular", "Bueno", "Muy bueno", "Excelente"];
    if (ratingText) {
        ratingText.textContent = textos[rating];
        ratingText.className = `text-center text-sm ${rating > 0 ? 'text-yellow-600 font-semibold' : 'text-gray-500'}`;
    }
}

function resetStarsProyecto() {
    if (proyectoCurrentRating === 0) {
        const stars = document.querySelectorAll('#proyecto-modal .rating-input .fa-star');
        stars.forEach(star => {
            star.classList.add('far', 'text-gray-300');
            star.classList.remove('fas', 'text-yellow-400');
        });
        const ratingText = document.getElementById('proyecto-rating-text');
        if (ratingText) {
            ratingText.textContent = "Selecciona las estrellas";
            ratingText.className = "text-center text-sm text-gray-500";
        }
    } else {
        previewStarsProyecto(proyectoCurrentRating);
    }
}

function setRatingProyecto(rating) {
    proyectoCurrentRating = rating;
    document.getElementById('proyecto-rating').value = rating;
    
    const submitBtn = document.getElementById('submit-proyecto');
    if (submitBtn) {
        submitBtn.disabled = false;
        submitBtn.classList.remove('opacity-50', 'cursor-not-allowed');
        submitBtn.classList.add('hover:bg-green-700', 'cursor-pointer');
    }
    
    previewStarsProyecto(rating);
}

function previewFotoProyecto(input) {
    const file = input.files[0];
    if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
            const preview = document.getElementById('foto-preview');
            const img = document.getElementById('foto-preview-img');
            img.src = e.target.result;
            preview.classList.remove('hidden');
        };
        reader.readAsDataURL(file);
    }
}

function cerrarModalProyecto() {
    const modal = document.getElementById('proyecto-modal');
    if (modal) {
        modal.querySelector('.modal-container').classList.add('scale-95');
        setTimeout(() => {
            modal.remove();
        }, 300);
    }
}

function agregarProyecto(event) {
    event.preventDefault();
    
    const nombre = document.getElementById('proyecto-nombre').value.trim();
    const titulo = document.getElementById('proyecto-titulo').value.trim();
    const rating = parseInt(document.getElementById('proyecto-rating').value);
    const comentario = document.getElementById('proyecto-comentario').value.trim();
    const fotoInput = document.getElementById('foto-proyecto');
    
    // Validaciones
    if (rating === 0) {
        mostrarNotificacion('Por favor selecciona una calificaci√≥n', 'error');
        return;
    }
    
    if (!fotoInput.files[0]) {
        mostrarNotificacion('Por favor sube una foto de tu proyecto', 'error');
        return;
    }
    
    if (nombre.length < 2) {
        mostrarNotificacion('Por favor ingresa tu nombre', 'error');
        return;
    }
    
    if (comentario.length < 20) {
        mostrarNotificacion('Por favor describe mejor tu proyecto (m√≠nimo 20 caracteres)', 'error');
        return;
    }
    
    // Convertir foto a base64 (para almacenamiento local)
    const file = fotoInput.files[0];
    const reader = new FileReader();
    reader.onload = function(e) {
        const nuevoProyecto = {
            id: Date.now(),
            nombre: nombre,
            rating: rating,
            comentario: comentario,
            producto: titulo,
            fecha: new Date().toISOString().split('T')[0],
            verified: false,
            pending: true,
            tipo: "proyecto",  // ‚Üê Tipo PROYECTO
            foto: e.target.result  // ‚Üê Foto en base64
        };
        
        reviews.push(nuevoProyecto);
        localStorage.setItem('innovakit_reviews', JSON.stringify(reviews));
        
        // Notificaci√≥n
        notificarReviewPendiente(nuevoProyecto);
        
        mostrarNotificacion('¬°Gracias por compartir tu proyecto! Lo revisaremos y publicaremos pronto. üì∏', 'success');
        cerrarModalProyecto();
        
        // Recargar testimonios
        setTimeout(cargarTestimoniosReales, 1000);
        
        trackEvent('Reviews', 'Agregar Proyecto', titulo);
    };
    reader.readAsDataURL(file);
}

// =============================================
// BOT√ìN ADMIN SEGURO
// =============================================

function agregarBotonAdminSeguro() {
    const boton = document.createElement('button');
    boton.innerHTML = 'üëë';
    boton.className = 'fixed bottom-24 left-6 z-50 bg-purple-600 text-white w-12 h-12 rounded-full shadow-lg hover:bg-purple-700 transition-all duration-300 hidden';
    boton.onclick = mostrarPanelReviewsSeguro;
    boton.title = 'Panel Admin (Acceso Restringido)';
    boton.id = 'boton-admin-secreto';
    document.body.appendChild(boton);
    
    // Mostrar con combinaci√≥n de teclas
    document.addEventListener('keydown', function(e) {
        if (e.ctrlKey && e.altKey && e.key === 'i') { // Ctrl+Alt+I
            document.getElementById('boton-admin-secreto').classList.toggle('hidden');
            setTimeout(() => {
                document.getElementById('boton-admin-secreto').classList.add('hidden');
            }, 10000); // Ocultar despu√©s de 10 segundos
        }
    });
}

// REEMPLAZA tu funci√≥n actual por esta versi√≥n segura
function mostrarPanelReviews() {
    mostrarPanelReviewsSeguro();
}

  function toggleModalCarrito(forceOpen = null) {
    const modal = document.getElementById('modal-carrito');
    const willOpen = forceOpen === null ? modal.classList.contains('opacity-0') : forceOpen;
    modal.classList.toggle('opacity-0', !willOpen);
    modal.classList.toggle('pointer-events-none', !willOpen);
    document.body.classList.toggle('modal-active', willOpen);
  }

  function renderizarCarrito() {
    const cont = document.getElementById('carrito-lista');
    if (!cont) return;
    if (carrito.length === 0) {
      cont.innerHTML = `<p class="text-gray-500 py-6 text-center">Tu carrito est√° vac√≠o.</p>`;
      document.getElementById('carrito-total').textContent = 'Gs. 0';
      return;
    }
    let total = 0;
    cont.innerHTML = carrito.map((p, i) => {
      total += parseGs(p.precio);
      return `
        <div class="flex items-center justify-between py-3 border-b">
          <div class="flex-1 pr-3">
            <p class="font-medium text-gray-800">${p.nombre}</p>
            <p class="text-sm text-green-700 font-semibold">${p.precio}</p>
          </div>
          <button onclick="quitarDelCarrito(${i})"
                  class="text-red-500 hover:text-red-700 font-semibold px-2 py-1 rounded hover:bg-red-50 transition">‚úï</button>
        </div>`;
    }).join('');
    document.getElementById('carrito-total').textContent = formatearGs(total);
  }

  function verCarrito() {
    renderizarCarrito();
    toggleModalCarrito(true);
  }

  function quitarDelCarrito(i) {
    carrito.splice(i, 1);
    actualizarContador();
    renderizarCarrito();
  }

  function vaciarCarrito() {
    if (carrito.length === 0) return;
    if (confirm('¬øEst√°s seguro de que quieres vaciar el carrito?')) {
      carrito = [];
      actualizarContador();
      renderizarCarrito();
    }
  }

  function enviarCarritoWhatsApp() {
    if (carrito.length === 0) { 
      mostrarNotificacion("Tu carrito est√° vac√≠o üõí"); 
      return; 
    }
    const numero = "595972292392";
    const cuerpo = carrito.map((p, i) => `${i+1}. ${p.nombre} - ${p.precio}`).join('%0A');
    const total = carrito.reduce((sum, p) => sum + parseGs(p.precio), 0);
    const url = `https://wa.me/${numero}?text=¬°Hola! Quiero comprar los siguientes productos:%0A%0A${cuerpo}%0A%0A*Total: ${formatearGs(total)}*`;
    window.open(url, "_blank");
  }

 // =============================================
// INICIALIZACI√ìN DE EVENTOS DEL MODAL - VERSI√ìN COMPLETA
// =============================================
function initModalEvents() {
  console.log('üîß Inicializando eventos del modal...');
  
  // Cerrar modal de producto al hacer clic en la X
  const modalCloseBtn = document.querySelector('#modal-producto .modal-close');
  if (modalCloseBtn) {
    modalCloseBtn.addEventListener('click', function(e) {
      e.preventDefault();
      e.stopPropagation();
      console.log('‚ùå Cerrar modal producto (X)');
      toggleModalProducto();
    });
  }
  
  // Cerrar modal de producto al hacer clic fuera
  const modalOverlay = document.querySelector('#modal-producto .modal-overlay');
  if (modalOverlay) {
    modalOverlay.addEventListener('click', function(e) {
      if (e.target === this) {
        console.log('‚ùå Cerrar modal producto (overlay)');
        toggleModalProducto();
      }
    });
  }
  
  // Cerrar modal de descripci√≥n al hacer clic en la X
  const descModalClose = document.querySelector('#modal-descripcion .modal-close');
  if (descModalClose) {
    descModalClose.addEventListener('click', function(e) {
      e.preventDefault();
      e.stopPropagation();
      console.log('‚ùå Cerrar modal descripci√≥n (X)');
      toggleModal();
    });
  }
  
  // Cerrar modal de descripci√≥n al hacer clic fuera
  const descModalOverlay = document.querySelector('#modal-descripcion .modal-overlay');
  if (descModalOverlay) {
    descModalOverlay.addEventListener('click', function(e) {
      if (e.target === this) {
        console.log('‚ùå Cerrar modal descripci√≥n (overlay)');
        toggleModal();
      }
    });
  }
  
  // Cerrar modal de carrito al hacer clic en la X
  const carritoCloseBtns = document.querySelectorAll('#modal-carrito .modal-carrito-close');
  carritoCloseBtns.forEach(btn => {
    btn.addEventListener('click', function(e) {
      e.preventDefault();
      e.stopPropagation();
      console.log('‚ùå Cerrar modal carrito (X)');
      toggleModalCarrito(false);
    });
  });
  
  // Cerrar modal de carrito al hacer clic fuera
  const carritoOverlay = document.querySelector('#modal-carrito .modal-overlay');
  if (carritoOverlay) {
    carritoOverlay.addEventListener('click', function(e) {
      if (e.target === this) {
        console.log('‚ùå Cerrar modal carrito (overlay)');
        toggleModalCarrito(false);
      }
    });
  }
}

// Cerrar modal con tecla ESC - VERSI√ìN COMPLETA
document.addEventListener('keydown', function(evt) {
  evt = evt || window.event;
  let isEscape = false;
  if ("key" in evt) {
    isEscape = (evt.key === "Escape" || evt.key === "Esc");
  } else {
    isEscape = (evt.keyCode === 27);
  }
  
  if (!isEscape) return;
  
  const modalDescripcion = document.getElementById('modal-descripcion');
  const modalProducto = document.getElementById('modal-producto');
  const modalCarrito = document.getElementById('modal-carrito');
  
  console.log('‚å®Ô∏è Tecla ESC presionada');
  
  // Cerrar modal de producto si est√° abierto
  if (modalProducto && !modalProducto.classList.contains('pointer-events-none')) {
    console.log('‚ùå Cerrando modal producto con ESC');
    toggleModalProducto();
  }
  // Cerrar modal de descripci√≥n si est√° abierto
  else if (modalDescripcion && !modalDescripcion.classList.contains('pointer-events-none')) {
    console.log('‚ùå Cerrando modal descripci√≥n con ESC');
    toggleModal();
  }
  // Cerrar modal de carrito si est√° abierto
  else if (modalCarrito && !modalCarrito.classList.contains('pointer-events-none')) {
    console.log('‚ùå Cerrando modal carrito con ESC');
    toggleModalCarrito(false);
  }
});
  // Cierre por overlay / bot√≥n ‚úï
  document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('#modal-carrito .modal-overlay, #modal-carrito .modal-carrito-close')
      .forEach(el => el.addEventListener('click', () => toggleModalCarrito(false)));
  });
// =============================================
// MODO OSCURO
// =============================================
function initDarkMode() {
  const toggleBtn = document.getElementById('toggle-dark-mode');
  
  // Si el bot√≥n no existe (est√° comentado), salir silenciosamente
  if (!toggleBtn) {
    return;
  }
  
  const darkIcon = document.getElementById('dark-icon');
  const lightIcon = document.getElementById('light-icon');
  
  // Verificar que los iconos existan
  if (!darkIcon || !lightIcon) {
    console.warn('Iconos de modo oscuro no encontrados');
    return;
  }
  
  // Verificar preferencia guardada o del sistema
  const isDark = localStorage.getItem('darkMode') === 'true' || 
                 (!localStorage.getItem('darkMode') && window.matchMedia('(prefers-color-scheme: dark)').matches);
  
  // Aplicar modo inicial
  if (isDark) {
    document.documentElement.classList.add('dark');
    darkIcon.classList.add('hidden');
    lightIcon.classList.remove('hidden');
  } else {
    document.documentElement.classList.remove('dark');
    darkIcon.classList.remove('hidden');
    lightIcon.classList.add('hidden');
  }
  
  // Toggle al hacer clic
  toggleBtn.addEventListener('click', () => {
    const isDark = document.documentElement.classList.toggle('dark');
    localStorage.setItem('darkMode', isDark);
    
    // Cambiar iconos
    darkIcon.classList.toggle('hidden');
    lightIcon.classList.toggle('hidden');
  });
}

// Inicializar cuando cargue la p√°gina
document.addEventListener('DOMContentLoaded', initDarkMode);
  // =============================================
// MEJORAS DE USABILIDAD - AGREGAR ESTO AL FINAL
// =============================================

// Mejorar la funci√≥n de mostrarModalProducto para manejar errores
function mostrarModalProducto(id) {
    const producto = componentesSueltos.find(comp => comp.id === id);
    if (!producto) {
        console.error('Producto no encontrado con ID:', id);
        mostrarNotificacion('‚ùå Producto no encontrado');
        return;
    }
    
    try {
        // Llenar modal con datos del producto
        document.getElementById('modal-producto-nombre').textContent = producto.nombre;
        document.getElementById('modal-producto-precio').textContent = producto.precio;
        document.getElementById('modal-producto-descripcion').textContent = producto.descripcion || 'Descripci√≥n no disponible';
        document.getElementById('modal-producto-imagen').src = producto.imagen;
        document.getElementById('modal-producto-imagen').alt = producto.nombre;
        
        // Stock
        const stockElement = document.getElementById('modal-producto-stock');
        const disponible = producto.stock === 'disponible';
        stockElement.textContent = disponible ? 'En stock' : 'Sin existencias';
        stockElement.className = `ml-4 px-2 py-1 text-xs rounded-full ${disponible ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`;
        
        // Especificaciones
        const especElement = document.getElementById('modal-producto-especificaciones');
        if (producto.especificaciones && producto.especificaciones.length > 0) {
            especElement.innerHTML = producto.especificaciones.map(spec => 
                `<div class="flex"><span class="mr-2">‚Ä¢</span><span>${spec}</span></div>`
            ).join('');
        } else {
            especElement.innerHTML = '<p class="text-gray-500">No hay especificaciones disponibles</p>';
        }
        
        // Thumbnails
        const imagenes = producto.imagenes || [producto.imagen];
        imagenes.forEach((img, index) => {
            const thumb = document.getElementById(`modal-producto-thumb${index + 1}`);
            if (thumb) {
                thumb.src = img;
                thumb.alt = `${producto.nombre} - vista ${index + 1}`;
                thumb.style.display = 'block';
                thumb.onclick = () => document.getElementById('modal-producto-imagen').src = img;
            }
        });
        
        // Ocultar thumbs no utilizados
        for (let i = imagenes.length; i < 4; i++) {
            const thumb = document.getElementById(`modal-producto-thumb${i + 1}`);
            if (thumb) thumb.style.display = 'none';
        }
        
        toggleModalProducto();
    } catch (error) {
        console.error('Error mostrando modal:', error);
        mostrarNotificacion('‚ùå Error al cargar detalles del producto');
    }
    // Llenar secci√≥n de reviews
    setTimeout(() => {
        const reviewsContainer = document.getElementById('modal-producto-reviews');
        if (reviewsContainer) {
            reviewsContainer.innerHTML = renderizarReviewsEnModal(producto.nombre);
        }
    }, 100);
}

// Inicializaci√≥n mejorada cuando carga la p√°gina
document.addEventListener('DOMContentLoaded', function() {
    // =============================================
    // INICIALIZAR SISTEMA DE SEGURIDAD Y REVIEWS
    // =============================================
    inicializarSistemaSeguridad();
    agregarBotonAdminSeguro();
    console.log('‚úÖ Sistema de reviews y seguridad inicializado');
    console.log('üîë M√©todos de acceso admin:');
    console.log('   - URL secreta: ?admin=innovakit_paraguay_admin');
    console.log('   - Teclas: Ctrl+Alt+I (muestra bot√≥n üëë)');
    console.log('   - Consola: mostrarPanelReviews()');
    console.log('üöÄ Inicializando Innovakit...');
    
    // Cargar productos autom√°ticamente
    cargarProductos();
    
    // Inicializar modo oscuro si existe
    if (typeof initDarkMode === 'function') {
        initDarkMode();
    }
   
    // Event listeners para filtros (mejorados)
    const buscarInput = document.getElementById('buscar-componente');
    if (buscarInput) {
        let searchTimeout;
        buscarInput.addEventListener('input', function() {
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(() => {
                paginaActual = 1;
                renderizarComponentesSueltos();
            }, 300);
        });
    }
    
    // Filtros
    const filtroCategoria = document.getElementById('filtro-categoria');
    const filtroPrecio = document.getElementById('filtro-precio');
    
    [filtroCategoria, filtroPrecio].forEach(filter => {
        if (filter) {
            filter.addEventListener('change', function() {
                paginaActual = 1;
                renderizarComponentesSueltos();
            });
        }
    });
    
    // Cerrar modales
    document.querySelectorAll('.modal-overlay, .modal-close').forEach(el => {
        el.addEventListener('click', function() {
            const modal = this.closest('.modal');
            if (modal.id === 'modal-producto') {
                toggleModalProducto();
            }
        });
    });
        // Inicializar eventos de modales
    initModalEvents();
    console.log('‚úÖ Innovakit inicializado correctamente');
  // Inicializar history state al cargar
    if (!history.state) {
        history.replaceState({vista: 'inicio'}, '', '#inicio');
    }
    
    // Manejar hash en URL al cargar (por si alguien viene con un enlace directo)
    if (window.location.hash) {
        const hash = window.location.hash;
        if (hash.includes('productoskit')) {
            const kitId = hash.split('-')[1];
            if (kitId) navegarA('productoskit', { kitId: parseInt(kitId) });
        } else if (hash === '#asesorias') {
            navegarA('asesorias');
        } else if (hash === '#componentes') {
            navegarA('componentes');
        }
    }
    // CARGAR TESTIMONIOS REALES
    cargarTestimoniosReales();
  console.log('üöÄ Innovakit FASE 5 - UX/UI Mejorada');
    trackEvent('Navegaci√≥n', 'P√°gina Vista', 'Inicio');
});
       // =============================================
// HISTORY API PARA NAVEGACI√ìN M√ìVIL - CORREGIDO
// =============================================

// Variable para controlar si ya estamos en proceso de navegaci√≥n
let navegando = false;

// Funci√≥n para cambiar vista y actualizar history - CORREGIDA
function navegarA(vista, data = {}) {
    // Prevenir navegaciones m√∫ltiples simult√°neas
    if (navegando) return;
    navegando = true;
    
    console.log('üîÑ Navegando a:', vista, data);
    
    // Ocultar todas las vistas
    document.getElementById('main-content').style.display = 'none';
    document.getElementById('vista-productoskit').classList.add('hidden');
    document.getElementById('vista-asesorias').classList.add('hidden');
    document.getElementById('vista-componentes-sueltos').classList.add('hidden');
    
    // Mostrar vista solicitada
    switch(vista) {
        case 'inicio':
            document.getElementById('main-content').style.display = '';
            history.pushState({vista: 'inicio'}, '', '#inicio');
            break;
        case 'productoskit':
            document.getElementById('vista-productoskit').classList.remove('hidden');
            history.pushState({vista: 'productoskit', data: data}, '', `#productoskit-${data.kitId}`);
            // Llamar a la funci√≥n original de productoskit SIN scroll autom√°tico
            if (data.kitId) {
                setTimeout(() => {
                    verProductosKitOriginal(data.kitId);
                    navegando = false; // Liberar el bloqueo despu√©s de la ejecuci√≥n
                }, 50);
            }
            break;
        case 'asesorias':
            document.getElementById('vista-asesorias').classList.remove('hidden');
            history.pushState({vista: 'asesorias'}, '', '#asesorias');
            // Llamar a la funci√≥n original de asesor√≠as SIN scroll autom√°tico
            setTimeout(() => {
                verAsesoriasOriginal();
                navegando = false; // Liberar el bloqueo despu√©s de la ejecuci√≥n
            }, 50);
            break;
        case 'componentes':
            document.getElementById('vista-componentes-sueltos').classList.remove('hidden');
            history.pushState({vista: 'componentes'}, '', '#componentes');
            // Llamar a la funci√≥n original de componentes SIN scroll autom√°tico
            setTimeout(() => {
                verComponentesSueltosOriginal();
                navegando = false; // Liberar el bloqueo despu√©s de la ejecuci√≥n
            }, 50);
            break;
    }
    
    // Liberar el bloqueo despu√©s de un tiempo
    setTimeout(() => {
        navegando = false;
    }, 100);
}

// Manejar bot√≥n atr√°s/adelante del navegador - FUERA de la funci√≥n navegarA
window.addEventListener('popstate', function(event) {
    console.log('üîô Popstate:', event.state);
    if (event.state && event.state.vista) {
        navegarA(event.state.vista, event.state.data || {});
    } else {
        navegarA('inicio');
    }
});

// Guardar las funciones originales
const verProductosKitOriginal = verProductosKit;
const verAsesoriasOriginal = verAsesorias;
const verComponentesSueltosOriginal = verComponentesSueltos;

    // =============================================
    // LAZY LOADING AVANZADO - FASE 2
    // =============================================
  // Lazy Loading Avanzado con Intersection Observer
function initAdvancedLazyLoading() {
    if ('IntersectionObserver' in window) {
        const imageObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const img = entry.target;
                    
                    // Cargar imagen principal
                    if (img.dataset.src) {
                        img.src = img.dataset.src;
                        img.classList.remove('lazy');
                    }
                    
                    // Cargar srcset si existe
                    if (img.dataset.srcset) {
                        img.srcset = img.dataset.srcset;
                    }
                    
                    imageObserver.unobserve(img);
                }
            });
        }, {
            rootMargin: '50px 0px', // Carga 50px antes de entrar en vista
            threshold: 0.1
        });

        // Observar todas las im√°genes con data-src
        document.querySelectorAll('img[data-src]').forEach(img => {
            // Agregar imagen de placeholder peque√±a
            if (!img.src) {
                img.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yMCAxM0MxNi4xMyAxMyAxMyAxNi4xMyAxMyAyMEMxMyAyMy44NyAxNi4xMyAyNyAyMCAyN0MyMy44NyAyNyAyNyAyMy44NyAyNyAyMEMyNyAxNi4xMyAyMy44NyAxMyAyMCAxM1pNMjAgMjVDMTcuMjQgMjUgMTUgMjIuNzYgMTUgMjBDMTUgMTcuMjQgMTcuMjQgMTUgMjAgMTVDMjIuNzYgMTUgMjUgMTcuMjQgMjUgMjBDMjUgMjIuNzYgMjIuNzYgMjUgMjAgMjVaIiBmaWxsPSIjOEU5N0FBIi8+CjxwYXRoIGQ9Ik0yNi42NiAxNS4zNEwyNC4zOCAxM0wyMi4xNCAxNS4yNkwyMC4zMiAxMy40NEwxOC4wNiAxNS43TDE1LjgyIDEzLjQ0TDE0LjY2IDE0LjZMMTcuMzQgMTcuMjZMMTQuNjYgMTkuOTRMMTUuODIgMjEuMUwxOC4xOCAxOC43NEwyMC40NCAyMUwyMi4yMiAxOS4yMkwyNC41IDIxLjVMMjUuNjYgMjAuMzRMMjMuMTggMTcuODZMMjUuODYgMTUuMThMMjYuNjYgMTUuMzRaIiBmaWxsPSIjOEU5N0FBIi8+Cjwvc3ZnPgo=';
            }
            imageObserver.observe(img);
        });
    } else {
        // Fallback para navegadores antiguos
        document.querySelectorAll('img[data-src]').forEach(img => {
            img.src = img.dataset.src;
        });
    }
}
  // =============================================
  // NUEVO SISTEMA DE FILTROS CON HOVER
  // =============================================
  // JavaScript para el nuevo sistema de filtros
document.addEventListener('DOMContentLoaded', function() {
  // Cerrar dropdowns al hacer clic fuera
  document.addEventListener('click', function(e) {
    if (!e.target.closest('#filtro-categoria-container')) {
      const dropdowns = document.querySelectorAll('.subcategory-panel');
      dropdowns.forEach(panel => {
        panel.classList.add('opacity-0', 'invisible', 'scale-95');
        panel.classList.remove('opacity-100', 'visible', 'scale-100');
      });
    }
  });

  // Manejar clics en categor√≠as y subcategor√≠as
  document.querySelectorAll('#filtro-categoria-container button').forEach(button => {
    button.addEventListener('click', function(e) {
      e.stopPropagation();
      const category = this.textContent.trim();
      
      // Si es una subcategor√≠a, aplicar filtro
      if (this.closest('.subcategory-panel')) {
        aplicarFiltroCategoria(category);
      }
    });
  });
});

function aplicarFiltroCategoria(categoria) {
    console.log('Filtrando por:', categoria);
      mostrarNotificacion(`Filtrando por: ${categoria}`);
    // Ocultar el dropdown
    const dropdowns = document.querySelectorAll('.subcategory-panel');
    dropdowns.forEach(panel => {
        panel.classList.add('opacity-0', 'invisible', 'scale-95');
    });

    // Resetear a primera p√°gina
    paginaActual = 1;

    // MAPA COMPLETO DE CATEGOR√çAS Y SUBCATEGOR√çAS
    const categoriasMap = {
        // Sensores y sus subcategor√≠as
        'Temperatura': ['temperatura', 'termistor', 'lm35', 'dht11', 'dht22', 'ds18b20'],
        'Humedad': ['humedad', 'dht11', 'dht22'],
        'Movimiento': ['movimiento', 'pir', 'aceler√≥metro', 'giroscopio'],
        'Luz': ['luz', 'fotorresistencia', 'ldr', 'fotosensible'],

        // Motores y sus subcategor√≠as
        'Servo Motores': ['servo', 'sg90'],
        'Stepper': ['stepper', 'paso a paso'],
        'DC Motors': ['motor dc', 'motor corriente continua'],

        // Displays y sus subcategor√≠as
        'LCD 16x2': ['lcd', '16x2', 'pantalla lcd'],
        'Matriz LED': ['matriz led', 'max7219', '8x8'],
        'OLED': ['oled', 'pantalla oled', 'display oled'],

        // Categor√≠as principales
        'M√≥dulos': ['m√≥dulo', 'module', 'shield'],
        'Placas': ['placa', 'board', 'arduino', 'esp32', 'esp8266'],
        'Raspberry Pi': ['raspberry', 'pi', 'rpi'],

        // Categor√≠as generales
        'Sensores': ['sensor', 'detector', 'medidor'],
        'Motores': ['motor', 'servo', 'stepper'],
        'Displays': ['display', 'pantalla', 'lcd', 'oled', 'led']
    };

    // Obtener t√©rminos de b√∫squeda para esta categor√≠a
    const terminosBusqueda = categoriasMap[categoria] || [categoria.toLowerCase()];

    console.log('Buscando t√©rminos:', terminosBusqueda);

    // Filtrar productos
    const productosFiltrados = componentesSueltos.filter(comp => {
        const textoBusqueda = (
            comp.nombre.toLowerCase() + ' ' + 
            (comp.descripcion || '').toLowerCase() + ' ' +
            (comp.categoria || '').toLowerCase() + ' ' +
            (comp.especificaciones ? comp.especificaciones.join(' ').toLowerCase() : '')
        );

        return terminosBusqueda.some(termino => 
            textoBusqueda.includes(termino.toLowerCase())
        );
    });

    console.log(`Encontrados ${productosFiltrados.length} productos para "${categoria}"`);

    // Actualizar la vista
renderizarComponentesFiltradosConPaginacion(productosFiltrados, categoria);
    mostrarNotificacion(`Filtrando por: ${categoria} (${productosFiltrados.length} productos)`);
}

// AGREGA ESTA NUEVA FUNCI√ìN despu√©s de aplicarFiltroCategoria
function renderizarComponentesFiltradosConPaginacion(productosFiltrados, categoriaFiltro = '') {
    const grid = document.getElementById('grid-componentes');
    const loading = document.getElementById('loading-componentes');
    
    // Ocultar loading
    if (loading) loading.classList.add('hidden');
    
    // Mostrar informaci√≥n del filtro aplicado
    const infoFiltro = categoriaFiltro ? 
        `<div class="col-span-full mb-4 p-3 bg-blue-50 rounded-lg">
            <div class="flex items-center justify-between">
                <span class="font-semibold text-blue-800">Filtro aplicado: ${categoriaFiltro}</span>
                <button onclick="limpiarFiltros()" class="text-blue-600 hover:text-blue-800 text-sm font-semibold">
                    Limpiar filtro √ó
                </button>
            </div>
            <p class="text-sm text-blue-600 mt-1">Mostrando ${productosFiltrados.length} productos</p>
        </div>` : '';
    
    // CALCULAR PAGINACI√ìN (igual que en renderizarComponentesSueltos)
    const totalComponentes = productosFiltrados.length;
    const totalPaginas = Math.ceil(totalComponentes / componentesPorPagina);
    const inicio = (paginaActual - 1) * componentesPorPagina;
    const fin = inicio + componentesPorPagina;
    const componentesPagina = productosFiltrados.slice(inicio, fin);

    if (componentesPagina.length === 0) {
        grid.innerHTML = infoFiltro + `
            <div class="col-span-full text-center py-8">
                <div class="text-gray-400 text-4xl mb-2">üîç</div>
                <p class="text-gray-600 font-semibold">No se encontraron productos en "${categoriaFiltro}"</p>
                <p class="text-gray-500 text-sm mt-1">Prueba con otra categor√≠a o t√©rmino de b√∫squeda</p>
                <button onclick="limpiarFiltros()" class="mt-3 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">
                    Mostrar todos los productos
                </button>
            </div>
        `;
    } else {
        grid.innerHTML = infoFiltro + componentesPagina.map(comp => `
            <div class="bg-white rounded-lg shadow-sm border hover:shadow-md transition duration-300 cursor-pointer flex flex-col h-full min-h-[370px]" 
                 onclick="mostrarModalProducto(${comp.id})">
              
              <div class="p-4 flex-grow min-h-[140px]">
                <img src="${comp.imagen}" alt="${comp.nombre}" class="w-full h-48 object-contain mb-3 rounded" loading="lazy">
                <h3 class="font-semibold text-lg line-clamp-2">${comp.nombre}</h3>
                <p class="text-sm text-gray-500 mt-1">${comp.categoria || 'Electr√≥nica'}</p>
              </div>
              
              <div class="px-4">
                <p class="text-green-600 font-bold text-lg">${comp.precio}</p>
              </div>
              
              <div class="p-4 pt-1">
                <div class="flex items-center justify-between">
                  <span class="px-2 py-1 text-xs rounded-full ${comp.stock === 'disponible' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}">
                    ${comp.stock === 'disponible' ? 'En stock' : 'Sin stock'}
                  </span>
                  <button class="text-blue-600 hover:text-blue-800 font-semibold text-sm">
                    Ver detalles ‚Ä∫
                  </button>
                </div>
              </div>
            </div>
        `).join('');
        
        console.log('‚úÖ Productos filtrados renderizados:', componentesPagina.length);
    }

    // ACTUALIZAR PAGINACI√ìN (igual que en renderizarComponentesSueltos)
    const infoPaginacion = document.getElementById('info-paginacion');
    const botones = document.querySelectorAll('.pagination-fixed button');

    if (infoPaginacion) {
        infoPaginacion.textContent = `P√°gina ${paginaActual} de ${totalPaginas || 1}`;
    }

    if (botones.length >= 2) {
        botones[0].disabled = paginaActual === 1;
        botones[1].disabled = paginaActual === totalPaginas || totalPaginas === 0;
    }
}
function limpiarFiltros() {
    paginaActual = 1;
    
    // Limpiar campo de b√∫squeda
    const buscarInput = document.getElementById('buscar-componente');
    if (buscarInput) buscarInput.value = '';
    
    // Resetear selects
    const filtroPrecio = document.getElementById('filtro-precio');
    if (filtroPrecio) filtroPrecio.value = 'todos';
    
    // Renderizar todos los productos
    renderizarComponentesSueltos();
    mostrarNotificacion('Filtros limpiados ‚úÖ Mostrando todos los productos');
}
   // =============================================
    // Funci√≥n para lazy loading de im√°genes (AGREGAR AL FINAL DEL SCRIPT)
    // =============================================
    function initLazyLoading() {
        if ('IntersectionObserver' in window) {
            const imageObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        img.src = img.dataset.src;
                        img.classList.remove('lazy');
                        imageObserver.unobserve(img);
                    }
                });
            });

            document.querySelectorAll('img[data-src]').forEach(img => {
                imageObserver.observe(img);
            });
        }
    }

    // Inicializaci√≥n mejorada cuando carga la p√°gina (REEMPLAZA la actual)
    document.addEventListener('DOMContentLoaded', function() {
        console.log('üöÄ Inicializando Innovakit...');
        
        // Inicializar lazy loading
        initLazyLoading();
        
        // Cargar productos autom√°ticamente
        cargarProductos();
        
        // Inicializar modo oscuro si existe
        if (typeof initDarkMode === 'function') {
            initDarkMode();
        }
        
        // Event listeners para filtros (mejorados)
        const buscarInput = document.getElementById('buscar-componente');
        if (buscarInput) {
            let searchTimeout;
            buscarInput.addEventListener('input', function() {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(() => {
                    paginaActual = 1;
                    renderizarComponentesSueltos();
                }, 300);
            });
        }
        
        // Filtros
        const filtroCategoria = document.getElementById('filtro-categoria');
        const filtroPrecio = document.getElementById('filtro-precio');
        
        [filtroCategoria, filtroPrecio].forEach(filter => {
            if (filter) {
                filter.addEventListener('change', function() {
                    paginaActual = 1;
                    renderizarComponentesSueltos();
                });
            }
        });
        
        // Cerrar modales
        document.querySelectorAll('.modal-overlay, .modal-close').forEach(el => {
            el.addEventListener('click', function() {
                const modal = this.closest('.modal');
                if (modal.id === 'modal-producto') {
                    toggleModalProducto();
                }
            });
        });
        
        console.log('‚úÖ Innovakit inicializado correctamente');
    });   // üéØ CIERRE CORRECTO DEL DOMContentLoaded

    // =============================================
    // SERVICE WORKER PARA CACHE - FASE 2
    // =============================================
    
    // Registrar Service Worker para cache
    /*if ('serviceWorker' in navigator) {
        window.addEventListener('load', function() {
            navigator.serviceWorker.register('/sw.js')
                .then(registration => {
                    console.log('‚úÖ Service Worker registrado:', registration);
                })
                .catch(error => {
                    console.log('‚ùå Error registrando Service Worker:', error);
                });
        });
    }

    // =============================================
    // PWA INSTALL PROMPT - FASE 3
    // =============================================
    
    let deferredPrompt;
    const installButton = document.createElement('button');
    
    // Crear bot√≥n de instalaci√≥n
    function createInstallButton() {
        installButton.innerHTML = 'üì≤ Instalar App';
        installButton.className = 'fixed bottom-24 right-6 z-50 bg-blue-600 text-white px-4 py-3 rounded-full shadow-lg hover:bg-blue-700 transition-all duration-300 hidden';
        installButton.onclick = installPWA;
        
        document.body.appendChild(installButton);
    }
    
    // Mostrar prompt de instalaci√≥n
    window.addEventListener('beforeinstallprompt', (e) => {
        e.preventDefault();
        deferredPrompt = e;
        
        // Mostrar bot√≥n despu√©s de 5 segundos
        setTimeout(() => {
            installButton.classList.remove('hidden');
            installButton.classList.add('animate-bounce');
        }, 5000);
        
        // Ocultar despu√©s de 15 segundos
        setTimeout(() => {
            installButton.classList.add('hidden');
        }, 15000);
    });
    
    // Instalar PWA
    async function installPWA() {
        if (deferredPrompt) {
            deferredPrompt.prompt();
            const { outcome } = await deferredPrompt.userChoice;
            
            if (outcome === 'accepted') {
                console.log('‚úÖ Usuario instal√≥ la PWA');
                installButton.classList.add('hidden');
            }
            
            deferredPrompt = null;
        }
    }
    
    // Detectar si ya est√° instalado
    window.addEventListener('appinstalled', () => {
        console.log('üéâ PWA instalada correctamente');
        installButton.classList.add('hidden');
    });
    
    // Inicializar bot√≥n de instalaci√≥n
    createInstallButton();
// =============================================
// MEJORAS UX/UI - FASE 5 (CORREGIDO)
// =============================================
*/
// 1. Sistema de notificaciones mejorado
function mostrarNotificacion(mensaje, tipo = 'success', duracion = 4000) {
    const notificacion = document.createElement('div');
    notificacion.className = `notification notification-${tipo}`;
    notificacion.innerHTML = `
        <i class="fas fa-${tipo === 'success' ? 'check-circle' : tipo === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
        <span>${mensaje}</span>
    `;
    
    document.body.appendChild(notificacion);
    
    setTimeout(() => {
        notificacion.style.animation = 'slideInRight 0.5s ease-out reverse';
        setTimeout(() => {
            if (document.body.contains(notificacion)) {
                document.body.removeChild(notificacion);
            }
        }, 500);
    }, duracion);
}

// 2. Feedback t√°ctil (solo en m√≥viles)
function proporcionarFeedbackTactil() {
    if ('vibrate' in navigator) {
        navigator.vibrate(50);
    }
}

// 3. Analytics mejorado
function trackEvent(categoria, accion, etiqueta = '') {
    if (typeof gtag !== 'undefined') {
        gtag('event', accion, {
            'event_category': categoria,
            'event_label': etiqueta
        });
    }
    console.log(`üìä Analytics: ${categoria} - ${accion} - ${etiqueta}`);
}

// 4. Funci√≥n actualizarContador se mantiene como la ORIGINAL (no duplicar)}
  // =============================================
// MEJORAS ESPEC√çFICAS PARA M√ìVIL - MODAL DE PRODUCTO
// =============================================

function toggleModalProducto() {
  const modal = document.getElementById('modal-producto');
  const isOpening = modal.classList.contains('opacity-0');
  
  modal.classList.toggle('opacity-0');
  modal.classList.toggle('pointer-events-none');
  document.body.classList.toggle('modal-active', isOpening);
  
  // En m√≥vil, prevenir scroll del body cuando el modal est√° abierto
  if (window.innerWidth <= 768) {
    if (isOpening) {
      document.body.style.overflow = 'hidden';
    } else {
      document.body.style.overflow = '';
    }
  }
}

// Cerrar modal al hacer clic fuera (mejorado para m√≥vil)
document.addEventListener('DOMContentLoaded', function() {
  document.querySelector('#modal-producto .modal-overlay').addEventListener('click', function(e) {
    if (window.innerWidth <= 768) {
      e.preventDefault();
      e.stopPropagation();
    }
    toggleModalProducto();
  });
  
  document.querySelector('#modal-producto .modal-close').addEventListener('click', function(e) {
    if (window.innerWidth <= 768) {
      e.preventDefault();
      e.stopPropagation();
    }
    toggleModalProducto();
  });
});

// Prevenir problemas de zoom en iOS en inputs
document.addEventListener('DOMContentLoaded', function() {
  if (/iPhone|iPad|iPod/.test(navigator.userAgent)) {
    document.addEventListener('focus', function(e) {
      if (e.target.matches('input, select, textarea')) {
        setTimeout(() => {
          e.target.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }, 100);
      }
    }, true);
  }
});
      // =============================================
// SISTEMA DE FILTROS M√ìVIL JER√ÅRQUICO
// =============================================

// Datos de categor√≠as y subcategor√≠as
const categoriasMovil = {
  'Sensores': {
    icono: 'fas fa-microchip',
    color: 'text-green-500',
    subcategorias: {
      'Temperatura': { icono: 'fas fa-thermometer-half', color: 'text-orange-500' },
      'Humedad': { icono: 'fas fa-tint', color: 'text-blue-500' },
      'Movimiento': { icono: 'fas fa-running', color: 'text-purple-500' },
      'Luz': { icono: 'fas fa-sun', color: 'text-yellow-500' },
      'Sonido': { icono: 'fas fa-volume-up', color: 'text-red-500' },
      'Distancia': { icono: 'fas fa-arrows-alt-h', color: 'text-indigo-500' },
      'Gas': { icono: 'fas fa-wind', color: 'text-gray-500' }
    }
  },
  'Motores': {
    icono: 'fas fa-cog',
    color: 'text-red-500', 
    subcategorias: {
      'Servo Motores': { icono: 'fas fa-robot', color: 'text-red-400' },
      'Stepper': { icono: 'fas fa-sync-alt', color: 'text-red-400' },
      'DC Motors': { icono: 'fas fa-bolt', color: 'text-red-400' }
    }
  },
  'Displays': {
    icono: 'fas fa-tv',
    color: 'text-purple-500',
    subcategorias: {
      'LCD 16x2': { icono: 'fas fa-hashtag', color: 'text-purple-400' },
      'Matriz LED': { icono: 'fas fa-th', color: 'text-purple-400' },
      'OLED': { icono: 'fas fa-mobile-alt', color: 'text-purple-400' },
      '7 Segmentos': { icono: 'fas fa-square', color: 'text-purple-400' }
    }
  },
  'Placas': {
    icono: 'fas fa-microchip',
    color: 'text-gray-500',
    subcategorias: {
      'Arduino': { icono: 'fas fa-microchip', color: 'text-blue-400' },
      'ESP32': { icono: 'fas fa-wifi', color: 'text-green-400' },
      'Raspberry Pi': { icono: 'fab fa-raspberry-pi', color: 'text-red-500' }
    }
  },
  'M√≥dulos': {
    icono: 'fas fa-puzzle-piece',
    color: 'text-yellow-500',
    subcategorias: {
      'RFID': { icono: 'fas fa-id-card', color: 'text-yellow-400' },
      'Bluetooth': { icono: 'fas fa-bluetooth', color: 'text-blue-400' },
      'WiFi': { icono: 'fas fa-wifi', color: 'text-green-400' },
      'Rel√©': { icono: 'fas fa-toggle-on', color: 'text-red-400' }
    }
  }
};

let categoriaActual = null;

function mostrarModalFiltros() {
  console.log('üì± Abriendo modal de filtros m√≥vil');
  document.getElementById('modal-filtros').classList.remove('hidden');
  document.body.style.overflow = 'hidden';
  mostrarCategoriasPrincipales();
}

function cerrarModalFiltros() {
  console.log('üì± Cerrando modal de filtros m√≥vil');
  document.getElementById('modal-filtros').classList.add('hidden');
  document.body.style.overflow = '';
  categoriaActual = null;
}

function mostrarCategoriasPrincipales() {
  categoriaActual = null;
  const contenido = document.getElementById('contenido-filtros');
  const titulo = document.getElementById('modal-filtros-titulo');
  const btnVolver = document.getElementById('btn-volver-categorias');
  
  titulo.textContent = 'Categor√≠as';
  btnVolver.classList.add('hidden');
  
  let html = '<div class="space-y-3">';
  
  Object.keys(categoriasMovil).forEach(categoria => {
    const cat = categoriasMovil[categoria];
    const tieneSubcategorias = Object.keys(cat.subcategorias).length > 0;
    
    html += `
      <button onclick="${tieneSubcategorias ? `mostrarSubcategorias('${categoria}')` : `aplicarFiltroCategoria('${categoria}')`}" 
              class="w-full text-left p-4 border rounded-lg hover:bg-blue-50 transition-all duration-200 flex items-center justify-between group">
        <div class="flex items-center gap-3">
          <i class="${cat.icono} ${cat.color} text-lg"></i>
          <span class="font-medium">${categoria}</span>
        </div>
        ${tieneSubcategorias ? '<i class="fas fa-chevron-right text-gray-400 group-hover:text-blue-500 transition-transform duration-300 group-hover:translate-x-1"></i>' : ''}
      </button>
    `;
  });
  
  html += `
    <button onclick="limpiarFiltros()" class="w-full text-center p-4 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200 font-semibold text-gray-700 mt-4">
      <i class="fas fa-times mr-2"></i>
      Limpiar Filtros
    </button>
  </div>`;
  
  contenido.innerHTML = html;
}

function mostrarSubcategorias(categoria) {
  categoriaActual = categoria;
  const contenido = document.getElementById('contenido-filtros');
  const titulo = document.getElementById('modal-filtros-titulo');
  const btnVolver = document.getElementById('btn-volver-categorias');
  
  titulo.textContent = categoria;
  btnVolver.classList.remove('hidden');
  btnVolver.onclick = mostrarCategoriasPrincipales;
  
  const cat = categoriasMovil[categoria];
  let html = '<div class="space-y-3">';
  
  Object.keys(cat.subcategorias).forEach(subcategoria => {
    const sub = cat.subcategorias[subcategoria];
    
    html += `
      <button onclick="aplicarFiltroCategoria('${subcategoria}'); cerrarModalFiltros();" 
              class="w-full text-left p-4 border rounded-lg hover:bg-blue-50 transition-all duration-200 flex items-center gap-3">
        <i class="${sub.icono} ${sub.color} text-lg"></i>
        <span class="font-medium">${subcategoria}</span>
      </button>
    `;
  });
  
  html += '</div>';
  contenido.innerHTML = html;
}

function aplicarFiltrosMovil() {
  console.log('üì± Aplicando filtros desde m√≥vil');
  const precio = document.getElementById('filtro-precio-mobile').value;
  document.getElementById('filtro-precio').value = precio;
  cerrarModalFiltros();
  paginaActual = 1;
  renderizarComponentesSueltos();
}
</script>

</body>
</html>
